/** Built with 2DKit, http://2dkit.com */
'use strict';(function(qg){function m(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function fg(a){return a instanceof Array?function(){return M.iter(a)}:"function"==typeof a.iterator?Ga(a,a.iterator):a.iterator}function Ga(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=rg++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var h={},k=function(){return W.__string_rec(this,"")},Ha=function(a,b){this.r=RegExp(a,b.split("u").join(""))};h.EReg=Ha;Ha.__name__=["EReg"];Ha.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new qa("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new qa("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:M.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?M.substr(a,b,null):M.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=fa.string(M.substr(a,c,null));break}var e=this.matchedPos(),d=d+fa.string(M.substr(a,c,e.pos-c)),d=d+
fa.string(b(this));0==e.len?(d+=fa.string(M.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=fa.string(M.substr(a,c,null)));return d},__class__:Ha};var M=function(){};h.HxOverrides=M;M.__name__=["HxOverrides"];M.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=
a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new qa("Invalid date format : "+a);}};M.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};M.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};M.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};M.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};
var Na=function(){};h["kit.util.Disposable"]=Na;Na.__name__=["kit","util","Disposable"];Na.prototype={__class__:Na};var G=function(){this.$C=null;this.$B=0;this.owner=this.next=null};h["kit.Component"]=G;G.__name__=["kit","Component"];G.__interfaces__=[Na];G.prototype={onAdded:function(){},onRemoved:function(){null!=this.$C&&this.$C.$SF()},onStart:function(){},onStop:function(){},onUpdate:function(a){},onMessage:function(a,b){if(null!=this.$C){var c=this.$C.$QF;if(null!=c&&(c=null!=u[a]?c.getReserved(a):
c.h[a],null!=c&&null!=c.$HG))return c.emit(b),!0}return!1},connect0:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},connect1:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},connect2:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},registerDisposable:function(a){null==this.$C&&(this.$C=new se);null==this.$C.$RF&&(this.$C.$RF=[]);this.$C.$RF.push(a)},dispose:function(){null!=this.owner?this.owner.remove(this):
null!=this.$C&&this.$C.$SF()},get_entitySlot:function(){return-1},$A:function(){},__class__:G,__properties__:{get_entitySlot:"get_entitySlot"}};var s={__ename__:!0,__constructs__:"CString CBool CFloat CInt CArray CEnum CClass".split(" "),CString:["CString",0]};s.CString.toString=k;s.CString.__enum__=s;s.CBool=["CBool",1];s.CBool.toString=k;s.CBool.__enum__=s;s.CFloat=["CFloat",2];s.CFloat.toString=k;s.CFloat.__enum__=s;s.CInt=["CInt",3];s.CInt.toString=k;s.CInt.__enum__=s;s.CArray=function(a){a=["CArray",
4,a];a.__enum__=s;a.toString=k;return a};s.CEnum=function(a){a=["CEnum",5,a];a.__enum__=s;a.toString=k;return a};s.CClass=function(a){a=["CClass",6,a];a.__enum__=s;a.toString=k;return a};var ra=function(){this.onStarted=this.onUpdated=this.onStopped=null;this.spawned=!0;G.call(this)};h["kit.creator.CreatorObject"]=ra;ra.__name__=["kit","creator","CreatorObject"];ra.__super__=G;ra.prototype=m(G.prototype,{get_entitySlot:function(){return 0},onStart:function(){this.$B|=2},onUpdate:function(a){0!=(this.$B&
2)&&(this.$B&=-3,null!=this.onStarted&&(this.owner.yieldForStart(),this.owner.emitMessageToParents(this.onStarted,this.owner)));null!=this.onUpdated&&this.owner.emitMessageToParents(this.onUpdated,this.owner)},onStop:function(){this.$B&=-3;null!=this.onStopped&&this.owner.emitMessageToParents(this.onStopped,this.owner)},__class__:ra});var Oa={__ename__:!0,__constructs__:["Dynamic","Static","Kinematic"],Dynamic:["Dynamic",0]};Oa.Dynamic.toString=k;Oa.Dynamic.__enum__=Oa;Oa.Static=["Static",1];Oa.Static.toString=
k;Oa.Static.__enum__=Oa;Oa.Kinematic=["Kinematic",2];Oa.Kinematic.toString=k;Oa.Kinematic.__enum__=Oa;var Pa=function(){this.chromaKeyEnabled=!1;this.physicsType=Oa.Dynamic;this.collisionGroup=this.collidesWith=this.onBeginContact=this.onEndContact=null;this.sensor=!1;this.restitution=0;this.friction=0.2;this.gravityScale=1;this.fixedRotation=!1;this.density=1;this.physicsEnabled=!1;this.onPointerDown=this.onPointerIn=this.onPointerOut=this.onPointerUp=null;this.pointerEnabled=!0;ra.call(this)};h["ez.Actor"]=
Pa;Pa.__name__=["ez","Actor"];Pa.__super__=ra;Pa.prototype=m(ra.prototype,{onStart:function(){var a=this;ra.prototype.onStart.call(this);if(this.physicsEnabled){var b=this.owner._internal_getFromParents(5),c=b.owner.$aF[9];if(null==c){var d=b.owner,c=new Sb;d.add(c)}var e=b.createObject(this.info);this.owner.add(e);this.fixedRotation&&e.body.setFixedRotation(!0);var g;switch(this.physicsType[1]){case 0:g=2;break;case 1:g=0;break;case 2:g=1}e.body.setType(g);e.body.$9B=this.gravityScale;for(b=e.body.$yB;null!=
b;)b.$TC=this.density,b.$WC=this.friction,b.$XC=this.restitution,b.setSensor(this.sensor),d=b.$ZC,d.categoryBits=c.toBits(this.collisionGroup),null!=this.collidesWith&&(d.maskBits=c.toBits(this.collidesWith)),b.setFilterData(d),b=b.$xB;e.body.resetMassData();null!=this.onBeginContact&&e.get_beginContact().connect(function(b){e.box2d.defer(function(){a.$G(a.onBeginContact)})});null!=this.onEndContact&&e.get_endContact().connect(function(b){e.box2d.defer(function(){a.$G(a.onEndContact)})})}c=this.owner.$aF[3];
null!=c&&(c.set_pointerEnabled(this.pointerEnabled),null!=this.onPointerDown&&c.get_pointerDown().connect(function(b){a.$G(a.onPointerDown)}),null!=this.onPointerIn&&c.get_pointerIn().connect(function(b){a.$G(a.onPointerIn)}),null!=this.onPointerOut&&c.get_pointerOut().connect(function(b){a.$G(a.onPointerOut)}),null!=this.onPointerUp&&c.get_pointerUp().connect(function(b){a.$G(a.onPointerUp)}))},$G:function(a){null!=this.owner&&this.owner.emitMessageToParents(a,this.owner)},__class__:Pa});var Tb=
function(){this.currentObject=null;this.lineDiffX=this.lineIndex=this.touchDownX=0;Pa.call(this)};h.InputController=Tb;Tb.__name__=["InputController"];Tb.__super__=Pa;Tb.prototype=m(Pa.prototype,{onStart:function(){var a=this;Pa.prototype.onStart.call(this);v.$OG.$mF.up.connect(Ga(this,this.handleTouchUp));v.$OG.$mF.down.connect(Ga(this,this.handleTouchDown));v.$OG.$mF.move.connect(Ga(this,this.handleTouchMove));v.$OG.$iF.up.connect(Ga(this,this.handleMouseUp));v.$OG.$iF.down.connect(Ga(this,this.handleMouseDown));
v.$OG.$iF.move.connect(Ga(this,this.handleMouseMove));this.currentObject=this.owner.$aF[3];this.connect1(v.$OG.getKeyboard().down,function(b){switch(b.key[1]){case 0:a.moveLeft();break;case 3:a.moveRight();break;case 67:a.moveLeft();break;case 69:a.moveRight()}})},moveLeft:function(){-1!=this.lineIndex&&(this.lineIndex-=1,this.currentObject.x.animateTo(196.16+this.lineIndex*this.lineDiffX,this.lineChangeTime))},moveRight:function(){1!=this.lineIndex&&(this.lineIndex+=1,this.currentObject.x.animateTo(196.16+
this.lineIndex*this.lineDiffX,this.lineChangeTime))},handleTouchUp:function(a){},handleTouchDown:function(a){},handleTouchMove:function(a){},handleMouseUp:function(a){a=this.touchDownX-a.viewX;0>a&&this.moveLeft();0<a&&this.moveRight()},handleMouseDown:function(a){this.touchDownX=a.viewX},handleMouseMove:function(a){},onUpdate:function(a){Pa.prototype.onUpdate.call(this,a)},onStop:function(){Pa.prototype.onStop.call(this)},__class__:Tb});var Ub=function(){};h.Lambda=Ub;Ub.__name__=["Lambda"];Ub.array=
function(a){var b=[];for(a=fg(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Ub.count=function(a,b){var c=0;if(null==b)for(var d=fg(a)();d.hasNext();)d.next(),++c;else for(d=fg(a)();d.hasNext();){var e=d.next();b(e)&&++c}return c};Math.__name__=["Math"];var Y=function(){};h.Reflect=Y;Y.__name__=["Reflect"];Y.field=function(a,b){try{return a[b]}catch(c){return null}};Y.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+b]:!1;if(e)a[d](c);else a[b]=c};Y.fields=function(a){var b=
[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};Y.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};Y.compare=function(a,b){return a==b?0:a>b?1:-1};var fa=function(){};h.Std=fa;fa.__name__=["Std"];fa.string=function(a){return W.__string_rec(a,"")};fa.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=M.cca(a,1)&&88!=M.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var ga=function(){};
h.StringTools=ga;ga.__name__=["StringTools"];ga.startsWith=function(a,b){return a.length>=b.length?M.substr(a,0,b.length)==b:!1};ga.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?M.substr(a,d-c,c)==b:!1};ga.isSpace=function(a,b){var c=M.cca(a,b);return 8<c&&14>c?!0:32==c};ga.ltrim=function(a){for(var b=a.length,c=0;c<b&&ga.isSpace(a,c);)++c;return 0<c?M.substr(a,c,b-c):a};ga.rtrim=function(a){for(var b=a.length,c=0;c<b&&ga.isSpace(a,b-c-1);)++c;return 0<c?M.substr(a,0,b-c):a};ga.trim=
function(a){return ga.ltrim(ga.rtrim(a))};ga.replace=function(a,b,c){return a.split(b).join(c)};var ya=function(){};h.Type=ya;ya.__name__=["Type"];ya.getSuperClass=function(a){return a.__super__};ya.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};ya.resolveClass=function(a){a=h[a];return null!=a&&a.__name__?a:null};ya.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);
case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],
b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new qa("Too many arguments");}};ya.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};ya.createEnum=function(a,b,c){var d=Y.field(a,b);if(null==d)throw new qa("No such constructor "+b);if(Y.isFunction(d)){if(null==c)throw new qa("Constructor "+
b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new qa("Constructor "+b+" does not need parameters");return d};var rb=function(){this.lowerBound=new z;this.upperBound=new z};h["box2d.collision.AABB"]=rb;rb.__name__=["box2d","collision","AABB"];rb.prototype={getCenter:function(){return new z((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},contains:function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)?this.lowerBound.y<=a.lowerBound.y:
!1)?a.upperBound.x<=this.upperBound.x:!1)?a.upperBound.y<=this.upperBound.y:!1},testOverlap:function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0},combine:function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,
b.upperBound.y)},__class__:rb};var Bc=function(){this.v=new z;this.id=new Ac};h["box2d.collision.ClipVertex"]=Bc;Bc.__name__=["box2d","collision","ClipVertex"];Bc.prototype={set:function(a){this.v.setV(a.v);this.id.set(a.id)},__class__:Bc};var z=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["box2d.common.math.Vec2"]=z;z.__name__=["box2d","common","math","Vec2"];z.make=function(a,b){return new z(a,b)};z.prototype={setZero:function(){this.y=this.x=0},set:function(a,b){null==b&&(b=
0);null==a&&(a=0);this.x=a;this.y=b},setV:function(a){this.x=a.x;this.y=a.y},getNegative:function(){return new z(-this.x,-this.y)},negativeSelf:function(){this.x=-this.x;this.y=-this.y},copy:function(){return new z(this.x,this.y)},multiply:function(a){this.x*=a;this.y*=a},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(2.2250738585072014E-308>a)return 0;
var b=1/a;this.x*=b;this.y*=b;return a},__class__:z};var Ac=function(){this.features=new te;this.features.$M=this};h["box2d.collision.ContactID"]=Ac;Ac.__name__=["box2d","collision","ContactID"];Ac.prototype={set:function(a){this.set_key(a.$H)},set_key:function(a){this.$H=a;this.features.$I=this.$H&255;this.features.$J=(this.$H&65280)>>8&255;this.features.$K=(this.$H&16711680)>>16&255;this.features.$L=(this.$H&-16777216)>>24&255;return this.$H},__class__:Ac,__properties__:{set_key:"set_key"}};var te=
function(){};h["box2d.collision.Features"]=te;te.__name__=["box2d","collision","Features"];te.prototype={set_referenceEdge:function(a){this.$I=a;this.$M.$H=this.$M.$H&-256|this.$I&255;return a},set_incidentEdge:function(a){this.$J=a;this.$M.$H=this.$M.$H&-65281|this.$J<<8&65280;return a},set_incidentVertex:function(a){this.$K=a;this.$M.$H=this.$M.$H&-16711681|this.$K<<16&16711680;return a},set_flip:function(a){this.$L=a;this.$M.$H=this.$M.$H&16777215|this.$L<<24&-16777216;return a},__class__:te,__properties__:{set_flip:"set_flip",
set_incidentVertex:"set_incidentVertex",set_incidentEdge:"set_incidentEdge",set_referenceEdge:"set_referenceEdge"}};var H=function(){};h["box2d.collision.Collision"]=H;H.__name__=["box2d","collision","Collision"];H.clipSegmentToLine=function(a,b,c,d){var e,g=0;e=b[0];var l=e.v;e=b[1];var t=e.v,C=c.x*l.x+c.y*l.y-d;e=c.x*t.x+c.y*t.y-d;0>=C&&a[g++].set(b[0]);0>=e&&a[g++].set(b[1]);0>C*e&&(c=C/(C-e),e=a[g],e=e.v,e.x=l.x+c*(t.x-l.x),e.y=l.y+c*(t.y-l.y),e=a[g],e.id=(0<C?b[0]:b[1]).id,++g);return g};H.edgeSeparation=
function(a,b,c,d,e){var g=a.$f;a=a.$iB;var l=d.$jB,t=d.$f,C,f;C=b.R;f=a[c];a=C.col1.x*f.x+C.col2.x*f.y;d=C.col1.y*f.x+C.col2.y*f.y;C=e.R;var h=C.col1.x*a+C.col1.y*d;C=C.col2.x*a+C.col2.y*d;for(var Q=0,r=1.7976931348623157E308,k=0;k<l;){var N=k++;f=t[N];f=f.x*h+f.y*C;f<r&&(r=f,Q=N)}f=g[c];C=b.R;c=b.position.x+(C.col1.x*f.x+C.col2.x*f.y);b=b.position.y+(C.col1.y*f.x+C.col2.y*f.y);f=t[Q];C=e.R;g=e.position.x+(C.col1.x*f.x+C.col2.x*f.y);e=e.position.y+(C.col1.y*f.x+C.col2.y*f.y);return(g-c)*a+(e-b)*d};
H.findMaxSeparation=function(a,b,c,d,e){var g=b.$jB,l=b.$iB,t,C=e.R;t=d.$hB;var f=e.position.x+(C.col1.x*t.x+C.col2.x*t.y),h=e.position.y+(C.col1.y*t.x+C.col2.y*t.y),C=c.R;t=b.$hB;for(var f=f-(c.position.x+(C.col1.x*t.x+C.col2.x*t.y)),h=h-(c.position.y+(C.col1.y*t.x+C.col2.y*t.y)),C=f*c.R.col1.x+h*c.R.col1.y,h=f*c.R.col2.x+h*c.R.col2.y,f=0,k=-1.7976931348623157E308,r=0;r<g;){var J=r++;t=l[J];t=t.x*C+t.y*h;t>k&&(k=t,f=J)}l=H.edgeSeparation(b,c,f,d,e);k=0<=f-1?f-1:g-1;C=H.edgeSeparation(b,c,k,d,e);
r=f+1<g?f+1:0;h=H.edgeSeparation(b,c,r,d,e);if(C>l&&C>h)t=-1;else if(h>l)t=1,k=r,C=h;else return a[0]=f,l;for(;;)if(f=-1==t?0<=k-1?k-1:g-1:k+1<g?k+1:0,l=H.edgeSeparation(b,c,f,d,e),l>C)k=f,C=l;else break;a[0]=k;return C};H.findIncidentEdge=function(a,b,c,d,e,g){var l=b.$iB,t=e.$jB;b=e.$f;e=e.$iB;var C;C=c.R;c=l[d];var l=C.col1.x*c.x+C.col2.x*c.y,f=C.col1.y*c.x+C.col2.y*c.y;C=g.R;c=C.col1.x*l+C.col1.y*f;f=C.col2.x*l+C.col2.y*f;l=c;C=0;for(var h=1.7976931348623157E308,k=0;k<t;){var r=k++;c=e[r];c=l*
c.x+f*c.y;c<h&&(h=c,C=r)}e=C;l=e+1<t?e+1:0;t=a[0];c=b[e];C=g.R;t.v.x=g.position.x+(C.col1.x*c.x+C.col2.x*c.y);t.v.y=g.position.y+(C.col1.y*c.x+C.col2.y*c.y);t.id.features.set_referenceEdge(d);t.id.features.set_incidentEdge(e);t.id.features.set_incidentVertex(0);t=a[1];c=b[l];C=g.R;t.v.x=g.position.x+(C.col1.x*c.x+C.col2.x*c.y);t.v.y=g.position.y+(C.col1.y*c.x+C.col2.y*c.y);t.id.features.set_referenceEdge(d);t.id.features.set_incidentEdge(l);t.id.features.set_incidentVertex(1)};H.$N=function(){var a=
[];a[0]=new Bc;a[1]=new Bc;return a};H.collidePolygons=function(a,b,c,d,e){var g;a.$$=0;var l=b.$n+d.$n,t;H.$R[0]=0;var f=H.findMaxSeparation(H.$R,b,c,d,e);t=H.$R[0];if(!(f>l)){var h;H.$S[0]=0;var q=H.findMaxSeparation(H.$S,d,e,b,c);h=H.$S[0];if(!(q>l)){q>0.98*f+0.001?(f=d,d=b,b=e,a.$9=2,t=1):(f=b,b=c,c=e,h=t,a.$9=1,t=0);e=H.$O;H.findIncidentEdge(e,f,b,h,d,c);q=f.$f;d=q[h];var k;k=h+1<f.$jB?q[h+1]:q[0];f=H.$T;f.set(k.x-d.x,k.y-d.y);f.normalize();q=H.$U;q.x=f.y;q.y=-f.x;g=H.$V;g.set(0.5*(d.x+k.x),
0.5*(d.y+k.y));var r=H.$X;h=b.R;r.x=h.col1.x*f.x+h.col2.x*f.y;r.y=h.col1.y*f.x+h.col2.y*f.y;var J=H.$Y;J.x=-r.x;J.y=-r.y;f=H.$W;f.x=r.y;f.y=-r.x;var N=H.$Z,E=H.$a;N.x=b.position.x+(h.col1.x*d.x+h.col2.x*d.y);N.y=b.position.y+(h.col1.y*d.x+h.col2.y*d.y);E.x=b.position.x+(h.col1.x*k.x+h.col2.x*k.y);E.y=b.position.y+(h.col1.y*k.x+h.col2.y*k.y);b=f.x*N.x+f.y*N.y;h=r.x*E.x+r.y*E.y+l;k=H.$P;d=H.$Q;e=H.clipSegmentToLine(k,e,J,-r.x*N.x-r.y*N.y+l);if(!(2>e||(e=H.clipSegmentToLine(d,k,r,h),2>e))){a.$7.setV(q);
a.$8.setV(g);for(q=e=0;2>q;)h=q++,g=d[h],f.x*g.v.x+f.y*g.v.y-b<=l&&(r=a.$6[e],h=c.R,J=g.v.x-c.position.x,N=g.v.y-c.position.y,r.$8.x=J*h.col1.x+N*h.col1.y,r.$8.y=J*h.col2.x+N*h.col2.y,r.$BB.set(g.id),r.$BB.features.set_flip(t),++e);a.$$=e}}}};H.collideCircles=function(a,b,c,d,e){a.$$=0;var g,l;g=c.R;l=b.$RB;var t=c.position.x+(g.col1.x*l.x+g.col2.x*l.y);c=c.position.y+(g.col1.y*l.x+g.col2.y*l.y);g=e.R;l=d.$RB;t=e.position.x+(g.col1.x*l.x+g.col2.x*l.y)-t;e=e.position.y+(g.col1.y*l.x+g.col2.y*l.y)-
c;g=b.$n+d.$n;t*t+e*e>g*g||(a.$9=0,a.$8.setV(b.$RB),a.$7.setZero(),a.$$=1,a.$6[0].$8.setV(d.$RB),a.$6[0].$BB.set_key(0))};H.collidePolygonAndCircle=function(a,b,c,d,e){a.$$=0;var g,l,t,f=e.R;t=d.$RB;var h=e.position.y+(f.col1.y*t.x+f.col2.y*t.y);g=e.position.x+(f.col1.x*t.x+f.col2.x*t.y)-c.position.x;l=h-c.position.y;f=c.R;c=g*f.col1.x+l*f.col1.y;var f=g*f.col2.x+l*f.col2.y,q=0;e=-1.7976931348623157E308;var h=b.$n+d.$n,k=b.$jB,r=b.$f;b=b.$iB;for(var J=0;J<k;){var N=J++;t=r[N];g=c-t.x;l=f-t.y;t=b[N];
t=t.x*g+t.y*l;if(t>h)return;t>e&&(e=t,q=N)}t=q;g=r[t];k=r[t+1<k?t+1:0];2.2250738585072014E-308>e?(a.$$=1,a.$9=1,a.$7.setV(b[q]),a.$8.x=0.5*(g.x+k.x),a.$8.y=0.5*(g.y+k.y),a.$6[0].$8.setV(d.$RB),a.$6[0].$BB.set_key(0)):(e=(c-k.x)*(g.x-k.x)+(f-k.y)*(g.y-k.y),0>=(c-g.x)*(k.x-g.x)+(f-g.y)*(k.y-g.y)?(c-g.x)*(c-g.x)+(f-g.y)*(f-g.y)>h*h||(a.$$=1,a.$9=1,a.$7.x=c-g.x,a.$7.y=f-g.y,a.$7.normalize(),a.$8.setV(g),a.$6[0].$8.setV(d.$RB),a.$6[0].$BB.set_key(0)):0>=e?(c-k.x)*(c-k.x)+(f-k.y)*(f-k.y)>h*h||(a.$$=1,a.$9=
1,a.$7.x=c-k.x,a.$7.y=f-k.y,a.$7.normalize(),a.$8.setV(k),a.$6[0].$8.setV(d.$RB),a.$6[0].$BB.set_key(0)):(q=0.5*(g.x+k.x),g=0.5*(g.y+k.y),e=(c-q)*b[t].x+(f-g)*b[t].y,e>h||(a.$$=1,a.$9=1,a.$7.x=b[t].x,a.$7.y=b[t].y,a.$7.normalize(),a.$8.set(q,g),a.$6[0].$8.setV(d.$RB),a.$6[0].$BB.set_key(0))))};var ue=function(){this.$c=new Vb;this.$d=new Vb;this.$e=new Vb;this.$f=[];this.$f[0]=this.$c;this.$f[1]=this.$d;this.$f[2]=this.$e};h["box2d.collision.Simplex"]=ue;ue.__name__=["box2d","collision","Simplex"];
ue.prototype={readCache:function(a,b,c,d,e){var g,l;this.$g=a.count;for(var t=this.$f,f,h=0,q=this.$g;h<q;)g=h++,f=t[g],f.indexA=a.indexA[g],f.indexB=a.indexB[g],g=b.$f[f.indexA],l=d.$f[f.indexB],f.wA=y.mulX(c,g),f.wB=y.mulX(e,l),f.w=y.subtractVV(f.wB,f.wA),f.a=0;1<this.$g&&(a=a.metric,f=this.getMetric(),f<0.5*a||2*a<f||2.2250738585072014E-308>f)&&(this.$g=0);0==this.$g&&(f=t[0],f.indexA=0,f.indexB=0,g=b.$f[0],l=d.$f[0],f.wA=y.mulX(c,g),f.wB=y.mulX(e,l),f.w=y.subtractVV(f.wB,f.wA),this.$g=1)},writeCache:function(a){a.metric=
this.getMetric();a.count=this.$g;for(var b=this.$f,c=0,d=this.$g;c<d;){var e=c++;a.indexA[e]=b[e].indexA;a.indexB[e]=b[e].indexB}},getSearchDirection:function(){switch(this.$g){case 1:return this.$c.w.getNegative();case 2:var a=y.subtractVV(this.$d.w,this.$c.w);return 0<y.crossVV(a,this.$c.w.getNegative())?y.crossFV(1,a):y.crossVF(a,1);default:return new z}},getClosestPoint:function(){switch(this.$g){case 0:return new z;case 1:return this.$c.w;case 2:return new z(this.$c.a*this.$c.w.x+this.$d.a*this.$d.w.x,
this.$c.a*this.$c.w.y+this.$d.a*this.$d.w.y);default:return new z}},getWitnessPoints:function(a,b){switch(this.$g){case 1:a.setV(this.$c.wA);b.setV(this.$c.wB);break;case 2:a.x=this.$c.a*this.$c.wA.x+this.$d.a*this.$d.wA.x;a.y=this.$c.a*this.$c.wA.y+this.$d.a*this.$d.wA.y;b.x=this.$c.a*this.$c.wB.x+this.$d.a*this.$d.wB.x;b.y=this.$c.a*this.$c.wB.y+this.$d.a*this.$d.wB.y;break;case 3:b.x=a.x=this.$c.a*this.$c.wA.x+this.$d.a*this.$d.wA.x+this.$e.a*this.$e.wA.x,b.y=a.y=this.$c.a*this.$c.wA.y+this.$d.a*
this.$d.wA.y+this.$e.a*this.$e.wA.y}},getMetric:function(){switch(this.$g){case 0:return 0;case 1:return 0;case 2:return y.subtractVV(this.$c.w,this.$d.w).length();case 3:return y.crossVV(y.subtractVV(this.$d.w,this.$c.w),y.subtractVV(this.$e.w,this.$c.w));default:return 0}},solve2:function(){var a=this.$c.w,b=this.$d.w,c=y.subtractVV(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.$g=this.$c.a=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.$g=this.$d.a=1,this.$c.set(this.$d)):(c=1/(b+a),this.$c.a=b*c,this.$d.a=a*c,this.$g=
2))},solve3:function(){var a=this.$c.w,b=this.$d.w,c=this.$e.w,d=y.subtractVV(b,a),e=y.dot(a,d),g=y.dot(b,d),e=-e,l=y.subtractVV(c,a),t=y.dot(a,l),f=y.dot(c,l),t=-t,h=y.subtractVV(c,b),q=y.dot(b,h),h=y.dot(c,h),q=-q,l=y.crossVV(d,l),d=l*y.crossVV(b,c),c=l*y.crossVV(c,a),a=l*y.crossVV(a,b);0>=e&&0>=t?this.$g=this.$c.a=1:0<g&&0<e&&0>=a?(f=1/(g+e),this.$c.a=g*f,this.$d.a=e*f,this.$g=2):0<f&&0<t&&0>=c?(g=1/(f+t),this.$c.a=f*g,this.$e.a=t*g,this.$g=2,this.$d.set(this.$e)):0>=g&&0>=q?(this.$g=this.$d.a=
1,this.$c.set(this.$d)):0>=f&&0>=h?(this.$g=this.$e.a=1,this.$c.set(this.$e)):0<h&&0<q&&0>=d?(g=1/(h+q),this.$d.a=h*g,this.$e.a=q*g,this.$g=2,this.$c.set(this.$e)):(g=1/(d+c+a),this.$c.a=d*g,this.$d.a=c*g,this.$e.a=a*g,this.$g=3)},__class__:ue};var Vb=function(){};h["box2d.collision.SimplexVertex"]=Vb;Vb.__name__=["box2d","collision","SimplexVertex"];Vb.prototype={set:function(a){this.wA.setV(a.wA);this.wB.setV(a.wB);this.w.setV(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB},__class__:Vb};
var Ca=function(){};h["box2d.collision.Distance"]=Ca;Ca.__name__=["box2d","collision","Distance"];Ca.distance=function(a,b,c){++Ca.$h;var d=c.proxyA,e=c.proxyB,g=c.transformA,l=c.transformB,t=Ca.$k;t.readCache(b,d,g,e,l);var f=t.$f,h=Ca.$l,q=Ca.$m,k=0;t.getClosestPoint().lengthSquared();for(var r,J=0;20>J;){k=t.$g;r=0;for(var N=k;r<N;){var E=r++;h[E]=f[E].indexA;q[E]=f[E].indexB}switch(t.$g){case 2:t.solve2();break;case 3:t.solve3()}if(3==t.$g)break;r=t.getClosestPoint();r.lengthSquared();N=t.getSearchDirection();
if(0>N.lengthSquared())break;r=f[t.$g];r.indexA=d.getSupport(y.mulTMV(g.R,N.getNegative()));r.wA=y.mulX(g,d.$f[r.indexA]);r.indexB=e.getSupport(y.mulTMV(l.R,N));r.wB=y.mulX(l,e.$f[r.indexB]);r.w=y.subtractVV(r.wB,r.wA);++J;++Ca.$i;N=!1;for(E=0;E<k;){var w=E++;if(r.indexA==h[w]&&r.indexB==q[w]){N=!0;break}}if(N)break;++t.$g}g=Ca.$j;Ca.$j=g>J?g:J;t.getWitnessPoints(a.pointA,a.pointB);a.distance=y.subtractVV(a.pointA,a.pointB).length();a.iterations=J;t.writeCache(b);c.useRadii&&(b=d.$n,e=e.$n,a.distance>
b+e&&2.2250738585072014E-308<a.distance?(a.distance-=b+e,c=y.subtractVV(a.pointB,a.pointA),c.normalize(),a.pointA.x+=b*c.x,a.pointA.y+=b*c.y,a.pointB.x-=e*c.x,a.pointB.y-=e*c.y):(r=new z,r.x=0.5*(a.pointA.x+a.pointB.x),r.y=0.5*(a.pointA.y+a.pointB.y),a.pointA.x=a.pointB.x=r.x,a.pointA.y=a.pointB.y=r.y,a.distance=0))};var Cc=function(){};h["box2d.collision.DistanceInput"]=Cc;Cc.__name__=["box2d","collision","DistanceInput"];Cc.prototype={__class__:Cc};var Dc=function(){this.pointA=new z;this.pointB=
new z};h["box2d.collision.DistanceOutput"]=Dc;Dc.__name__=["box2d","collision","DistanceOutput"];Dc.prototype={__class__:Dc};var Db=function(){this.$f=[]};h["box2d.collision.DistanceProxy"]=Db;Db.__name__=["box2d","collision","DistanceProxy"];Db.prototype={set:function(a){switch(a.$9){case 0:this.$f=[a.$RB];this.$g=1;this.$n=a.$n;break;case 1:this.$f=a.$f,this.$g=a.$jB,this.$n=a.$n}},getSupport:function(a){for(var b=0,c=this.$f[0].x*a.x+this.$f[0].y*a.y,d=1,e=this.$g;d<e;){var g=d++,l=this.$f[g].x*
a.x+this.$f[g].y*a.y;l>c&&(b=g,c=l)}return b},getSupportVertex:function(a){for(var b=0,c=this.$f[0].x*a.x+this.$f[0].y*a.y,d=1,e=this.$g;d<e;){var g=d++,l=this.$f[g].x*a.x+this.$f[g].y*a.y;l>c&&(b=g,c=l)}return this.$f[b]},__class__:Db};var ve=function(){this.$t=this.$s=null;this.$v=this.$u=0};h["box2d.collision.DynamicTree"]=ve;ve.__name__=["box2d","collision","DynamicTree"];ve.prototype={createProxy:function(a,b){var c=this.$o();c.aabb.lowerBound.x=a.lowerBound.x-0.1;c.aabb.lowerBound.y=a.lowerBound.y-
0.1;c.aabb.upperBound.x=a.upperBound.x+0.1;c.aabb.upperBound.y=a.upperBound.y+0.1;c.userData=b;this.$q(c);return c},destroyProxy:function(a){this.$r(a);this.$p(a)},moveProxy:function(a,b,c){if(a.aabb.contains(b))return!1;this.$r(a);var d=0.1+2*(0<c.x?c.x:-c.x);c=0.1+2*(0<c.y?c.y:-c.y);a.aabb.lowerBound.x=b.lowerBound.x-d;a.aabb.lowerBound.y=b.lowerBound.y-c;a.aabb.upperBound.x=b.upperBound.x+d;a.aabb.upperBound.y=b.upperBound.y+c;this.$q(a);return!0},getFatAABB:function(a){return a.aabb},getUserData:function(a){return a.userData},
query:function(a,b){if(null!=this.$s){var c=[],d=0;for(c[d++]=this.$s;0<d;){var e=c[--d];if(e.aabb.testOverlap(b))if(null==e.child1){if(!a(e))break}else c[d++]=e.child1,c[d++]=e.child2}}},$o:function(){if(null!=this.$t){var a=this.$t;this.$t=a.parent;a.parent=null;a.child1=null;a.child2=null;return a}return new Wb},$p:function(a){a.parent=this.$t;this.$t=a},$q:function(a){++this.$v;if(null==this.$s)this.$s=a,this.$s.parent=null;else{var b=a.aabb.getCenter(),c=this.$s;if(null==c.child1==!1)for(;;){var d=
c.child1,c=c.child2,e=Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-b.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-b.y),g=Math.abs((c.aabb.lowerBound.x+c.aabb.upperBound.x)/2-b.x)+Math.abs((c.aabb.lowerBound.y+c.aabb.upperBound.y)/2-b.y),c=e<g?d:c;if(null==c.child1!=!1)break}b=c.parent;d=this.$o();d.parent=b;d.userData=null;d.aabb.combine(a.aabb,c.aabb);if(null!=b)for(c.parent.child1==c?b.child1=d:b.child2=d,d.child1=c,d.child2=a,c.parent=d,a.parent=d;!b.aabb.contains(d.aabb)&&(b.aabb.combine(b.child1.aabb,
b.child2.aabb),d=b,b=b.parent,null!=b););else d.child1=c,d.child2=a,c.parent=d,this.$s=a.parent=d}},$r:function(a){if(a==this.$s)this.$s=null;else{var b=a.parent,c=b.parent;a=b.child1==a?b.child2:b.child1;if(null!=c)for(c.child1==b?c.child1=a:c.child2=a,a.parent=c,this.$p(b);null!=c;){b=c.aabb;c.aabb=new rb;c.aabb.combine(c.child1.aabb,c.child2.aabb);if(b.contains(c.aabb))break;c=c.parent}else this.$s=a,a.parent=null,this.$p(b)}},__class__:ve};var we=function(){};h["box2d.collision.IBroadPhase"]=
we;we.__name__=["box2d","collision","IBroadPhase"];we.prototype={__class__:we};var Ec=function(){this.$z=new ve;this.$1=[];this.$2=[];this.$3=0};h["box2d.collision.DynamicTreeBroadPhase"]=Ec;Ec.__name__=["box2d","collision","DynamicTreeBroadPhase"];Ec.__interfaces__=[we];Ec.prototype={createProxy:function(a,b){var c=this.$z.createProxy(a,b);++this.$0;this.$w(c);return c},destroyProxy:function(a){this.$x(a);--this.$0;this.$z.destroyProxy(a)},moveProxy:function(a,b,c){this.$z.moveProxy(a,b,c)&&this.$w(a)},
testOverlap:function(a,b){var c=this.$z.getFatAABB(a),d=this.$z.getFatAABB(b);return c.testOverlap(d)},updatePairs:function(a){for(var b=this,c=this.$3=0,d=this.$1;c<d.length;){var e=[d[c]];++c;var g=function(a){return function(c){if(c==a[0])return!0;b.$3==b.$2.length&&(b.$2[b.$3]=new xe);var d=b.$2[b.$3];c.$4<a[0].$4?(d.proxyA=c,d.proxyB=a[0]):(d.proxyA=a[0],d.proxyB=c);++b.$3;return!0}}(e),e=this.$z.getFatAABB(e[0]);this.$z.query(g,e)}this.$1=[];c=!0;for(d=0;c;)if(d>=this.$3)c=!1;else{var g=this.$2[d],
e=this.$z.getUserData(g.proxyA),l=this.$z.getUserData(g.proxyB);a(e,l);for(++d;d<this.$3;){e=this.$2[d];if(e.proxyA!=g.proxyA||e.proxyB!=g.proxyB)break;++d}}},$w:function(a){this.$1[this.$1.length]=a},$x:function(a){M.remove(this.$1,a)},__class__:Ec};var Wb=function(){this.aabb=new rb;this.$4=Wb.$5++};h["box2d.collision.DynamicTreeNode"]=Wb;Wb.__name__=["box2d","collision","DynamicTreeNode"];Wb.prototype={__class__:Wb};var xe=function(){};h["box2d.collision.DynamicTreePair"]=xe;xe.__name__=["box2d",
"collision","DynamicTreePair"];xe.prototype={__class__:xe};var Fc=function(){this.$$=0;this.$6=[];for(var a=0;2>a;){var b=a++;this.$6[b]=new ye}this.$7=new z;this.$8=new z};h["box2d.collision.Manifold"]=Fc;Fc.__name__=["box2d","collision","Manifold"];Fc.prototype={__class__:Fc};var ye=function(){this.$8=new z;this.$BB=new Ac;this.reset()};h["box2d.collision.ManifoldPoint"]=ye;ye.__name__=["box2d","collision","ManifoldPoint"];ye.prototype={reset:function(){this.$8.setZero();this.$AB=this.$_=0;this.$BB.set_key(0)},
__class__:ye};var ze=function(){this.$8=new z;this.$EB=new z};h["box2d.collision.SeparationFunction"]=ze;ze.__name__=["box2d","collision","SeparationFunction"];ze.prototype={initialize:function(a,b,c,d,e){this.$CB=b;this.$DB=d;b=a.count;var g=new z,l=new z,t,f;if(1==b)this.$9=0,g=this.$CB.$f[a.indexA[0]],l=this.$DB.$f[a.indexB[0]],f=g,t=c.R,g=c.position.x+(t.col1.x*f.x+t.col2.x*f.y),c=c.position.y+(t.col1.y*f.x+t.col2.y*f.y),f=l,t=e.R,l=e.position.x+(t.col1.x*f.x+t.col2.x*f.y),e=e.position.y+(t.col1.y*
f.x+t.col2.y*f.y),this.$EB.x=l-g,this.$EB.y=e-c,this.$EB.normalize();else{if(a.indexB[0]==a.indexB[1])this.$9=1,b=this.$CB.$f[a.indexA[0]],d=this.$CB.$f[a.indexA[1]],l=this.$DB.$f[a.indexB[0]],this.$8.x=0.5*(b.x+d.x),this.$8.y=0.5*(b.y+d.y),this.$EB=y.crossVF(y.subtractVV(d,b),1),this.$EB.normalize(),f=this.$EB,t=c.R,b=t.col1.x*f.x+t.col2.x*f.y,d=t.col1.y*f.x+t.col2.y*f.y,f=this.$8,t=c.R,g=c.position.x+(t.col1.x*f.x+t.col2.x*f.y),c=c.position.y+(t.col1.y*f.x+t.col2.y*f.y),f=l,t=e.R,l=e.position.x+
(t.col1.x*f.x+t.col2.x*f.y),e=e.position.y+(t.col1.y*f.x+t.col2.y*f.y),a=(l-g)*b+(e-c)*d;else if(a.indexA[0]==a.indexA[0])this.$9=2,t=this.$DB.$f[a.indexB[0]],f=this.$DB.$f[a.indexB[1]],g=this.$CB.$f[a.indexA[0]],this.$8.x=0.5*(t.x+f.x),this.$8.y=0.5*(t.y+f.y),this.$EB=y.crossVF(y.subtractVV(f,t),1),this.$EB.normalize(),f=this.$EB,t=e.R,b=t.col1.x*f.x+t.col2.x*f.y,d=t.col1.y*f.x+t.col2.y*f.y,f=this.$8,t=e.R,l=e.position.x+(t.col1.x*f.x+t.col2.x*f.y),e=e.position.y+(t.col1.y*f.x+t.col2.y*f.y),f=g,
t=c.R,g=c.position.x+(t.col1.x*f.x+t.col2.x*f.y),c=c.position.y+(t.col1.y*f.x+t.col2.y*f.y),a=(g-l)*b+(c-e)*d;else{b=this.$CB.$f[a.indexA[0]];d=this.$CB.$f[a.indexA[1]];t=this.$DB.$f[a.indexB[0]];f=this.$DB.$f[a.indexB[1]];y.mulX(c,g);g=y.mulMV(c.R,y.subtractVV(d,b));y.mulX(e,l);a=y.mulMV(e.R,y.subtractVV(f,t));e=g.x*g.x+g.y*g.y;c=a.x*a.x+a.y*a.y;var h=y.subtractVV(a,g),l=g.x*h.x+g.y*h.y,h=a.x*h.x+a.y*h.y,g=g.x*a.x+g.y*a.y,q=e*c-g*g;a=0;0!=q&&(a=y.clamp((g*h-l*c)/q,0,1));0>(g*a+h)/c&&(a=y.clamp((g-
l)/e,0,1));g=new z;g.x=b.x+a*(d.x-b.x);g.y=b.y+a*(d.y-b.y);l=new z;l.x=t.x+a*(f.x-t.x);l.y=t.y+a*(f.y-t.y);0==a||1==a?(this.$9=2,this.$EB=y.crossVF(y.subtractVV(f,t),1),this.$EB.normalize(),this.$8=l):(this.$9=1,this.$EB=y.crossVF(y.subtractVV(d,b),1),this.$8=g)}0>a&&this.$EB.negativeSelf()}},evaluate:function(a,b){var c,d,e;switch(this.$9){case 0:return c=y.mulTMV(a.R,this.$EB),d=y.mulTMV(b.R,this.$EB.getNegative()),c=this.$CB.getSupportVertex(c),d=this.$DB.getSupportVertex(d),c=y.mulX(a,c),d=y.mulX(b,
d),e=(d.x-c.x)*this.$EB.x+(d.y-c.y)*this.$EB.y;case 1:return e=y.mulMV(a.R,this.$EB),c=y.mulX(a,this.$8),d=y.mulTMV(b.R,e.getNegative()),d=this.$DB.getSupportVertex(d),d=y.mulX(b,d),e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;case 2:return e=y.mulMV(b.R,this.$EB),d=y.mulX(b,this.$8),c=y.mulTMV(a.R,e.getNegative()),c=this.$CB.getSupportVertex(c),c=y.mulX(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}},__class__:ze};var Gc=function(){this.indexA=[];this.indexB=[]};h["box2d.collision.SimplexCache"]=Gc;Gc.__name__=["box2d","collision",
"SimplexCache"];Gc.prototype={__class__:Gc};var Ae=function(){this.proxyA=new Db;this.proxyB=new Db;this.sweepA=new sb;this.sweepB=new sb};h["box2d.collision.TOIInput"]=Ae;Ae.__name__=["box2d","collision","TOIInput"];Ae.prototype={__class__:Ae};var tb=function(a,b){this.position=new z;this.R=new Xb;null!=a&&(this.position.setV(a),this.R.setM(b))};h["box2d.common.math.Transform"]=tb;tb.__name__=["box2d","common","math","Transform"];tb.prototype={__class__:tb};var Xb=function(){this.col1=new z(1,0);
this.col2=new z(0,1)};h["box2d.common.math.Mat22"]=Xb;Xb.__name__=["box2d","common","math","Mat22"];Xb.prototype={set:function(a){var b=Math.cos(a);a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b},setM:function(a){this.col1.setV(a.col1);this.col2.setV(a.col2)},getInverse:function(a){var b=this.col1.x,c=this.col2.x,d=this.col1.y,e=this.col2.y,g=b*e-c*d;0!=g&&(g=1/g);a.col1.x=g*e;a.col2.x=-g*c;a.col1.y=-g*d;a.col2.y=g*b;return a},__class__:Xb};var I=function(){};h["box2d.collision.TimeOfImpact"]=
I;I.__name__=["box2d","collision","TimeOfImpact"];I.timeOfImpact=function(a){++I.$FB;var b=a.proxyA,c=a.proxyB,d=a.sweepA,e=a.sweepB,g=b.$n+c.$n,l=a.tolerance,f=a=0,h=0;I.$KB.count=0;for(I.$LB.useRadii=!1;;){d.getTransform(I.$MB,a);e.getTransform(I.$NB,a);I.$LB.proxyA=b;I.$LB.proxyB=c;I.$LB.transformA=I.$MB;I.$LB.transformB=I.$NB;Ca.distance(I.$PB,I.$KB,I.$LB);if(0>=I.$PB.distance){a=1;break}I.$OB.initialize(I.$KB,b,I.$MB,c,I.$NB);var D=I.$OB.evaluate(I.$MB,I.$NB);if(0>=D){a=1;break}if(0==f){if(D>
g)var h=g-l,q=0.75*g;else h=D-l,q=0.02*g;h=h>q?h:q}if(D-h<0.5*l){if(0==f){a=1;break}break}var k=q=a,r=1,J=D;d.getTransform(I.$MB,r);e.getTransform(I.$NB,r);var N=I.$OB.evaluate(I.$MB,I.$NB);if(N>=h){a=1;break}for(D=0;;){var E;E=0!=(D&1)?k+(h-J)*(r-k)/(N-J):0.5*(k+r);d.getTransform(I.$MB,E);e.getTransform(I.$NB,E);var w=I.$OB.evaluate(I.$MB,I.$NB);if(y.abs(w-h)<0.025*l){q=E;break}w>h?(k=E,J=w):(r=E,N=w);++D;++I.$IB;if(50==D)break}k=I.$JB;I.$JB=k>D?k:D;if(q<a)break;a=q;++f;++I.$GB;if(1E3==f)break}b=
I.$HB;I.$HB=b>f?b:f;return a};var Be=function(){this.$QB=new z;this.$6=[];for(var a=0;2>a;){var b=a++;this.$6[b]=new z}};h["box2d.collision.WorldManifold"]=Be;Be.__name__=["box2d","collision","WorldManifold"];Be.prototype={initialize:function(a,b,c,d,e){if(0!=a.$$){var g,l,f,h,D,q,k;switch(a.$9){case 0:l=b.R;g=a.$8;f=b.position.x+l.col1.x*g.x+l.col2.x*g.y;h=b.position.y+l.col1.y*g.x+l.col2.y*g.y;l=d.R;g=a.$6[0].$8;a=d.position.x+l.col1.x*g.x+l.col2.x*g.y;g=d.position.y+l.col1.y*g.x+l.col2.y*g.y;l=
a-f;d=g-h;D=l*l+d*d;0<D?(D=Math.sqrt(D),this.$QB.x=l/D,this.$QB.y=d/D):(this.$QB.x=1,this.$QB.y=0);l=h+c*this.$QB.y;g-=e*this.$QB.y;this.$6[0].x=0.5*(f+c*this.$QB.x+(a-e*this.$QB.x));this.$6[0].y=0.5*(l+g);break;case 1:l=b.R;g=a.$7;f=l.col1.x*g.x+l.col2.x*g.y;h=l.col1.y*g.x+l.col2.y*g.y;l=b.R;g=a.$8;D=b.position.x+l.col1.x*g.x+l.col2.x*g.y;q=b.position.y+l.col1.y*g.x+l.col2.y*g.y;this.$QB.x=f;this.$QB.y=h;b=0;for(var r=a.$$;b<r;){var J=b++;l=d.R;g=a.$6[J].$8;k=d.position.x+l.col1.x*g.x+l.col2.x*g.y;
g=d.position.y+l.col1.y*g.x+l.col2.y*g.y;this.$6[J].x=k+0.5*(c-(k-D)*f-(g-q)*h-e)*f;this.$6[J].y=g+0.5*(c-(k-D)*f-(g-q)*h-e)*h}break;case 2:for(l=d.R,g=a.$7,f=l.col1.x*g.x+l.col2.x*g.y,h=l.col1.y*g.x+l.col2.y*g.y,l=d.R,g=a.$8,D=d.position.x+l.col1.x*g.x+l.col2.x*g.y,q=d.position.y+l.col1.y*g.x+l.col2.y*g.y,this.$QB.x=-f,this.$QB.y=-h,d=0,r=a.$$;d<r;)J=d++,l=b.R,g=a.$6[J].$8,k=b.position.x+l.col1.x*g.x+l.col2.x*g.y,g=b.position.y+l.col1.y*g.x+l.col2.y*g.y,this.$6[J].x=k+0.5*(e-(k-D)*f-(g-q)*h-c)*f,
this.$6[J].y=g+0.5*(e-(k-D)*f-(g-q)*h-c)*h}}},__class__:Be};var za=function(){this.$9=-1;this.$n=0.005};h["box2d.collision.shapes.Shape"]=za;za.__name__=["box2d","collision","shapes","Shape"];za.testOverlap=function(a,b,c,d){var e=new Cc;e.proxyA=new Db;e.proxyA.set(a);e.proxyB=new Db;e.proxyB.set(c);e.transformA=b;e.transformB=d;e.useRadii=!0;a=new Gc;a.count=0;b=new Dc;Ca.distance(b,a,e);return 2.2250738585072014E-307>b.distance};za.prototype={copy:function(){return null},set:function(a){this.$n=
a.$n},computeAABB:function(a,b){},computeMass:function(a,b){},__class__:za};var Yb=function(a){null==a&&(a=0);za.call(this);this.$RB=new z;this.$9=0;this.$n=a};h["box2d.collision.shapes.CircleShape"]=Yb;Yb.__name__=["box2d","collision","shapes","CircleShape"];Yb.__super__=za;Yb.prototype=m(za.prototype,{copy:function(){var a=new Yb;a.set(this);return a},set:function(a){za.prototype.set.call(this,a);0==a.$9&&this.$RB.setV(a.$RB)},computeAABB:function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.$RB.x+
c.col2.x*this.$RB.y),c=b.position.y+(c.col1.y*this.$RB.x+c.col2.y*this.$RB.y);a.lowerBound.set(d-this.$n,c-this.$n);a.upperBound.set(d+this.$n,c+this.$n)},computeMass:function(a,b){a.mass=3.141592653589793*b*this.$n*this.$n;a.center.setV(this.$RB);a.I=a.mass*(0.5*this.$n*this.$n+(this.$RB.x*this.$RB.x+this.$RB.y*this.$RB.y))},__class__:Yb});var Ce=function(){};h["box2d.collision.shapes.EdgeShape"]=Ce;Ce.__name__=["box2d","collision","shapes","EdgeShape"];Ce.__super__=za;Ce.prototype=m(za.prototype,
{computeAABB:function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.$c.x+c.col2.x*this.$c.y),e=b.position.y+(c.col1.y*this.$c.x+c.col2.y*this.$c.y),g=b.position.x+(c.col1.x*this.$d.x+c.col2.x*this.$d.y),c=b.position.y+(c.col1.y*this.$d.x+c.col2.y*this.$d.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);e<c?(a.lowerBound.y=e,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=e)},computeMass:function(a,b){a.mass=0;a.center.setV(this.$c);a.I=0},__class__:Ce});var De=function(){this.mass=
0;this.center=new z(0,0);this.I=0};h["box2d.collision.shapes.MassData"]=De;De.__name__=["box2d","collision","shapes","MassData"];De.prototype={__class__:De};var ma=function(){za.call(this);this.$9=1;this.$hB=new z;this.$f=[];this.$iB=[]};h["box2d.collision.shapes.PolygonShape"]=ma;ma.__name__=["box2d","collision","shapes","PolygonShape"];ma.asArray=function(a,b){null==b&&(b=0);var c=new ma;c.setAsArray(a,b);return c};ma.asOrientedBox=function(a,b,c,d){null==d&&(d=0);var e=new ma;e.setAsOrientedBox(a,
b,c,d);return e};ma.asEdge=function(a,b){var c=new ma;c.setAsEdge(a,b);return c};ma.computeCentroid=function(a,b){for(var c=new z,d=0,e=0;e<b;){var g=e++,l=a[g],g=g+1<b?a[g+1]:a[0],f=0.5*((l.x-0)*(g.y-0)-(l.y-0)*(g.x-0)),d=d+f;c.x+=0.3333333333333333*f*(0+l.x+g.x);c.y+=0.3333333333333333*f*(0+l.y+g.y)}c.x*=1/d;c.y*=1/d;return c};ma.__super__=za;ma.prototype=m(za.prototype,{copy:function(){var a=new ma;a.set(this);return a},set:function(a){za.prototype.set.call(this,a);if(1==a.$9){this.$hB.setV(a.$hB);
this.$jB=a.$jB;this.$gB(this.$jB);for(var b=0,c=this.$jB;b<c;){var d=b++;this.$f[d].setV(a.$f[d]);this.$iB[d].setV(a.$iB[d])}}},setAsArray:function(a,b){null==b&&(b=0);0==b&&(b=a.length);this.$jB=b;this.$gB(b);for(var c=0,d=this.$jB;c<d;){var e=c++;this.$f[e].setV(a[e])}c=0;for(d=this.$jB;c<d;){var e=c++,g=y.subtractVV(this.$f[e+1<this.$jB?e+1:0],this.$f[e]);g.lengthSquared();this.$iB[e].setV(y.crossVF(g,1));this.$iB[e].normalize()}this.$hB=ma.computeCentroid(this.$f,this.$jB)},setAsOrientedBox:function(a,
b,c,d){null==d&&(d=0);this.$jB=4;this.$gB(4);this.$f[0].set(-a,-b);this.$f[1].set(a,-b);this.$f[2].set(a,b);this.$f[3].set(-a,b);this.$iB[0].set(0,-1);this.$iB[1].set(1,0);this.$iB[2].set(0,1);this.$iB[3].set(-1,0);this.$hB=c;a=new tb;a.position=c;a.R.set(d);c=0;for(d=this.$jB;c<d;)b=c++,this.$f[b]=y.mulX(a,this.$f[b]),this.$iB[b]=y.mulMV(a.R,this.$iB[b])},setAsEdge:function(a,b){this.$jB=2;this.$gB(2);this.$f[0].setV(a);this.$f[1].setV(b);this.$hB.x=0.5*(a.x+b.x);this.$hB.y=0.5*(a.y+b.y);this.$iB[0]=
y.crossVF(y.subtractVV(b,a),1);this.$iB[0].normalize();this.$iB[1].x=-this.$iB[0].x;this.$iB[1].y=-this.$iB[0].y},computeAABB:function(a,b){for(var c=b.R,d=this.$f[0],e=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),g=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),l=e,f=g,h=1,k=this.$jB;h<k;){var q=h++,d=this.$f[q],q=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),d=b.position.y+(c.col1.y*d.x+c.col2.y*d.y);e<q||(e=q);g<d||(g=d);l>q||(l=q);f>d||(f=d)}a.lowerBound.x=e-this.$n;a.lowerBound.y=g-this.$n;a.upperBound.x=l+
this.$n;a.upperBound.y=f+this.$n},computeMass:function(a,b){if(2==this.$jB)a.center.x=0.5*(this.$f[0].x+this.$f[1].x),a.center.y=0.5*(this.$f[0].y+this.$f[1].y),a.mass=0,a.I=0;else{for(var c=0,d=0,e=0,g=0,l=0,f=this.$jB;l<f;)var h=l++,k=this.$f[h],q=h+1<this.$jB?this.$f[h+1]:this.$f[0],Q=k.x-0,r=k.y-0,J=q.x-0,N=q.y-0,h=Q*N-r*J,E=0.5*h,e=e+E,c=c+0.3333333333333333*E*(0+k.x+q.x),d=d+0.3333333333333333*E*(0+k.y+q.y),k=Q,g=g+h*(0.3333333333333333*(0.25*(k*k+J*k+J*J)+(0*k+0*J))+0+(0.3333333333333333*(0.25*
(r*r+N*r+N*N)+(0*r+0*N))+0));a.mass=b*e;a.center.set(1/e*c,1/e*d);a.I=b*g}},$gB:function(a){for(var b=this.$f.length;b<a;){var c=b++;this.$f[c]=new z;this.$iB[c]=new z}},__class__:ma});var Hc=function(){};h["box2d.common.Settings"]=Hc;Hc.__name__=["box2d","common","Settings"];Hc.mixFriction=function(a,b){return Math.sqrt(a*b)};Hc.mixRestitution=function(a,b){return a>b?a:b};var y=function(){};h["box2d.common.math.B2Math"]=y;y.__name__=["box2d","common","math","B2Math"];y.dot=function(a,b){return a.x*
b.x+a.y*b.y};y.crossVV=function(a,b){return a.x*b.y-a.y*b.x};y.crossVF=function(a,b){return new z(b*a.y,-b*a.x)};y.crossFV=function(a,b){return new z(-a*b.y,a*b.x)};y.mulMV=function(a,b){return new z(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)};y.mulTMV=function(a,b){return new z(y.dot(b,a.col1),y.dot(b,a.col2))};y.mulX=function(a,b){var c=y.mulMV(a.R,b);c.x+=a.position.x;c.y+=a.position.y;return c};y.subtractVV=function(a,b){return new z(a.x-b.x,a.y-b.y)};y.abs=function(a){return 0<a?a:
-a};y.clamp=function(a,b,c){return a<b?b:a>c?c:a};var sb=function(){this.localCenter=new z;this.c0=new z;this.c=new z};h["box2d.common.math.Sweep"]=sb;sb.__name__=["box2d","common","math","Sweep"];sb.prototype={set:function(a){this.localCenter.setV(a.localCenter);this.c0.setV(a.c0);this.c.setV(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0},getTransform:function(a,b){a.position.x=(1-b)*this.c0.x+b*this.c.x;a.position.y=(1-b)*this.c0.y+b*this.c.y;a.R.set((1-b)*this.a0+b*this.a);var c=a.R;a.position.x-=
c.col1.x*this.localCenter.x+c.col2.x*this.localCenter.y;a.position.y-=c.col1.y*this.localCenter.x+c.col2.y*this.localCenter.y},advance:function(a){if(this.t0<a&&2.2250738585072014E-308<1-this.t0){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}},__class__:sb};var Zb=function(a,b){this.$CC=null;this.$pB=new tb;this.$qB=new sb;this.$rB=new z;this.$tB=new z;this.$nB=0;a.bullet&&(this.$nB|=8);a.fixedRotation&&
(this.$nB|=16);a.allowSleep&&(this.$nB|=4);a.awake&&(this.$nB|=2);a.active&&(this.$nB|=32);this.$vB=b;this.$pB.position.setV(a.position);this.$pB.R.set(a.angle);this.$qB.localCenter.setZero();this.$qB.t0=1;this.$qB.a0=this.$qB.a=a.angle;var c=this.$pB.R,d=this.$qB.localCenter;this.$qB.c.x=c.col1.x*d.x+c.col2.x*d.y;this.$qB.c.y=c.col1.y*d.x+c.col2.y*d.y;this.$qB.c.x+=this.$pB.position.x;this.$qB.c.y+=this.$pB.position.y;this.$qB.c0.setV(this.$qB.c);this.$3B=this.$0B=this.$2B=null;this.$1B=0;this.$xB=
this.$wB=null;this.$rB.setV(a.linearVelocity);this.$sB=a.angularVelocity;this.$$B=a.linearDamping;this.$_B=a.angularDamping;this.$tB.set(0,0);this.$AC=this.$uB=0;this.$9=a.type;this.$5B=2==this.$9?this.$4B=1:this.$4B=0;this.$7B=this.$6B=0;this.$8B=a.inertiaScale;this.$9B=a.gravityScale;this.$BC=a.userData;this.$yB=null;this.$zB=0};h["box2d.dynamics.Body"]=Zb;Zb.__name__=["box2d","dynamics","Body"];Zb.prototype={createFixture:function(a){if(0!=(this.$vB.$nB&2)==!0)return null;var b=new Ee;b.create(this,
this.$pB,a);0!=(this.$nB&32)&&b.createProxy(this.$vB.$qC.$KC,this.$pB);b.$xB=this.$yB;this.$yB=b;++this.$zB;b.$UC=this;0<b.$TC&&this.resetMassData();this.$vB.$nB|=1;return b},setPositionAndAngle:function(a,b){var c;if(0!=(this.$vB.$nB&2)!=!0){this.$pB.R.set(b);this.$pB.position.setV(a);c=this.$pB.R;var d=this.$qB.localCenter;this.$qB.c.x=c.col1.x*d.x+c.col2.x*d.y;this.$qB.c.y=c.col1.y*d.x+c.col2.y*d.y;this.$qB.c.x+=this.$pB.position.x;this.$qB.c.y+=this.$pB.position.y;this.$qB.c0.setV(this.$qB.c);
this.$qB.a0=this.$qB.a=b;d=this.$vB.$qC.$KC;for(c=this.$yB;null!=c;)c.synchronize(d,this.$pB,this.$pB),c=c.$xB;this.$vB.$qC.findNewContacts()}},setAngularVelocity:function(a){0!=this.$9&&(this.$sB=a)},resetMassData:function(){this.$7B=this.$6B=this.$5B=this.$4B=0;this.$qB.localCenter.setZero();if(0!=this.$9&&1!=this.$9){for(var a=z.make(0,0),b=this.$yB;null!=b;){if(0!=b.$TC){var c=b.getMassData();this.$4B+=c.mass;a.x+=c.center.x*c.mass;a.y+=c.center.y*c.mass;this.$6B+=c.I}b=b.$xB}0<this.$4B?(this.$5B=
1/this.$4B,a.x*=this.$5B,a.y*=this.$5B):this.$5B=this.$4B=1;0<this.$6B&&0==(this.$nB&16)?(this.$6B-=this.$4B*(a.x*a.x+a.y*a.y),this.$6B*=this.$8B,this.$7B=1/this.$6B):this.$7B=this.$6B=0;b=this.$qB.c.copy();this.$qB.localCenter.setV(a);this.$qB.c0.setV(y.mulX(this.$pB,this.$qB.localCenter));this.$qB.c.setV(this.$qB.c0);this.$rB.x+=this.$sB*-(this.$qB.c.y-b.y);this.$rB.y+=this.$sB*(this.$qB.c.x-b.x)}},setType:function(a){if(this.$9!=a)for(this.$9=a,this.resetMassData(),0==this.$9&&(this.$rB.setZero(),
this.$sB=0),this.setAwake(!0),this.$tB.setZero(),this.$uB=0,a=this.$3B;null!=a;)a.contact.flagForFiltering(),a=a.next},setAwake:function(a){a?(this.$nB|=2,this.$AC=0):(this.$nB&=-3,this.$AC=0,this.$rB.setZero(),this.$sB=0,this.$tB.setZero(),this.$uB=0)},setFixedRotation:function(a){this.$nB=a?this.$nB|16:this.$nB&-17;this.resetMassData()},synchronizeFixtures:function(){var a=Zb.$DC;a.R.set(this.$qB.a0);var b=a.R,c=this.$qB.localCenter;a.position.x=this.$qB.c0.x-(b.col1.x*c.x+b.col2.x*c.y);a.position.y=
this.$qB.c0.y-(b.col1.y*c.x+b.col2.y*c.y);c=this.$vB.$qC.$KC;for(b=this.$yB;null!=b;)b.synchronize(c,a,this.$pB),b=b.$xB},synchronizeTransform:function(){this.$pB.R.set(this.$qB.a);var a=this.$pB.R,b=this.$qB.localCenter;this.$pB.position.x=this.$qB.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.$pB.position.y=this.$qB.c.y-(a.col1.y*b.x+a.col2.y*b.y)},shouldCollide:function(a){if(2!=this.$9&&2!=a.$9)return!1;for(var b=this.$2B;null!=b;){if(b.other==a&&!1==b.joint.$cD)return!1;b=b.next}return!0},advance:function(a){this.$qB.advance(a);
this.$qB.c.setV(this.$qB.c0);this.$qB.a=this.$qB.a0;this.synchronizeTransform()},__class__:Zb};var $b=function(){this.position=new z;this.linearVelocity=new z;this.userData=null;this.angularDamping=this.linearDamping=this.angularVelocity=this.angle=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=0;this.active=!0;this.gravityScale=this.inertiaScale=1};h["box2d.dynamics.BodyDef"]=$b;$b.__name__=["box2d","dynamics","BodyDef"];$b.prototype={__class__:$b};var ac=function(){};
h["box2d.dynamics.ContactFilter"]=ac;ac.__name__=["box2d","dynamics","ContactFilter"];ac.prototype={shouldCollide:function(a,b){var c=a.$ZC,d=b.$ZC;return c.groupIndex==d.groupIndex&&0!=c.groupIndex?0<c.groupIndex:0!=(c.maskBits&d.categoryBits)&&0!=(c.categoryBits&d.maskBits)},__class__:ac};var Fe=function(){this.normalImpulses=[];this.tangentImpulses=[]};h["box2d.dynamics.ContactImpulse"]=Fe;Fe.__name__=["box2d","dynamics","ContactImpulse"];Fe.prototype={__class__:Fe};var ib=function(){};h["box2d.dynamics.ContactListener"]=
ib;ib.__name__=["box2d","dynamics","ContactListener"];ib.prototype={beginContact:function(a){},endContact:function(a){},preSolve:function(a,b){},postSolve:function(a,b){},__class__:ib};var He=function(){this.$vB=null;this.$LC=0;this.$MC=ac.defaultFilter;this.$NC=ib.defaultListener;this.$OC=new Ge(this.$PC);this.$KC=new Ec};h["box2d.dynamics.ContactManager"]=He;He.__name__=["box2d","dynamics","ContactManager"];He.prototype={addPair:function(a,b){var c=a,d=b,e=c.$UC,g=d.$UC;if(e!=g){for(var l=g.$3B;null!=
l;){if(l.other==e){var f=l.contact.$_C,h=l.contact.$AD;if(f==c&&h==d||f==d&&h==c)return}l=l.next}!1!=g.shouldCollide(e)&&!1!=this.$MC.shouldCollide(c,d)&&(l=this.$OC.create(c,d),c=l.$_C,d=l.$AD,e=c.$UC,g=d.$UC,l.$wB=null,l.$xB=this.$vB.$3B,null!=this.$vB.$3B&&(this.$vB.$3B.$wB=l),this.$vB.$3B=l,l.$9C.contact=l,l.$9C.other=g,l.$9C.prev=null,l.$9C.next=e.$3B,null!=e.$3B&&(e.$3B.prev=l.$9C),e.$3B=l.$9C,l.$$C.contact=l,l.$$C.other=e,l.$$C.prev=null,l.$$C.next=g.$3B,null!=g.$3B&&(g.$3B.prev=l.$$C),g.$3B=
l.$$C,++this.$vB.$LC)}},findNewContacts:function(){this.$KC.updatePairs(Ga(this,this.addPair))},destroy:function(a){var b=a.$_C.$UC,c=a.$AD.$UC;0!=(a.$nB&16)&&this.$NC.endContact(a);null!=a.$wB&&(a.$wB.$xB=a.$xB);null!=a.$xB&&(a.$xB.$wB=a.$wB);a==this.$vB.$3B&&(this.$vB.$3B=a.$xB);null!=a.$9C.prev&&(a.$9C.prev.next=a.$9C.next);null!=a.$9C.next&&(a.$9C.next.prev=a.$9C.prev);a.$9C==b.$3B&&(b.$3B=a.$9C.next);null!=a.$$C.prev&&(a.$$C.prev.next=a.$$C.next);null!=a.$$C.next&&(a.$$C.next.prev=a.$$C.prev);
a.$$C==c.$3B&&(c.$3B=a.$$C.next);this.$OC.destroy(a);--this.$LC},collide:function(){for(var a=this.$vB.$3B;null!=a;){var b=a.$_C,c=a.$AD,d=b.$UC,e=c.$UC;if(0!=(d.$nB&2)==!1&&0!=(e.$nB&2)==!1)a=a.$xB;else{if(0!=(a.$nB&64)){if(!1==e.shouldCollide(d)){b=a;a=b.$xB;this.destroy(b);continue}if(!1==this.$MC.shouldCollide(b,c)){b=a;a=b.$xB;this.destroy(b);continue}a.$nB&=-65}!1==this.$KC.testOverlap(b.$YC,c.$YC)?(b=a,a=b.$xB,this.destroy(b)):(a.update(this.$NC),a=a.$xB)}}},__class__:He};var Jf=function(){};
h["box2d.dynamics.DestructionListener"]=Jf;Jf.__name__=["box2d","dynamics","DestructionListener"];Jf.prototype={sayGoodbyeJoint:function(a){},sayGoodbyeFixture:function(a){},__class__:Jf};var bc=function(){this.categoryBits=1;this.maskBits=65535;this.groupIndex=0};h["box2d.dynamics.FilterData"]=bc;bc.__name__=["box2d","dynamics","FilterData"];bc.prototype={copy:function(){var a=new bc;a.categoryBits=this.categoryBits;a.maskBits=this.maskBits;a.groupIndex=this.groupIndex;return a},__class__:bc};var Ee=
function(){this.$ZC=new bc;this.$SC=new rb;this.$VC=this.$xB=this.$UC=this.$BC=null;this.$XC=this.$WC=this.$TC=0};h["box2d.dynamics.Fixture"]=Ee;Ee.__name__=["box2d","dynamics","Fixture"];Ee.prototype={setSensor:function(a){if(this.$aC!=a&&(this.$aC=a,null!=this.$UC))for(a=this.$UC.$3B;null!=a;){var b=a.contact,c=b.$_C,d=b.$AD;c!=this&&d!=this||b.setSensor(c.$aC||d.$aC);a=a.next}},setFilterData:function(a){this.$ZC=a.copy();if(null==this.$UC)for(a=this.$UC.$3B;null!=a;){var b=a.contact,c=b.$AD;b.$_C!=
this&&c!=this||b.flagForFiltering();a=a.next}},getMassData:function(a){null==a&&(a=new De);this.$VC.computeMass(a,this.$TC);return a},create:function(a,b,c){this.$BC=c.userData;this.$WC=c.friction;this.$XC=c.restitution;this.$UC=a;this.$xB=null;this.$ZC=c.filter.copy();this.$aC=c.isSensor;this.$VC=c.shape.copy();this.$TC=c.density},destroy:function(){this.$VC=null},createProxy:function(a,b){this.$VC.computeAABB(this.$SC,b);this.$YC=a.createProxy(this.$SC,this)},destroyProxy:function(a){null!=this.$YC&&
(a.destroyProxy(this.$YC),this.$YC=null)},synchronize:function(a,b,c){if(null!=this.$YC){var d=new rb,e=new rb;this.$VC.computeAABB(d,b);this.$VC.computeAABB(e,c);this.$SC.combine(d,e);b=y.subtractVV(c.position,b.position);a.moveProxy(this.$YC,this.$SC,b)}},__class__:Ee};var jb=function(){this.filter=new bc;this.userData=this.shape=null;this.friction=0.2;this.density=this.restitution=0;this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=!1};h["box2d.dynamics.FixtureDef"]=
jb;jb.__name__=["box2d","dynamics","FixtureDef"];jb.prototype={__class__:jb};var ub=function(){this.$dC=[];this.$eC=[];this.$fC=[]};h["box2d.dynamics.Island"]=ub;ub.__name__=["box2d","dynamics","Island"];ub.prototype={initialize:function(a,b,c,d,e,g){this.$iC=a;this.$jC=b;this.$kC=c;this.$hC=this.$LC=this.$gC=0;this.$PC=d;this.$bC=e;this.$cC=g;for(d=this.$dC.length;d<a;)e=d++,this.$dC[e]=null;for(a=this.$eC.length;a<b;)d=a++,this.$eC[d]=null;for(b=this.$fC.length;b<c;)a=b++,this.$fC[a]=null},clear:function(){this.$hC=
this.$LC=this.$gC=0},solve:function(a,b,c){for(var d,e=0,g=this.$gC;e<g;)d=e++,d=this.$dC[d],2==d.$9&&(d.$rB.x+=a.dt*(d.$9B*b.x+d.$5B*d.$tB.x),d.$rB.y+=a.dt*(d.$9B*b.y+d.$5B*d.$tB.y),d.$sB+=a.dt*d.$7B*d.$uB,d.$rB.multiply(y.clamp(1-a.dt*d.$$B,0,1)),d.$sB*=y.clamp(1-a.dt*d.$_B,0,1));this.$cC.initialize(a,this.$eC,this.$LC,this.$PC);b=this.$cC;b.initVelocityConstraints(a);e=0;for(g=this.$hC;e<g;)d=e++,d=this.$fC[d],d.initVelocityConstraints(a);e=0;for(g=a.velocityIterations;e<g;){e++;for(var l=0,f=
this.$hC;l<f;)d=l++,d=this.$fC[d],d.solveVelocityConstraints(a);b.solveVelocityConstraints()}e=0;for(g=this.$hC;e<g;)d=e++,d=this.$fC[d],d.finalizeVelocityConstraints();b.finalizeVelocityConstraints();e=0;for(g=this.$gC;e<g;)d=e++,d=this.$dC[d],0!=d.$9&&(l=a.dt*d.$rB.x,f=a.dt*d.$rB.y,4<l*l+f*f&&(d.$rB.normalize(),d.$rB.x=2*d.$rB.x*a.inv_dt,d.$rB.y=2*d.$rB.y*a.inv_dt),l=a.dt*d.$sB,2.4674011002723395<l*l&&(d.$sB=0>d.$sB?-1.5707963267948966*a.inv_dt:1.5707963267948966*a.inv_dt),d.$qB.c0.setV(d.$qB.c),
d.$qB.a0=d.$qB.a,d.$qB.c.x+=a.dt*d.$rB.x,d.$qB.c.y+=a.dt*d.$rB.y,d.$qB.a+=a.dt*d.$sB,d.synchronizeTransform());e=0;for(g=a.positionIterations;e<g;){e++;for(var l=b.solvePositionConstraints(0.2),f=!0,h=0,k=this.$hC;h<k;)d=h++,d=this.$fC[d],d=d.solvePositionConstraints(0.2),f=f?d:!1;if(l&&f)break}this.report(b.$RD);if(c){c=1.7976931348623157E308;b=0;for(e=this.$gC;b<e;)d=b++,d=this.$dC[d],0!=d.$9&&(0==(d.$nB&4)&&(c=d.$AC=0),0==(d.$nB&4)||0.0012184696791468343<d.$sB*d.$sB||1E-4<y.dot(d.$rB,d.$rB)?c=
d.$AC=0:(d=d.$AC+=a.dt,c<d||(c=d)));if(0.5<=c)for(a=0,c=this.$gC;a<c;)b=a++,d=this.$dC[b],d.setAwake(!1)}},solveTOI:function(a){this.$cC.initialize(a,this.$eC,this.$LC,this.$PC);for(var b=this.$cC,c=0,d=this.$hC;c<d;){var e=c++;this.$fC[e].initVelocityConstraints(a)}c=0;for(d=a.velocityIterations;c<d;){c++;b.solveVelocityConstraints();for(var e=0,g=this.$hC;e<g;){var l=e++;this.$fC[l].solveVelocityConstraints(a)}}c=0;for(d=this.$gC;c<d;)e=c++,e=this.$dC[e],0!=e.$9&&(g=a.dt*e.$rB.x,l=a.dt*e.$rB.y,
4<g*g+l*l&&(e.$rB.normalize(),e.$rB.x=2*e.$rB.x*a.inv_dt,e.$rB.y=2*e.$rB.y*a.inv_dt),g=a.dt*e.$sB,2.4674011002723395<g*g&&(e.$sB=0>e.$sB?-1.5707963267948966*a.inv_dt:1.5707963267948966*a.inv_dt),e.$qB.c0.setV(e.$qB.c),e.$qB.a0=e.$qB.a,e.$qB.c.x+=a.dt*e.$rB.x,e.$qB.c.y+=a.dt*e.$rB.y,e.$qB.a+=a.dt*e.$sB,e.synchronizeTransform());c=0;for(a=a.positionIterations;c<a;){c++;d=b.solvePositionConstraints(0.75);e=!0;g=0;for(l=this.$hC;g<l;)var f=g++,f=this.$fC[f].solvePositionConstraints(0.2),e=e?f:!1;if(d&&
e)break}this.report(b.$RD)},report:function(a){if(null!=this.$bC)for(var b=0,c=this.$LC;b<c;){for(var d=b++,e=this.$eC[d],d=a[d],g=0,l=d.pointCount;g<l;){var f=g++;ub.$lC.normalImpulses[f]=d.points[f].normalImpulse;ub.$lC.tangentImpulses[f]=d.points[f].tangentImpulse}this.$bC.postSolve(e,ub.$lC)}},addBody:function(a){a.$oB=this.$gC;this.$dC[this.$gC++]=a},addContact:function(a){this.$eC[this.$LC++]=a},addJoint:function(a){this.$fC[this.$hC++]=a},__class__:ub};var cc=function(){};h["box2d.dynamics.TimeStep"]=
cc;cc.__name__=["box2d","dynamics","TimeStep"];cc.prototype={set:function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.positionIterations=a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=a.warmStarting},__class__:cc};var ja=function(a,b){this.$mC=[];this.$qC=new He;this.$cC=new sa;this.$rC=new ub;this.$0B=this.$2B=this.$3B=this.$sC=this.$wC=null;this.$1B=this.$hC=this.$LC=this.$gC=0;ja.$4C=!0;ja.$5C=!0;this.$uC=b;this.$tC=a;this.$xC=0;this.$qC.$vB=this;var c=new $b;
this.$vC=this.createBody(c)};h["box2d.dynamics.World"]=ja;ja.__name__=["box2d","dynamics","World"];ja.prototype={createBody:function(a){if(0!=(this.$nB&2)==!0)return null;a=new Zb(a,this);a.$wB=null;a.$xB=this.$sC;null!=this.$sC&&(this.$sC.$wB=a);this.$sC=a;++this.$gC;return a},destroyBody:function(a){if(0!=(this.$nB&2)!=!0){for(var b=a.$2B;null!=b;){var c=b,b=b.next;null!=this.$wC&&this.$wC.sayGoodbyeJoint(c.joint);this.destroyJoint(c.joint)}for(b=a.$0B;null!=b;)c=b,b=b.nextController,c.controller.removeBody(a);
for(b=a.$3B;null!=b;)c=b,b=b.next,this.$qC.destroy(c.contact);a.$3B=null;for(b=a.$yB;null!=b;)c=b,b=b.$xB,null!=this.$wC&&this.$wC.sayGoodbyeFixture(c),c.destroyProxy(this.$qC.$KC),c.destroy();a.$yB=null;a.$zB=0;null!=a.$wB&&(a.$wB.$xB=a.$xB);null!=a.$xB&&(a.$xB.$wB=a.$wB);a==this.$sC&&(this.$sC=a.$xB);--this.$gC}},destroyJoint:function(a){var b=a.$cD;null!=a.$wB&&(a.$wB.$xB=a.$xB);null!=a.$xB&&(a.$xB.$wB=a.$wB);a==this.$2B&&(this.$2B=a.$xB);var c=a.$ZD,d=a.$aD;c.setAwake(!0);d.setAwake(!0);null!=
a.$XD.prev&&(a.$XD.prev.next=a.$XD.next);null!=a.$XD.next&&(a.$XD.next.prev=a.$XD.prev);a.$XD==c.$2B&&(c.$2B=a.$XD.next);a.$XD.prev=null;a.$XD.next=null;null!=a.$YD.prev&&(a.$YD.prev.next=a.$YD.next);null!=a.$YD.next&&(a.$YD.next.prev=a.$YD.prev);a.$YD==d.$2B&&(d.$2B=a.$YD.next);a.$YD.prev=null;a.$YD.next=null;Ic.destroy(a,null);--this.$hC;if(!1==b)for(a=d.$3B;null!=a;)a.other==c&&a.contact.flagForFiltering(),a=a.next},step:function(a,b,c){0!=(this.$nB&1)&&(this.$qC.findNewContacts(),this.$nB&=-2);
this.$nB|=2;var d=ja.$yC;d.dt=a;d.velocityIterations=b;d.positionIterations=c;d.inv_dt=0<a?1/a:0;d.dtRatio=this.$xC*a;d.warmStarting=ja.$4C;this.$qC.collide();0<d.dt&&this.solve(d);ja.$5C&&0<d.dt&&this.solveTOI(d);0<d.dt&&(this.$xC=d.inv_dt);this.$nB&=-3},clearForces:function(){for(var a=this.$sC;null!=a;)a.$tB.setZero(),a.$uB=0,a=a.$xB},solve:function(a){for(var b,c=this.$0B;null!=c;)c.step(a),c=c.$xB;var d=this.$rC;d.initialize(this.$gC,this.$LC,this.$hC,null,this.$qC.$NC,this.$cC);for(b=this.$sC;null!=
b;)b.$nB&=-2,b=b.$xB;for(c=this.$3B;null!=c;)c.$nB&=-5,c=c.$xB;for(c=this.$2B;null!=c;)c.$bD=!1,c=c.$xB;for(var c=this.$mC,e=this.$sC;null!=e;){if(0==(e.$nB&1)&&0!=(e.$nB&2)!=!1&&0!=(e.$nB&32)!=!1&&0!=e.$9){d.clear();var g=0;c[g++]=e;for(e.$nB|=1;0<g;)if(b=c[--g],d.addBody(b),0!=(b.$nB&2)==!1&&b.setAwake(!0),0!=b.$9){for(var l,f=b.$3B;null!=f;)0==(f.contact.$nB&4)&&0!=(f.contact.$nB&1)!=!0&&0!=(f.contact.$nB&32)!=!1&&0!=(f.contact.$nB&16)!=!1&&(d.addContact(f.contact),f.contact.$nB|=4,l=f.other,0==
(l.$nB&1)&&(c[g++]=l,l.$nB|=1)),f=f.next;for(b=b.$2B;null!=b;)!0!=b.joint.$bD&&(l=b.other,0!=(l.$nB&32)!=!1&&(d.addJoint(b.joint),b.joint.$bD=!0,0==(l.$nB&1)&&(c[g++]=l,l.$nB|=1))),b=b.next}d.solve(a,this.$tC,this.$uC);g=0;for(l=d.$gC;g<l;)b=g++,b=d.$dC[b],0==b.$9&&(b.$nB&=-2)}e=e.$xB}a=0;for(d=c.length;a<d;){e=a++;if(null==c[e])break;c[e]=null}for(b=this.$sC;null!=b;)0!=(b.$nB&2)!=!1&&0!=(b.$nB&32)!=!1&&0!=b.$9&&b.synchronizeFixtures(),b=b.$xB;this.$qC.findNewContacts()},solveTOI:function(a){var b,
c,d,e,g=this.$rC;g.initialize(this.$gC,32,32,null,this.$qC.$NC,this.$cC);var l=ja.$3C;for(b=this.$sC;null!=b;)b.$nB&=-2,b.$qB.t0=0,b=b.$xB;for(b=this.$3B;null!=b;)b.$nB&=-13,b=b.$xB;for(e=this.$2B;null!=e;)e.$bD=!1,e=e.$xB;for(;;){e=null;var f=1;for(b=this.$3B;null!=b;){if(0!=(b.$nB&1)!=!0&&0!=(b.$nB&32)!=!1&&0!=(b.$nB&2)!=!1){c=1;if(0!=(b.$nB&8))c=b.$DD;else{c=b.$_C;d=b.$AD;c=c.$UC;d=d.$UC;if(!(2==c.$9&&0!=(c.$nB&2)!=!1||2==d.$9&&0!=(d.$nB&2)!=!1)){b=b.$xB;continue}var h=c.$qB.t0;c.$qB.t0<d.$qB.t0?
(h=d.$qB.t0,c.$qB.advance(h)):d.$qB.t0<c.$qB.t0&&(h=c.$qB.t0,d.$qB.advance(h));c=b.computeTOI(c.$qB,d.$qB);0<c&&1>c&&(c=(1-c)*h+c,1<c&&(c=1));b.$DD=c;b.$nB|=8}2.2250738585072014E-308<c&&c<f&&(e=b,f=c)}b=b.$xB}if(null==e||1<f)break;c=e.$_C;d=e.$AD;c=c.$UC;d=d.$UC;ja.$0C.set(c.$qB);ja.$1C.set(d.$qB);c.advance(f);d.advance(f);e.update(this.$qC.$NC);e.$nB&=-9;if(0!=(e.$nB&1)==!0||0!=(e.$nB&32)==!1)c.$qB.set(ja.$0C),d.$qB.set(ja.$1C),c.synchronizeTransform(),d.synchronizeTransform();else if(0!=(e.$nB&
16)!=!1){b=c;2!=b.$9&&(b=d);g.clear();d=c=0;l[c+d++]=b;for(b.$nB|=1;0<d;)if(b=l[c++],--d,g.addBody(b),0!=(b.$nB&2)==!1&&b.setAwake(!0),2==b.$9){for(e=b.$3B;null!=e&&g.$LC!=g.$jC;)0==(e.contact.$nB&4)&&0!=(e.contact.$nB&1)!=!0&&0!=(e.contact.$nB&32)!=!1&&0!=(e.contact.$nB&16)!=!1&&(g.addContact(e.contact),e.contact.$nB|=4,h=e.other,0==(h.$nB&1)&&(0!=h.$9&&(h.advance(f),h.setAwake(!0)),l[c+d]=h,++d,h.$nB|=1)),e=e.next;for(b=b.$2B;null!=b;)g.$hC!=g.$kC&&!0!=b.joint.$bD&&(h=b.other,0!=(h.$nB&32)!=!1&&
(g.addJoint(b.joint),b.joint.$bD=!0,0==(h.$nB&1)&&(0!=h.$9&&(h.advance(f),h.setAwake(!0)),l[c+d]=h,++d,h.$nB|=1))),b=b.next}b=ja.$2C;b.warmStarting=!1;b.dt=(1-f)*a.dt;b.inv_dt=1/b.dt;b.dtRatio=0;b.velocityIterations=a.velocityIterations;b.positionIterations=a.positionIterations;g.solveTOI(b);f=0;for(c=g.$gC;f<c;)if(b=f++,b=g.$dC[b],b.$nB&=-2,0!=(b.$nB&2)!=!1&&2==b.$9)for(b.synchronizeFixtures(),e=b.$3B;null!=e;)e.contact.$nB&=-9,e=e.next;f=0;for(e=g.$LC;f<e;)b=f++,b=g.$eC[b],b.$nB&=-13;f=0;for(b=
g.$hC;f<b;)e=f++,e=g.$fC[e],e.$bD=!1;this.$qC.findNewContacts()}}},__class__:ja};var U=function(){this.$9C=new Jc;this.$$C=new Jc;this.$BD=new Fc;this.$CD=new Fc};h["box2d.dynamics.contacts.Contact"]=U;U.__name__=["box2d","dynamics","contacts","Contact"];U.prototype={setSensor:function(a){this.$nB=a?this.$nB|1:this.$nB&-2},flagForFiltering:function(){this.$nB|=64},$8C:function(a,b){this.$nB=32;if(null==a||null==b)this.$AD=this.$_C=null;else{if(a.$aC||b.$aC)this.$nB|=1;var c=a.$UC,d=b.$UC;if(2!=c.$9||
0!=(c.$nB&8)||2!=d.$9||0!=(d.$nB&8))this.$nB|=2;this.$_C=a;this.$AD=b;this.$BD.$$=0;this.$xB=this.$wB=null;this.$9C.contact=null;this.$9C.prev=null;this.$9C.next=null;this.$9C.other=null;this.$$C.contact=null;this.$$C.prev=null;this.$$C.next=null;this.$$C.other=null}},update:function(a){var b=this.$CD;this.$CD=this.$BD;this.$BD=b;this.$nB|=32;var b=!1,c=0!=(this.$nB&16),d=this.$_C.$UC,e=this.$AD.$UC,g=this.$_C.$SC.testOverlap(this.$AD.$SC);if(0!=(this.$nB&1))g&&(b=za.testOverlap(this.$_C.$VC,d.$pB,
this.$AD.$VC,e.$pB)),this.$BD.$$=0;else{this.$nB=2!=d.$9||0!=(d.$nB&8)||2!=e.$9||0!=(e.$nB&8)?this.$nB|2:this.$nB&-3;if(g){this.evaluate();for(var b=0<this.$BD.$$,g=0,l=this.$BD.$$;g<l;){var f=g++,f=this.$BD.$6[f];f.$_=0;f.$AB=0;for(var h=f.$BB,k=0,q=this.$CD.$$;k<q;){var Q=k++,Q=this.$CD.$6[Q];if(Q.$BB.$H==h.$H){f.$_=Q.$_;f.$AB=Q.$AB;break}}}}else this.$BD.$$=0;b!=c&&(d.setAwake(!0),e.setAwake(!0))}this.$nB=b?this.$nB|16:this.$nB&-17;!1==c&&!0==b&&a.beginContact(this);!0==c&&!1==b&&a.endContact(this);
0==(this.$nB&1)&&a.preSolve(this,this.$CD)},evaluate:function(){},computeTOI:function(a,b){U.$KD.proxyA.set(this.$_C.$VC);U.$KD.proxyB.set(this.$AD.$VC);U.$KD.sweepA=a;U.$KD.sweepB=b;U.$KD.tolerance=0.005;return I.timeOfImpact(U.$KD)},__class__:U};var kb=function(){U.call(this)};h["box2d.dynamics.contacts.CircleContact"]=kb;kb.__name__=["box2d","dynamics","contacts","CircleContact"];kb.create=function(a){return new kb};kb.destroy=function(a,b){};kb.__super__=U;kb.prototype=m(U.prototype,{reset:function(a,
b){U.prototype.$8C.call(this,a,b)},evaluate:function(){H.collideCircles(this.$BD,this.$_C.$VC,this.$_C.$UC.$pB,this.$AD.$VC,this.$AD.$UC.$pB)},__class__:kb});var Je=function(){this.localPlaneNormal=new z;this.localPoint=new z;this.normal=new z;this.normalMass=new Xb;this.K=new Xb;this.points=[];for(var a=0;2>a;){var b=a++;this.points[b]=new Ie}};h["box2d.dynamics.contacts.ContactConstraint"]=Je;Je.__name__=["box2d","dynamics","contacts","ContactConstraint"];Je.prototype={__class__:Je};var Ie=function(){this.localPoint=
new z;this.rA=new z;this.rB=new z};h["box2d.dynamics.contacts.ContactConstraintPoint"]=Ie;Ie.__name__=["box2d","dynamics","contacts","ContactConstraintPoint"];Ie.prototype={__class__:Ie};var Jc=function(){};h["box2d.dynamics.contacts.ContactEdge"]=Jc;Jc.__name__=["box2d","dynamics","contacts","ContactEdge"];Jc.prototype={__class__:Jc};var Ge=function(a){this.$PC=a;this.initializeRegisters()};h["box2d.dynamics.contacts.ContactFactory"]=Ge;Ge.__name__=["box2d","dynamics","contacts","ContactFactory"];
Ge.prototype={addType:function(a,b,c,d){this.$LD[c][d].createFcn=a;this.$LD[c][d].destroyFcn=b;this.$LD[c][d].primary=!0;c!=d&&(this.$LD[d][c].createFcn=a,this.$LD[d][c].destroyFcn=b,this.$LD[d][c].primary=!1)},initializeRegisters:function(){this.$LD=[];for(var a=0;3>a;){var b=a++;this.$LD[b]=[];for(var c=0;3>c;){var d=c++;this.$LD[b][d]=new Ke}}this.addType(kb.create,kb.destroy,0,0);this.addType(lb.create,lb.destroy,1,0);this.addType(mb.create,mb.destroy,1,1);this.addType(nb.create,nb.destroy,2,
0);this.addType(ob.create,ob.destroy,1,2)},create:function(a,b){var c=this.$LD[a.$VC.$9][b.$VC.$9],d;if(null!=c.pool)return d=c.pool,c.pool=d.$xB,d.$8C(a,b),d;d=c.createFcn;return null!=d?(c.primary?(d=d(this.$PC),d.$8C(a,b)):(d=d(this.$PC),d.$8C(b,a)),d):null},destroy:function(a){0<a.$BD.$$&&(a.$_C.$UC.setAwake(!0),a.$AD.$UC.setAwake(!0));var b=this.$LD[a.$_C.$VC.$9][a.$AD.$VC.$9];a.$xB=b.pool;b.pool=a;b=b.destroyFcn;b(a,this.$PC)},__class__:Ge};var Ke=function(){};h["box2d.dynamics.contacts.ContactRegister"]=
Ke;Ke.__name__=["box2d","dynamics","contacts","ContactRegister"];Ke.prototype={__class__:Ke};var Le=function(){this.$QB=new z;this.$ND=[];this.$6=[];for(var a=0;2>a;){var b=a++;this.$6[b]=new z}};h["box2d.dynamics.contacts.PositionSolverManifold"]=Le;Le.__name__=["box2d","dynamics","contacts","PositionSolverManifold"];Le.prototype={initialize:function(a){var b,c,d,e,g;switch(a.type){case 0:d=a.bodyA.$pB.R;c=a.localPoint;b=a.bodyA.$pB.position.x+(d.col1.x*c.x+d.col2.x*c.y);e=a.bodyA.$pB.position.y+
(d.col1.y*c.x+d.col2.y*c.y);d=a.bodyB.$pB.R;c=a.points[0].localPoint;g=a.bodyB.$pB.position.x+(d.col1.x*c.x+d.col2.x*c.y);d=a.bodyB.$pB.position.y+(d.col1.y*c.x+d.col2.y*c.y);c=g-b;var l=d-e,f=c*c+l*l;0<f?(f=Math.sqrt(f),this.$QB.x=c/f,this.$QB.y=l/f):(this.$QB.x=1,this.$QB.y=0);this.$6[0].x=0.5*(b+g);this.$6[0].y=0.5*(e+d);this.$ND[0]=c*this.$QB.x+l*this.$QB.y-a.radius;break;case 1:d=a.bodyA.$pB.R;c=a.localPlaneNormal;this.$QB.x=d.col1.x*c.x+d.col2.x*c.y;this.$QB.y=d.col1.y*c.x+d.col2.y*c.y;d=a.bodyA.$pB.R;
c=a.localPoint;e=a.bodyA.$pB.position.x+(d.col1.x*c.x+d.col2.x*c.y);g=a.bodyA.$pB.position.y+(d.col1.y*c.x+d.col2.y*c.y);d=a.bodyB.$pB.R;l=0;for(f=a.pointCount;l<f;){var h=l++;c=a.points[h].localPoint;b=a.bodyB.$pB.position.x+(d.col1.x*c.x+d.col2.x*c.y);c=a.bodyB.$pB.position.y+(d.col1.y*c.x+d.col2.y*c.y);this.$ND[h]=(b-e)*this.$QB.x+(c-g)*this.$QB.y-a.radius;this.$6[h].x=b;this.$6[h].y=c}break;case 2:d=a.bodyB.$pB.R;c=a.localPlaneNormal;this.$QB.x=d.col1.x*c.x+d.col2.x*c.y;this.$QB.y=d.col1.y*c.x+
d.col2.y*c.y;d=a.bodyB.$pB.R;c=a.localPoint;e=a.bodyB.$pB.position.x+(d.col1.x*c.x+d.col2.x*c.y);g=a.bodyB.$pB.position.y+(d.col1.y*c.x+d.col2.y*c.y);d=a.bodyA.$pB.R;l=0;for(f=a.pointCount;l<f;)h=l++,c=a.points[h].localPoint,b=a.bodyA.$pB.position.x+(d.col1.x*c.x+d.col2.x*c.y),c=a.bodyA.$pB.position.y+(d.col1.y*c.x+d.col2.y*c.y),this.$ND[h]=(b-e)*this.$QB.x+(c-g)*this.$QB.y-a.radius,this.$6[h].set(b,c);this.$QB.x*=-1;this.$QB.y*=-1}},__class__:Le};var sa=function(){this.$QD=new cc;this.$RD=[]};h["box2d.dynamics.contacts.ContactSolver"]=
sa;sa.__name__=["box2d","dynamics","contacts","ContactSolver"];sa.prototype={initialize:function(a,b,c,d){var e;this.$QD.set(a);this.$PC=d;for(this.$SD=c;this.$RD.length<this.$SD;)this.$RD[this.$RD.length]=new Je;for(a=0;a<c;){d=a++;e=b[d];var g=e.$_C,l=e.$AD,f=g.$VC.$n,h=l.$VC.$n,k=g.$UC,q=l.$UC;e=e.$BD;var Q=Hc.mixFriction(g.$WC,l.$WC),r=Hc.mixRestitution(g.$XC,l.$XC),J=k.$rB.x,N=k.$rB.y,E=q.$rB.x,w=q.$rB.y,n=k.$sB,p=q.$sB;sa.$TD.initialize(e,k.$pB,f,q.$pB,h);g=sa.$TD.$QB.x;l=sa.$TD.$QB.y;d=this.$RD[d];
d.bodyA=k;d.bodyB=q;d.manifold=e;d.normal.x=g;d.normal.y=l;d.pointCount=e.$$;d.friction=Q;d.restitution=r;d.localPlaneNormal.x=e.$7.x;d.localPlaneNormal.y=e.$7.y;d.localPoint.x=e.$8.x;d.localPoint.y=e.$8.y;d.radius=f+h;d.type=e.$9;f=0;for(h=d.pointCount;f<h;){var m=f++,r=e.$6[m],Q=d.points[m];Q.normalImpulse=r.$_;Q.tangentImpulse=r.$AB;Q.localPoint.setV(r.$8);var r=Q.rA.x=sa.$TD.$6[m].x-k.$qB.c.x,v=Q.rA.y=sa.$TD.$6[m].y-k.$qB.c.y,x=Q.rB.x=sa.$TD.$6[m].x-q.$qB.c.x,m=Q.rB.y=sa.$TD.$6[m].y-q.$qB.c.y,
y=r*l-v*g,u=x*l-m*g,y=y*y,u=u*u;Q.normalMass=1/(k.$5B+q.$5B+k.$7B*y+q.$7B*u);var s=k.$4B*k.$5B+q.$4B*q.$5B,s=s+(k.$4B*k.$7B*y+q.$4B*q.$7B*u);Q.equalizedMass=1/s;u=l;s=-g;y=r*s-v*u;u=x*s-m*u;y*=y;u*=u;Q.tangentMass=1/(k.$5B+q.$5B+k.$7B*y+q.$7B*u);Q.velocityBias=0;r=d.normal.x*(E+-p*m-J- -n*v)+d.normal.y*(w+p*x-N-n*r);-1>r&&(Q.velocityBias+=-d.restitution*r)}2==d.pointCount&&(w=d.points[0],E=d.points[1],e=k.$5B,k=k.$7B,J=q.$5B,q=q.$7B,N=w.rA.x*l-w.rA.y*g,w=w.rB.x*l-w.rB.y*g,n=E.rA.x*l-E.rA.y*g,E=E.rB.x*
l-E.rB.y*g,g=e+J+k*N*N+q*w*w,l=e+J+k*n*n+q*E*E,q=e+J+k*N*n+q*w*E,g*g<100*(g*l-q*q)?(d.K.col1.set(g,q),d.K.col2.set(q,l),d.K.getInverse(d.normalMass)):d.pointCount=1)}},initVelocityConstraints:function(a){for(var b=0,c=this.$SD;b<c;){var d=b++,d=this.$RD[d],e=d.bodyA,g=d.bodyB,l=e.$5B,f=e.$7B,h=g.$5B,k=g.$7B,q=d.normal.x,Q=d.normal.y,r=Q,J=-q,N;if(a.warmStarting){N=d.pointCount;for(var E=0;E<N;){var w=E++,w=d.points[w];w.normalImpulse*=a.dtRatio;w.tangentImpulse*=a.dtRatio;var n=w.normalImpulse*q+
w.tangentImpulse*r,m=w.normalImpulse*Q+w.tangentImpulse*J;e.$sB-=f*(w.rA.x*m-w.rA.y*n);e.$rB.x-=l*n;e.$rB.y-=l*m;g.$sB+=k*(w.rB.x*m-w.rB.y*n);g.$rB.x+=h*n;g.$rB.y+=h*m}}else for(N=d.pointCount,e=0,g=N;e<g;)l=e++,l=d.points[l],l.normalImpulse=0,l.tangentImpulse=0}},solveVelocityConstraints:function(){for(var a,b,c,d,e,g,l,f,h,k,q=0,Q=this.$SD;q<Q;){var r=q++;d=this.$RD[r];var r=d.bodyA,J=d.bodyB,n=r.$sB,E=J.$sB,w=r.$rB,m=J.$rB,p=r.$5B,v=r.$7B,u=J.$5B,x=J.$7B;f=d.normal.x;var s=h=d.normal.y,z=-f;k=
d.friction;l=0;for(g=d.pointCount;l<g;)a=l++,a=d.points[a],b=m.x-E*a.rB.y-w.x+n*a.rA.y,c=m.y+E*a.rB.x-w.y-n*a.rA.x,b=b*s+c*z,b=a.tangentMass*-b,c=k*a.normalImpulse,c=y.clamp(a.tangentImpulse+b,-c,c),b=c-a.tangentImpulse,e=b*s,b*=z,w.x-=p*e,w.y-=p*b,n-=v*(a.rA.x*b-a.rA.y*e),m.x+=u*e,m.y+=u*b,E+=x*(a.rB.x*b-a.rB.y*e),a.tangentImpulse=c;if(1==d.pointCount)a=d.points[0],b=m.x+-E*a.rB.y-w.x- -n*a.rA.y,c=m.y+E*a.rB.x-w.y-n*a.rA.x,d=b*f+c*h,b=-a.normalMass*(d-a.velocityBias),c=a.normalImpulse+b,0<c||(c=
0),b=c-a.normalImpulse,e=b*f,b*=h,w.x-=p*e,w.y-=p*b,n-=v*(a.rA.x*b-a.rA.y*e),m.x+=u*e,m.y+=u*b,E+=x*(a.rB.x*b-a.rB.y*e),a.normalImpulse=c;else{a=d.points[0];s=d.points[1];g=a.normalImpulse;l=s.normalImpulse;e=(m.x-E*a.rB.y-w.x+n*a.rA.y)*f+(m.y+E*a.rB.x-w.y-n*a.rA.x)*h;var A=(m.x-E*s.rB.y-w.x+n*s.rA.y)*f+(m.y+E*s.rB.x-w.y-n*s.rA.x)*h;b=e-a.velocityBias;c=A-s.velocityBias;k=d.K;b-=k.col1.x*g+k.col2.x*l;for(c-=k.col1.y*g+k.col2.y*l;;){k=d.normalMass;z=-(k.col1.x*b+k.col2.x*c);k=-(k.col1.y*b+k.col2.y*
c);if(0<=z&&0<=k){g=z-g;l=k-l;d=g*f;g*=h;f*=l;h*=l;w.x-=p*(d+f);w.y-=p*(g+h);n-=v*(a.rA.x*g-a.rA.y*d+s.rA.x*h-s.rA.y*f);m.x+=u*(d+f);m.y+=u*(g+h);E+=x*(a.rB.x*g-a.rB.y*d+s.rB.x*h-s.rB.y*f);a.normalImpulse=z;s.normalImpulse=k;break}z=-a.normalMass*b;k=0;A=d.K.col1.y*z+c;if(0<=z&&0<=A){g=z-g;l=k-l;d=g*f;g*=h;f*=l;h*=l;w.x-=p*(d+f);w.y-=p*(g+h);n-=v*(a.rA.x*g-a.rA.y*d+s.rA.x*h-s.rA.y*f);m.x+=u*(d+f);m.y+=u*(g+h);E+=x*(a.rB.x*g-a.rB.y*d+s.rB.x*h-s.rB.y*f);a.normalImpulse=z;s.normalImpulse=k;break}z=0;
k=-s.normalMass*c;e=d.K.col2.x*k+b;if(0<=k&&0<=e){g=z-g;l=k-l;d=g*f;g*=h;f*=l;h*=l;w.x-=p*(d+f);w.y-=p*(g+h);n-=v*(a.rA.x*g-a.rA.y*d+s.rA.x*h-s.rA.y*f);m.x+=u*(d+f);m.y+=u*(g+h);E+=x*(a.rB.x*g-a.rB.y*d+s.rB.x*h-s.rB.y*f);a.normalImpulse=z;s.normalImpulse=k;break}k=z=0;e=b;A=c;if(0<=e&&0<=A){g=z-g;l=k-l;d=g*f;g*=h;f*=l;h*=l;w.x-=p*(d+f);w.y-=p*(g+h);n-=v*(a.rA.x*g-a.rA.y*d+s.rA.x*h-s.rA.y*f);m.x+=u*(d+f);m.y+=u*(g+h);E+=x*(a.rB.x*g-a.rB.y*d+s.rB.x*h-s.rB.y*f);a.normalImpulse=z;s.normalImpulse=k;break}break}}r.$sB=
n;J.$sB=E}},finalizeVelocityConstraints:function(){for(var a=0,b=this.$SD;a<b;)for(var c=a++,c=this.$RD[c],d=c.manifold,e=0,g=c.pointCount;e<g;){var l=e++,f=d.$6[l],l=c.points[l];f.$_=l.normalImpulse;f.$AB=l.tangentImpulse}},solvePositionConstraints:function(a){for(var b=0,c=0,d=this.$SD;c<d;){var e=c++,e=this.$RD[e],g=e.bodyA,l=e.bodyB,f=g.$4B*g.$5B,h=g.$4B*g.$7B,k=l.$4B*l.$5B,q=l.$4B*l.$7B;sa.$UD.initialize(e);for(var m=sa.$UD.$QB,r=0,n=e.pointCount;r<n;){var p=r++,E=e.points[p],w=sa.$UD.$6[p],
s=sa.$UD.$ND[p],p=w.x-g.$qB.c.x,v=w.y-g.$qB.c.y,u=w.x-l.$qB.c.x,w=w.y-l.$qB.c.y;b<s||(b=s);s=y.clamp(a*(s+0.005),-0.2,0);s*=-E.equalizedMass;E=s*m.x;s*=m.y;g.$qB.c.x-=f*E;g.$qB.c.y-=f*s;g.$qB.a-=h*(p*s-v*E);g.synchronizeTransform();l.$qB.c.x+=k*E;l.$qB.c.y+=k*s;l.$qB.a+=q*(u*s-w*E);l.synchronizeTransform()}}return-0.0075<b},__class__:sa};var nb=function(){U.call(this)};h["box2d.dynamics.contacts.EdgeAndCircleContact"]=nb;nb.__name__=["box2d","dynamics","contacts","EdgeAndCircleContact"];nb.create=
function(a){return new nb};nb.destroy=function(a,b){};nb.__super__=U;nb.prototype=m(U.prototype,{reset:function(a,b){U.prototype.$8C.call(this,a,b)},evaluate:function(){this.$VD(this.$BD,this.$_C.$VC,this.$_C.$UC.$pB,this.$AD.$VC,this.$AD.$UC.$pB)},$VD:function(a,b,c,d,e){},__class__:nb});var lb=function(){U.call(this)};h["box2d.dynamics.contacts.PolyAndCircleContact"]=lb;lb.__name__=["box2d","dynamics","contacts","PolyAndCircleContact"];lb.create=function(a){return new lb};lb.destroy=function(a,
b){};lb.__super__=U;lb.prototype=m(U.prototype,{reset:function(a,b){U.prototype.$8C.call(this,a,b)},evaluate:function(){H.collidePolygonAndCircle(this.$BD,this.$_C.$VC,this.$_C.$UC.$pB,this.$AD.$VC,this.$AD.$UC.$pB)},__class__:lb});var ob=function(){U.call(this)};h["box2d.dynamics.contacts.PolyAndEdgeContact"]=ob;ob.__name__=["box2d","dynamics","contacts","PolyAndEdgeContact"];ob.create=function(a){return new ob};ob.destroy=function(a,b){};ob.__super__=U;ob.prototype=m(U.prototype,{reset:function(a,
b){U.prototype.$8C.call(this,a,b)},evaluate:function(){this.$WD(this.$BD,this.$_C.$VC,this.$_C.$UC.$pB,this.$AD.$VC,this.$AD.$UC.$pB)},$WD:function(a,b,c,d,e){},__class__:ob});var mb=function(){U.call(this)};h["box2d.dynamics.contacts.PolygonContact"]=mb;mb.__name__=["box2d","dynamics","contacts","PolygonContact"];mb.create=function(a){return new mb};mb.destroy=function(a,b){};mb.__super__=U;mb.prototype=m(U.prototype,{reset:function(a,b){U.prototype.$8C.call(this,a,b)},evaluate:function(){H.collidePolygons(this.$BD,
this.$_C.$VC,this.$_C.$UC.$pB,this.$AD.$VC,this.$AD.$UC.$pB)},__class__:mb});var Kf=function(){};h["box2d.dynamics.controllers.Controller"]=Kf;Kf.__name__=["box2d","dynamics","controllers","Controller"];Kf.prototype={step:function(a){},removeBody:function(a){for(var b=a.$0B;null!=b&&b.controller!=this;)b=b.nextController;null!=b.prevBody&&(b.prevBody.nextBody=b.nextBody);null!=b.nextBody&&(b.nextBody.prevBody=b.prevBody);null!=b.nextController&&(b.nextController.prevController=b.prevController);null!=
b.prevController&&(b.prevController.nextController=b.nextController);this.$sC==b&&(this.$sC=b.nextBody);a.$0B==b&&(a.$0B=b.nextController);a.$1B--;this.$gC--},__class__:Kf};var Lf=function(){};h["box2d.dynamics.controllers.ControllerEdge"]=Lf;Lf.__name__=["box2d","dynamics","controllers","ControllerEdge"];Lf.prototype={__class__:Lf};var Ic=function(){};h["box2d.dynamics.joints.Joint"]=Ic;Ic.__name__=["box2d","dynamics","joints","Joint"];Ic.destroy=function(a,b){};Ic.prototype={initVelocityConstraints:function(a){},
solveVelocityConstraints:function(a){},finalizeVelocityConstraints:function(){},solvePositionConstraints:function(a){return!1},__class__:Ic};var Mf=function(){};h["box2d.dynamics.joints.JointEdge"]=Mf;Mf.__name__=["box2d","dynamics","joints","JointEdge"];Mf.prototype={__class__:Mf};var Sb=function(){this.$tE=[];G.call(this)};h["ez.FilterGroups"]=Sb;Sb.__name__=["ez","FilterGroups"];Sb.__super__=G;Sb.prototype=m(G.prototype,{get_entitySlot:function(){return 9},toBits:function(a){if(null==a)return 1;
var b=0;if(null!=a)for(var c=0;c<a.length;){var d=a[c];++c;var e=this.$tE.indexOf(d);0>e&&(e=this.$tE.push(d)-1);b|=1<<e+1}return b},__class__:Sb});var pb=function(a,b){this.states=new R;this.properties=new R;this.tile=this.points=null;this.layer=a;this.name=da.$kH(b.name);this.type=da.$kH(b.type);this.x=b.x;this.y=b.y;this.anchorX=da.$lH(b.anchorX,0);this.anchorY=da.$lH(b.anchorY,0);this.rotation=b.rotation;this.width=b.width;this.height=b.height;this.visible=b.visible;this.tint=null!=b.tintcolor?
fa.parseInt(ga.replace(b.tintcolor,"#","0x")):16777215;b.ellipse?this.shape=aa.Ellipse:null!=b.polygon?(this.shape=aa.Polygon,this.points=b.polygon.map(function(a){return new Qa(a.x,a.y)})):null!=b.polyline?(this.shape=aa.Polyline,this.points=b.polyline.map(function(a){return new Qa(a.x,a.y)})):null!=b.gid?(this.shape=aa.Tile,this.tile=a.scene.tiles.h[b.gid]):this.shape=aa.Rectangle;var c=null!=this.tile?-this.height:0;if(0==this.rotation)this.x+=this.anchorX,this.y+=this.anchorY+c;else{var d=new Aa;
d.compose(this.x,this.y,1,1,3.141592653589793*this.rotation/180);d.translate(this.anchorX,this.anchorY+c);this.x=d.m02;this.y=d.m12}null!=this.tile&&(this.anchorX*=this.tile.get_width()/this.width,this.anchorY*=this.tile.get_height()/this.height);c=da.$jH(b.properties);for(d=c.keys();d.hasNext();){var e=d.next(),g=null!=u[e]?c.getReserved(e):c.h[e];if(ga.startsWith(e,"@State:"))var l=this.states,e=M.substr(e,7,null);else l=this.properties;null!=u[e]?l.setReserved(e,g):l.h[e]=g}};h["kit.creator.ObjectInfo"]=
pb;pb.__name__=["kit","creator","ObjectInfo"];pb.prototype={createSprite:function(){var a;null!=this.tile?(a=this.tile.properties,a=!(null!=u.noSprite?a.existsReserved("noSprite"):a.h.hasOwnProperty("noSprite"))):a=!1;a?(a=this.tile.texture,a=null!=a&&2>Ub.count(this.states)?new $a(a):new dc(this)):a=new x;this.transformSprite(a);return a},transformSprite:function(a){null!=this.tile?(a.setXY(this.x+this.tile.tileset.offsetX,this.y+this.tile.tileset.offsetY),a.setScaleXY(this.width/this.tile.get_width(),
this.height/this.tile.get_height())):a.setXY(this.x,this.y);a.setAnchor(this.anchorX,this.anchorY);a.rotation.set__(this.rotation);a.set_visible(this.visible);a.setTint(this.tint)},__class__:pb};var O=function(){this.target=this.script=null};h["kit.creator.CreatorAction"]=O;O.__name__=["kit","creator","CreatorAction"];O.runSequence=function(a,b){for(var c=null,d=0;d<a.length;){var e=[a[d]];++d;c=null!=c?c.then(function(a){return function(c){return a[0].$xE(b)}}(e)):e[0].$xE(b)}return c};O.runParallel=
function(a,b){for(var c=[],d=0;d<a.length;){var e=a[d];++d;e=e.$xE(b);null!=e&&c.push(e)}return 0<c.length?ea.all(c):null};O.prototype={$vE:function(a){},$wE:function(a){return null},$xE:function(a){if(null==this.script||null==this.script.owner)return(new ea).failure();if(null!=this.target){var b=this.script.owner._internal_getFromParents(3,na);a=null;for(var c=b.objects.keys();c.hasNext();){var d=c.next();if(this.target.name==d.name){a=b.objects.h[d.__id__];break}}if(null==a)return(new ea).failure()}this.$vE(a);
return this.$wE(a)},__class__:O};var Kc=function(){this.duration=1;O.call(this)};h["ez.Delay"]=Kc;Kc.__name__=["ez","Delay"];Kc.__super__=O;Kc.prototype=m(O.prototype,{$wE:function(a){var b=new ea;a.addChild((new S).add(new Lc(this.duration,b)));return b},__class__:Kc});var Lc=function(a,b){G.call(this);this.$yE=a;this.$zE=b};h.$CH=Lc;Lc.__name__=["$CH"];Lc.__super__=G;Lc.prototype=m(G.prototype,{get_entitySlot:function(){return 11},onUpdate:function(a){this.$yE-=a;0>=this.$yE&&(this.owner.dispose(),
this.$zE.success(null))},__class__:Lc});var Mc=function(a){this.callInitPlatformSDK=!0;this.loaded=new ab;G.call(this);this.$0E=a};h["ez.EzApp"]=Mc;Mc.__name__=["ez","EzApp"];Mc.__super__=G;Mc.prototype=m(G.prototype,{get_entitySlot:function(){return 15},onStart:function(){var a=this,b=this.owner.$aF[7];if(null==b){var c=this.owner,b=new Nc;c.add(b)}var d=this.owner.$aF[4];null==d&&(c=this.owner,d=new ec,c.add(d));c=this.owner.$aF[12];if(null==c){var e=this.owner,c=new Eb;e.add(c)}c=da.getRequiredAssetPacks(this.$0E).map(function(a){return d.load(a)});
c=ea.all(c);this.callInitPlatformSDK&&(c=v.$OG.initPlatformSDK(c));c.then(function(c){b.unwindToScene(new Fb(a.$0E));a.loaded.emit()})},__class__:Mc});var bb=function(a){null==a&&(a=!0);G.call(this);this.opaque=a;this.shown=new ab;this.hidden=new ab};h["kit.scene.Scene"]=bb;bb.__name__=["kit","scene","Scene"];bb.__super__=G;bb.prototype=m(G.prototype,{get_entitySlot:function(){return 8},__class__:bb});var Fb=function(a,b){null==b&&(b=!0);this.onStarted=this.onStopped=this.onUpdated=this.onPropertyChanged=
this.onKeyDown=this.onKeyUp=this.onPointerDown=this.onPointerUp=this.onResized=this.$2E=null;bb.call(this,b);this.$1E=a};h["ez.EzScene"]=Fb;Fb.__name__=["ez","EzScene"];Fb.__super__=bb;Fb.prototype=m(bb.prototype,{onStart:function(){var a=this;bb.prototype.onStart.call(this);var b=this.owner._internal_getFromParents(4).getScene(this.$1E),c=[];this.registerDisposable(b.reloadCount.watch(function(d,e){var g=b.properties,g=null!=u.onStarted?g.getReserved("onStarted"):g.h.onStarted;a.onStarted=g;g=b.properties;
g=null!=u.onStopped?g.getReserved("onStopped"):g.h.onStopped;a.onStopped=g;g=b.properties;g=null!=u.onUpdated?g.getReserved("onUpdated"):g.h.onUpdated;a.onUpdated=g;g=b.properties;g=null!=u.onPropertyChanged?g.getReserved("onPropertyChanged"):g.h.onPropertyChanged;a.onPropertyChanged=g;g=b.properties;g=null!=u.onKeyDown?g.getReserved("onKeyDown"):g.h.onKeyDown;a.onKeyDown=g;g=b.properties;g=null!=u.onKeyUp?g.getReserved("onKeyUp"):g.h.onKeyUp;a.onKeyUp=g;g=b.properties;g=null!=u.onPointerDown?g.getReserved("onPointerDown"):
g.h.onPointerDown;a.onPointerDown=g;g=b.properties;g=null!=u.onPointerUp?g.getReserved("onPointerUp"):g.h.onPointerUp;a.onPointerUp=g;g=b.properties;g=null!=u.onResized?g.getReserved("onResized"):g.h.onResized;a.onResized=g;for(g=0;g<c.length;){var l=c[g];++g;l.dispose()}c=[];null!=a.onKeyDown&&(g=a.connect1(v.$OG.getKeyboard().down,function(b){a.$G(a.onKeyDown)}),c.push(g));null!=a.onKeyUp&&(g=a.connect1(v.$OG.getKeyboard().up,function(b){a.$G(a.onKeyUp)}),c.push(g));null!=a.onPointerDown&&(g=a.connect1(v.$OG.$jF.down,
function(b){a.$G(a.onPointerDown)}),c.push(g));null!=a.onPointerUp&&(g=a.connect1(v.$OG.$jF.up,function(b){a.$G(a.onPointerUp)}),c.push(g));null!=a.onResized&&(g=a.connect0(v.$OG.$lF.resize,function(){a.$G(a.onResized)}),c.push(g))}));var d=b.createSprite(),e=ba.$sL("width"),g=ba.$sL("height");d.setCamera(0,0,e,g);d.drawBackgroundColor=this.opaque;this.$2E=(new S).add(d);this.owner.addChild(this.$2E);e=new Oc;this.owner.add(e);var g=b.properties,g=null!=u.gravityX?g.getReserved("gravityX"):g.h.gravityX,
l=b.properties,l=null!=u.gravityY?l.getReserved("gravityY"):l.h.gravityY,e=e.world.$tC;null!=g&&(e.x=parseFloat(g));null!=l&&(e.y=parseFloat(l));e=new Eb;this.owner.add(e);if(null!=this.onPropertyChanged){g=[e];for(l=this.owner.parent;null!=l;){var f=l.$aF[12];null!=f&&g.push(f);l=l.parent}for(l=0;l<g.length;)f=g[l],++l,this.connect2(f.changed,function(b,c){a.$G(a.onPropertyChanged)})}for(g=b.properties.keys();g.hasNext();)l=g.next(),f=b.properties,f=parseFloat(null!=u[l]?f.getReserved(l):f.h[l]),
isNaN(f)||e.set(l,f);1!=ba.$sL("scaleMode")&&(e=function(){var a=Math.min(v.$OG.$lF.get_width()/d.cameraWidth.$6F,v.$OG.$lF.get_height()/d.cameraHeight.$6F),b=v.$OG.$lF.get_width()/2-a*d.cameraWidth.$6F/2,c=v.$OG.$lF.get_height()/2;d.setXY(b,c-a*d.cameraHeight.$6F/2);d.setScale(a)},e(),this.connect0(v.$OG.$lF.resize,e));e=b.createScript();this.$2E.add(e);this.owner.yieldForStart();null!=this.onStarted&&this.$G(this.onStarted);null!=this.onResized&&this.$G(this.onResized)},onUpdate:function(a){bb.prototype.onUpdate.call(this,
a);null!=this.onUpdated&&this.$G(this.onUpdated)},onStop:function(){bb.prototype.onStop.call(this);null!=this.onStopped&&this.$G(this.onStopped)},$G:function(a){this.$2E.emitMessageToParents(a,this.owner)},__class__:Fb});var ka=function(){this.subActions=[];O.call(this)};h["kit.creator.GroupAction"]=ka;ka.__name__=["kit","creator","GroupAction"];ka.__super__=O;ka.prototype=m(O.prototype,{$wE:function(a){return O.runSequence(this.subActions,a)},__class__:ka});var Me=function(){ka.call(this)};h["ez.Parallel"]=
Me;Me.__name__=["ez","Parallel"];Me.__super__=ka;Me.prototype=m(ka.prototype,{$wE:function(a){return O.runParallel(this.subActions,a)},__class__:Me});var Ne=function(){ka.call(this)};h["ez.RandomTarget"]=Ne;Ne.__name__=["ez","RandomTarget"];Ne.__super__=ka;Ne.prototype=m(ka.prototype,{$wE:function(a){if(0==this.subActions.length)return null;a=a.$aF[0];if(null==a)return null;a=this.script.owner._internal_getFromParents(3,na).getObjects(a.info.name);a=a[Math.random()*a.length|0];return O.runSequence(this.subActions,
a)},__class__:Ne});var Pc=function(){this.count=-1;ka.call(this)};h["ez.Repeat"]=Pc;Pc.__name__=["ez","Repeat"];Pc.__super__=ka;Pc.prototype=m(ka.prototype,{$wE:function(a){return 0>this.count?this.$4E(a):this.$5E(a,this.count)},$4E:function(a){var b=this;return O.runSequence(this.subActions,a).then(function(c){return b.$4E(a)})},$5E:function(a,b){var c=this;return 0>=b?null:O.runSequence(this.subActions,a).then(function(d){return c.$5E(a,b-1)})},__class__:Pc});var Oe=function(){ka.call(this)};h["ez.Spawn"]=
Oe;Oe.__name__=["ez","Spawn"];Oe.__super__=ka;Oe.prototype=m(ka.prototype,{$wE:function(a){if(null==a)return null;var b=this.script.owner._internal_getFromParents(3,na);a=a.$aF[0];a=null!=a?a.info:this.target;var c=b.createObject(a);b.getLayer(a.layer.name).addChild(c);c.yieldForStart();return O.runSequence(this.subActions,c)},__class__:Oe});var fc=function(){O.call(this)};h["ez.TweenAction"]=fc;fc.__name__=["ez","TweenAction"];fc.__super__=O;fc.prototype=m(O.prototype,{$7E:function(a,b,c,d,e,g,l){if(0>=
g)return b.set__(c),d.set__(e),null;l=this.$8E(l);b.animateTo(c,g,l);d.animateTo(e,g,l);return Gb.on(a,b)},$8E:function(a){switch(a[1]){case 0:return F.linear;case 1:return F.quadIn;case 2:return F.quadOut;case 3:return F.quadInOut;case 4:return F.cubeIn;case 5:return F.cubeOut;case 6:return F.cubeInOut;case 7:return F.quartIn;case 8:return F.quartOut;case 9:return F.quartInOut;case 10:return F.quintIn;case 11:return F.quintOut;case 12:return F.quintInOut;case 13:return F.sineIn;case 14:return F.sineOut;
case 15:return F.sineInOut;case 16:return F.bounceIn;case 17:return F.bounceOut;case 18:return F.bounceInOut;case 19:return F.circIn;case 20:return F.circOut;case 21:return F.circInOut;case 22:return F.expoIn;case 23:return F.expoOut;case 24:return F.expoInOut;case 25:return F.backIn;case 26:return F.backOut;case 27:return F.backInOut;case 28:return F.elasticIn;case 29:return F.elasticOut;case 30:return F.elasticInOut}},__class__:fc});var Gb=function(a,b){G.call(this);this.$$E=a;this.$_E=a.$_E;this.$zE=
b};h.$CI=Gb;Gb.__name__=["$CI"];Gb.on=function(a,b){var c=new ea;a.addChild((new S).add(new Gb(b,c)));return c};Gb.__super__=G;Gb.prototype=m(G.prototype,{get_entitySlot:function(){return 10},onUpdate:function(a){this.$$E.$_E!=this.$_E&&(this.owner.dispose(),this.$zE.success(null))},__class__:Gb});var n={__ename__:!0,__constructs__:"Linear QuadIn QuadOut QuadInOut CubeIn CubeOut CubeInOut QuartIn QuartOut QuartInOut QuintIn QuintOut QuintInOut SineIn SineOut SineInOut BounceIn BounceOut BounceInOut CircIn CircOut CircInOut ExpoIn ExpoOut ExpoInOut BackIn BackOut BackInOut ElasticIn ElasticOut ElasticInOut".split(" "),
Linear:["Linear",0]};n.Linear.toString=k;n.Linear.__enum__=n;n.QuadIn=["QuadIn",1];n.QuadIn.toString=k;n.QuadIn.__enum__=n;n.QuadOut=["QuadOut",2];n.QuadOut.toString=k;n.QuadOut.__enum__=n;n.QuadInOut=["QuadInOut",3];n.QuadInOut.toString=k;n.QuadInOut.__enum__=n;n.CubeIn=["CubeIn",4];n.CubeIn.toString=k;n.CubeIn.__enum__=n;n.CubeOut=["CubeOut",5];n.CubeOut.toString=k;n.CubeOut.__enum__=n;n.CubeInOut=["CubeInOut",6];n.CubeInOut.toString=k;n.CubeInOut.__enum__=n;n.QuartIn=["QuartIn",7];n.QuartIn.toString=
k;n.QuartIn.__enum__=n;n.QuartOut=["QuartOut",8];n.QuartOut.toString=k;n.QuartOut.__enum__=n;n.QuartInOut=["QuartInOut",9];n.QuartInOut.toString=k;n.QuartInOut.__enum__=n;n.QuintIn=["QuintIn",10];n.QuintIn.toString=k;n.QuintIn.__enum__=n;n.QuintOut=["QuintOut",11];n.QuintOut.toString=k;n.QuintOut.__enum__=n;n.QuintInOut=["QuintInOut",12];n.QuintInOut.toString=k;n.QuintInOut.__enum__=n;n.SineIn=["SineIn",13];n.SineIn.toString=k;n.SineIn.__enum__=n;n.SineOut=["SineOut",14];n.SineOut.toString=k;n.SineOut.__enum__=
n;n.SineInOut=["SineInOut",15];n.SineInOut.toString=k;n.SineInOut.__enum__=n;n.BounceIn=["BounceIn",16];n.BounceIn.toString=k;n.BounceIn.__enum__=n;n.BounceOut=["BounceOut",17];n.BounceOut.toString=k;n.BounceOut.__enum__=n;n.BounceInOut=["BounceInOut",18];n.BounceInOut.toString=k;n.BounceInOut.__enum__=n;n.CircIn=["CircIn",19];n.CircIn.toString=k;n.CircIn.__enum__=n;n.CircOut=["CircOut",20];n.CircOut.toString=k;n.CircOut.__enum__=n;n.CircInOut=["CircInOut",21];n.CircInOut.toString=k;n.CircInOut.__enum__=
n;n.ExpoIn=["ExpoIn",22];n.ExpoIn.toString=k;n.ExpoIn.__enum__=n;n.ExpoOut=["ExpoOut",23];n.ExpoOut.toString=k;n.ExpoOut.__enum__=n;n.ExpoInOut=["ExpoInOut",24];n.ExpoInOut.toString=k;n.ExpoInOut.__enum__=n;n.BackIn=["BackIn",25];n.BackIn.toString=k;n.BackIn.__enum__=n;n.BackOut=["BackOut",26];n.BackOut.toString=k;n.BackOut.__enum__=n;n.BackInOut=["BackInOut",27];n.BackInOut.toString=k;n.BackInOut.__enum__=n;n.ElasticIn=["ElasticIn",28];n.ElasticIn.toString=k;n.ElasticIn.__enum__=n;n.ElasticOut=["ElasticOut",
29];n.ElasticOut.toString=k;n.ElasticOut.__enum__=n;n.ElasticInOut=["ElasticInOut",30];n.ElasticInOut.toString=k;n.ElasticInOut.__enum__=n;var Qc=function(){this.ease=n.Linear;this.duration=0;this.x=this.y=null;O.call(this)};h["ez.display.ScaleTo"]=Qc;Qc.__name__=["ez","display","ScaleTo"];Qc.__super__=fc;Qc.prototype=m(fc.prototype,{$wE:function(a){var b=a.$aF[3];return this.$7E(a,b.scaleX,null!=this.x?this.x:b.scaleX.$6F,b.scaleY,null!=this.y?this.y:b.scaleY.$6F,this.duration,this.ease)},__class__:Qc});
var Rc=function(){this["with"]=[];ka.call(this)};h["ez.physics.IfCollision"]=Rc;Rc.__name__=["ez","physics","IfCollision"];Rc.__super__=ka;Rc.prototype=m(ka.prototype,{$wE:function(a){var b=a.$aF[6];if(null==b)return null;var c=b.box2d,d=c.owner.$aF[9];null==d&&(c=c.owner,d=new Sb,c.add(d));d=d.toBits(this["with"]);for(b=b.body.$3B;null!=b;){if(0!=(b.contact.$nB&16)&&0!=(b.other.$yB.$ZC.categoryBits&d))return O.runSequence(this.subActions,a);b=b.next}return null},__class__:Rc});var Sc=function(){this.speed=
this.forwardAngle=0;O.call(this)};h["ez.physics.MoveForward"]=Sc;Sc.__name__=["ez","physics","MoveForward"];Sc.__super__=O;Sc.prototype=m(O.prototype,{$vE:function(a){var b=a.$aF[6];if(null!=b&&0!=b.body.$9){b.body.setAwake(!0);a=b.body.$qB.a-3.141592653589793*this.forwardAngle/180;var c=this.speed/b.box2d.scale,b=b.body.$rB;b.x=Math.cos(a)*c;b.y=Math.sin(a)*c}},__class__:Sc});var Tc=function(){this.x=this.y=this.rotation=null;O.call(this)};h["ez.physics.SetVelocity"]=Tc;Tc.__name__=["ez","physics",
"SetVelocity"];Tc.__super__=O;Tc.prototype=m(O.prototype,{$vE:function(a){a=a.$aF[6];if(null!=a){0==a.body.$9&&a.body.setType(1);0==(a.body.$nB&2)&&a.body.setAwake(!0);var b=a.body.$rB;null!=this.x&&(b.x=this.x/a.box2d.scale);null!=this.y&&(b.y=this.y/a.box2d.scale);null!=this.rotation&&a.body.setAngularVelocity(3.141592653589793*this.rotation/180)}},__class__:Tc});var Ra={__ename__:!0,__constructs__:["Global","Scene","Target"],Global:["Global",0]};Ra.Global.toString=k;Ra.Global.__enum__=Ra;Ra.Scene=
["Scene",1];Ra.Scene.toString=k;Ra.Scene.__enum__=Ra;Ra.Target=["Target",2];Ra.Target.toString=k;Ra.Target.__enum__=Ra;var vb=function(){this.location=Ra.Scene;this.property=null;O.call(this)};h["ez.property.PropertyAction"]=vb;vb.__name__=["ez","property","PropertyAction"];vb.__super__=O;vb.prototype=m(O.prototype,{$vE:function(a){if(null!=this.property){var b=this.$AF(a),c=b.$aF[12];null==c&&(c=new Eb,b.add(c));b=c.get(this.property);a=this.$BF(a,b);c.set(this.property,a)}},$AF:function(a){switch(this.location[1]){case 0:return this.script.owner._internal_getFromParents(15).owner;
case 1:return this.script.owner._internal_getFromParents(8,Fb).owner;case 2:return a}},$BF:function(a,b){return null},__class__:vb});var Uc=function(){this.value=1;vb.call(this)};h["ez.property.AddToProperty"]=Uc;Uc.__name__=["ez","property","AddToProperty"];Uc.__super__=vb;Uc.prototype=m(vb.prototype,{$BF:function(a,b){return b+this.value},__class__:Uc});var gc=function(){};h["haxe.IMap"]=gc;gc.__name__=["haxe","IMap"];gc.prototype={__class__:gc};var Sa=function(){this.h={}};h["haxe.ds.IntMap"]=
Sa;Sa.__name__=["haxe","ds","IntMap"];Sa.__interfaces__=[gc];Sa.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:Sa};var Ta=function(){this.h={__keys__:{}}};h["haxe.ds.ObjectMap"]=Ta;Ta.__name__=["haxe","ds","ObjectMap"];Ta.__interfaces__=[gc];Ta.assignId=function(a){return a.__id__=++Ta.count};Ta.getId=function(a){return a.__id__};
Ta.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Ta.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return M.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},
next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Ta};var Ia=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};h["haxe.ds._StringMap.StringMapIterator"]=Ia;Ia.__name__=["haxe","ds","_StringMap","StringMapIterator"];Ia.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=u[b]?a.getReserved(b):a.h[b]},__class__:Ia};var R=function(){this.h={}};h["haxe.ds.StringMap"]=R;R.__name__=
["haxe","ds","StringMap"];R.__interfaces__=[gc];R.prototype={set:function(a,b){null!=u[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=u[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=u[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=
u[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return M.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Ia(this,this.arrayKeys())},__class__:R};var cb=function(a){this.length=a.byteLength;this.b=new Uint8Array(a);
this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};h["haxe.io.Bytes"]=cb;cb.__name__=["haxe","io","Bytes"];cb.alloc=function(a){return new cb(new ArrayBuffer(a))};cb.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new cb((new Uint8Array(b)).buffer)};cb.ofData=
function(a){var b=a.hxBytes;return null!=b?b:new cb(a)};cb.fastGet=function(a,b){return a.bytes[b]};cb.prototype={__class__:cb};var Da={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:["Blocked",0]};Da.Blocked.toString=k;Da.Blocked.__enum__=Da;Da.Overflow=["Overflow",1];Da.Overflow.toString=k;Da.Overflow.__enum__=Da;Da.OutsideBounds=["OutsideBounds",2];Da.OutsideBounds.toString=k;Da.OutsideBounds.__enum__=Da;Da.Custom=function(a){a=["Custom",3,a];a.__enum__=Da;
a.toString=k;return a};var Nf=function(){};h["haxe.io.FPHelper"]=Nf;Nf.__name__=["haxe","io","FPHelper"];Nf.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Nf.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};var Of={};h["haxe.io._Float32Array.Float32Array_Impl_"]=
Of;Of.__name__=["haxe","io","_Float32Array","Float32Array_Impl_"];Of.fromArray=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw new qa(Da.OutsideBounds);if(0==b&&c==a.length)return new Float32Array(a);for(var d=new Float32Array(a.length),e=0;e<c;){var g=e++;d[g]=a[g+b]}return d};var Pf={};h["haxe.io._UInt16Array.UInt16Array_Impl_"]=Pf;Pf.__name__=["haxe","io","_UInt16Array","UInt16Array_Impl_"];Pf.fromArray=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-
b);if(0>b||0>c||b+c>a.length)throw new qa(Da.OutsideBounds);if(0==b&&c==a.length)return new Uint16Array(a);for(var d=new Uint16Array(a.length),e=0;e<c;){var g=e++;d[g]=a[g+b]&65535}return d};var Vc=function(){};h["haxe.rtti.Meta"]=Vc;Vc.__name__=["haxe","rtti","Meta"];Vc.getType=function(a){a=Vc.getMeta(a);return null==a||null==a.obj?{}:a.obj};Vc.getMeta=function(a){return a.__meta__};var qa=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,
qa)};h["js._Boot.HaxeError"]=qa;qa.__name__=["js","_Boot","HaxeError"];qa.wrap=function(a){return a instanceof Error?a:new qa(a)};qa.__super__=Error;qa.prototype=m(Error.prototype,{__class__:qa});var W=function(){};h["js.Boot"]=W;W.__name__=["js","Boot"];W.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=W.__nativeClassName(a);return null!=a?W.__resolveNativeClass(a):null};W.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";
var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var g=d++,c=2!=g?c+(","+W.__string_rec(a[g],b)):c+W.__string_rec(a[g],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)g=e++,d+=(0<g?",":"")+W.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(l){return"???"}if(null!=d&&d!=Object.toString&&"function"==
typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+W.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};W.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<
e;){var g=d++,g=c[g];if(g==b||W.__interfLoop(g,b))return!0}return W.__interfLoop(a.__super__,b)};W.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case kg:return"boolean"==typeof a;case sg:return!0;case lg:return"number"==typeof a;case tg:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||W.__interfLoop(W.getClass(a),b))return!0}else{if("object"==
typeof b&&W.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==ug&&null!=a.__name__||b==vg&&null!=a.__ename__?!0:a.__enum__==b}};W.__nativeClassName=function(a){a=W.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};W.__isNativeObj=function(a){return null!=W.__nativeClassName(a)};W.__resolveNativeClass=function(a){return qg[a]};var Qf=function(){};h["js.html._CanvasElement.CanvasUtil"]=Qf;Qf.__name__=["js","html","_CanvasElement","CanvasUtil"];
Qf.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var hc=function(){};h["kit.asset.AssetPack"]=hc;hc.__name__=["kit","asset","AssetPack"];hc.__interfaces__=[Na];hc.prototype={__class__:hc};var ec=function(){this.$GF=new R;this.$FF=[];this.preferredPixelScale=-1;this.localBase=this.remoteBase=null;G.call(this)};h["kit.Assets"]=ec;ec.__name__=["kit","Assets"];ec.__interfaces__=[hc];ec.__super__=
G;ec.prototype=m(G.prototype,{get_entitySlot:function(){return 4},load:function(a,b){null==b&&(b=-1);0>=b&&(b=this.preferredPixelScale);var c=Va.fromAssets(a,b);null!=this.localBase&&(c.$jG=this.localBase);null!=this.remoteBase&&(c.$kG=this.remoteBase);return this.loadManifest(c,a)},loadManifest:function(a,b){var c=this;if(null!=b){var d=this.$GF,e=null!=u[b]?d.getReserved(b):d.h[b];if(null==e){var d=this.$GF,g=e=new Pe;null!=u[b]?d.setReserved(b,g):d.h[b]=g;e.$PF=v.$OG.loadAssetPack(a).then(function(a){var d=
c.$GF;(null!=u[b]?d.getReserved(b):d.h[b])==e&&c.$FF.push(new Wc(a));return e.$HF=a})}return e.$PF}return v.$OG.loadAssetPack(a).then(function(a){c.addPack(a);return a})},addPack:function(a){this.$FF.push(new Wc(a));return this},getTexture:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$FF;c<d.length;){var e=d[c];++c;e=e.$HF.getTexture(a,!1);if(null!=e)return e}c=this.$EF();return null!=c?c.getTexture(a,b):null},getFile:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$FF;c<d.length;){var e=d[c];
++c;e=e.$HF.getFile(a,!1);if(null!=e)return e}c=this.$EF();return null!=c?c.getFile(a,b):null},getFont:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$FF;c<d.length;){var e=d[c];++c;var g=e.$IF,g=null!=u[a]?g.getReserved(a):g.h[a];if(null!=g)return g;if(null!=e.$HF.getFile(a+".fnt",!1))return c=new Hb(this,a),e=e.$IF,null!=u[a]?e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$EF();return null!=e?e.getFont(a,b):null},getScene:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$FF;c<d.length;){var e=
d[c];++c;var g=e.$LF,g=null!=u[a]?g.getReserved(a):g.h[a];if(null!=g)return g;if(null!=e.$HF.getFile(a+".scene",!1))return c=new da(this,a),e=e.$LF,null!=u[a]?e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$EF();return null!=e?e.getScene(a,b):null},getSceneSymbol:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$FF;c<d.length;){var e=d[c];++c;var g=e.$MF,g=null!=u[a]?g.getReserved(a):g.h[a];if(null!=g)return g;if(null!=e.$HF.getFile(a+".symbol",!1))return c=new da(this,a,!0),e=e.$MF,null!=u[a]?
e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$EF();return null!=e?e.getSceneSymbol(a,b):null},getTexturePacker:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$FF;c<d.length;){var e=d[c];++c;var g=e.$NF,g=null!=u[a]?g.getReserved(a):g.h[a];if(null!=g)return g;if(null!=e.$HF.getFile(a+".json",!1))return c=new Qe(this,a),e=e.$NF,null!=u[a]?e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$EF();return null!=e?e.getTexturePacker(a,b):null},$EF:function(){return null==this.owner||null==this.owner.parent?
null:this.owner.parent._internal_getFromParents(4)},dispose:function(){G.prototype.dispose.call(this);var a=this.$FF;this.$FF=[];this.$GF=new R;for(var b=0;b<a.length;){var c=a[b];++b;c.$HF.dispose()}},__class__:ec});var Wc=function(a){this.$NF=new R;this.$MF=new R;this.$LF=new R;this.$IF=new R;this.$HF=a};h.$CJ=Wc;Wc.__name__=["$CJ"];Wc.prototype={__class__:Wc};var Pe=function(){};h.$CK=Pe;Pe.__name__=["$CK"];Pe.prototype={__class__:Pe};var se=function(){this.$QF=this.$RF=null};h.$CM=se;se.__name__=
["$CM"];se.prototype={$SF:function(){var a=this.$RF;if(null!=a){this.$RF=null;for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}}this.$QF=null},__class__:se};var Re=function(){};h["kit.MessageResult"]=Re;Re.__name__=["kit","MessageResult"];Re.prototype={__class__:Re};var S=function(){this.active=!0;this.parent=this.firstChild=this.next=this.firstComponent=null;this.$aF={}};h["kit.Entity"]=S;S.__name__=["kit","Entity"];S.__interfaces__=[Na];S.$bF=function(a){for(var b=null;null!=a;)b=a,a=a.next;
return b};S.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_entitySlot(),c=this.$aF[b];null!=c&&this.remove(c);this.$aF[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),a=c.get_entitySlot(),delete this.$aF[a],0!=(c.$B&1)&&(c.onStop(),
c.$B&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;b?this.$WF(S.$bF(this.firstChild),a):this.$XF(a);return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){if(c==a){this.$VF(b);c.parent=null;c.next=null;break}b=c;c=c.next}},emitMessage:function(a,b){for(var c=!1,d=this.firstComponent;null!=d;){var e=d.next;d.onMessage(a,b)&&(c=!0);d=e}S.$cF.handled=c;return S.$cF},
emitMessageToParents:function(a,b){for(var c=!1,d=this;;){var e=d.parent;d.emitMessage(a,b).handled&&(c=!0);d=e;if(null==d)break}S.$cF.handled=c;return S.$cF},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},yieldForStart:function(){for(var a=this.firstComponent;null!=a;){var b=a.next;0==(a.$B&1)&&(a.$B|=1,a.$A(),
a.onStart());a=b}for(a=this.firstChild;null!=a;)b=a.next,a.yieldForStart(),a=b},_internal_getFromParents:function(a,b){for(var c=this;;){var d=c.$aF[a];null!=b&&(d=d instanceof b?d:null);if(null!=d)return d;c=c.parent;if(null==c)break}return null},$VF:function(a){null!=a?a.next=a.next.next:this.$YF()},$WF:function(a,b){null!=a?(b.next=a.next,a.next=b):this.$XF(b)},$XF:function(a){a.next=this.firstChild;this.firstChild=a},$YF:function(){this.firstChild=this.firstChild.next},__class__:S};var Rf=function(){};
h["kit.util.PackageLog"]=Rf;Rf.__name__=["kit","util","PackageLog"];var Se=function(){};h.$CN=Se;Se.__name__=["$CN"];Se.prototype={__class__:Se};var db=function(){this.$2F=!0};h.$CO=db;db.__name__=["$CO"];db.__interfaces__=[Se];db.prototype={init:function(){var a=this,b=window.document.getElementById("content");b.innerHTML="";var c=window.document.createElement("canvas");b.appendChild(c);c.setAttribute("tabindex","0");c.style.outlineStyle="none";K.$GQ(c,"tap-highlight-color","transparent");c.setAttribute("moz-opaque",
"");this.$lF=new Xc(c);this.$jF=new ta;this.$iF=new Yc(this.$jF,c);this.$kF=this.$hF(c);this.$dF=new wb;this.$yF=c;this.$zF=c.parentElement;this.$zF.style.overflow="hidden";this.$zF.style.position="relative";K.$GQ(this.$zF,"touch-action","none");var d=0,b=function(b){if(!(1E3>b.timeStamp-d)){var e=c.getBoundingClientRect(),g=a.$fF(b,e),e=a.$gF(b,e);switch(b.type){case "mousedown":b.target==c&&(b.preventDefault(),a.$iF.$WL(g,e,b.button),c.focus());break;case "mousemove":a.$iF.$aL(g,e);break;case "mouseup":a.$iF.$XL(g,
e,b.button);break;case "DOMMouseScroll":case "mousewheel":a.$iF.$bL(g,e,"mousewheel"==b.type?b.wheelDelta/40:-b.detail)&&b.preventDefault()}}};window.addEventListener("mousedown",b,!1);window.addEventListener("mousemove",b,!1);window.addEventListener("mouseup",b,!1);c.addEventListener("mousewheel",b,!1);c.addEventListener("DOMMouseScroll",b,!1);c.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var e="undefined"!=typeof window.ontouchstart,b=K.$DQ("maxTouchPoints",window.navigator).value|
0;if(e||1<b){var g=new Zc(this.$jF,e?4:b);this.$mF=g;b=function(b){var c=e?b.changedTouches:[b],l=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "MSPointerMove":case "pointermove":case "touchmove":b.preventDefault();for(b=0;b<c.length;){var f=c[b];++b;var h=a.$fF(f,l),t=a.$gF(f,l);g.$aL((e?f.identifier:f.pointerId)|0,h,t)}break;case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":for(b=0;b<c.length;)f=c[b],++b,h=a.$fF(f,l),t=a.$gF(f,l),g.$XL((e?f.identifier:f.pointerId)|
0,h,t);break;case "MSPointerDown":case "pointerdown":case "touchstart":for(b.preventDefault(),b=0;b<c.length;)f=c[b],++b,h=a.$fF(f,l),t=a.$gF(f,l),g.$WL((e?f.identifier:f.pointerId)|0,h,t)}};e?(c.addEventListener("touchstart",b,!1),c.addEventListener("touchmove",b,!1),c.addEventListener("touchend",b,!1),c.addEventListener("touchcancel",b,!1)):(c.addEventListener("MSPointerDown",b,!1),c.addEventListener("MSPointerMove",b,!1),c.addEventListener("MSPointerUp",b,!1))}else this.$mF=new $c;var l=window.onerror;
window.onerror=function(a,b,c){v.uncaughtError.emit(a);return null!=l?l(a,b,c):!1};var f=K.$DQ("hidden",window.document);null!=f.value?(b=function(a){v.hidden.set__(Y.field(window.document,f.field))},b(null),window.document.addEventListener(f.prefix+"visibilitychange",b,!1)):(b=function(a){v.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",b,!1),window.addEventListener("pagehide",b,!1));v.hidden.get_changed().connect(function(b,c){b||(a.$1F=!0)});this.$1F=!1;this.$0F=Date.now();
var h=K.$DQ("requestAnimationFrame").value;if(null!=h){var k=window.performance,q=null!=k&&K.$FQ("now",k);q&&(this.$0F=k.now());var m=null,m=function(b){h(m,c);b=q?k.now():b;a.$eF(b)};h(m,c)}else window.setInterval(function(){var b=Date.now();a.$eF(b)},16);this.$dF.$HJ();return(new ea).success(null)},loadAssetPack:function(a){return(new T(this,a)).$PF},createLogHandler:function(a){return null},initPlatformSDK:function(a){return a},$eF:function(a){var b=(a-this.$0F)/1E3;this.$0F=a;v.hidden.$6F||(this.$1F?
this.$1F=!1:(this.$2F&&(this.$2F=!1,this.$lF.$2P(null)),this.$dF.$eF(b),this.$dF.$zH(this.$kF)))},getKeyboard:function(){var a=this;if(null==this.$sF){this.$sF=new Ua;var b=function(b){switch(b.type){case "keydown":a.$sF.$WL(b.keyCode)&&b.preventDefault();break;case "keyup":a.$sF.$XL(b.keyCode)}};this.$yF.addEventListener("keydown",b,!1);this.$yF.addEventListener("keyup",b,!1);if(null!=window.history&&null!=(gg=window.history,Ga(gg,gg.pushState))){var c=!1,d=function(){window.history.pushState("2DKitBack",
null);c=!0};window.addEventListener("popstate",function(b){c&&(null!=a.$sF.backButton.$HG?(d(),a.$sF.backButton.emit()):window.history.back())});if(K.$$P)this.$jF.down.connect(function(a){d()}).once();else d()}}return this.$sF},getExternal:function(){null==this.$qF&&(this.$qF=new ad);return this.$qF},getRenderer:function(){return this.$kF},$fF:function(a,b){return(a.clientX-b.left)*this.$lF.get_width()/b.width},$gF:function(a,b){return(a.clientY-b.top)*this.$lF.get_height()/b.height},$hF:function(a){try{var b=
Qf.getContextWebGL(a,{alpha:!1,depth:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});if(null!=b){A.$HJ(b);var c=new bd(this.$lF,b);if(c.$QS)return c}}catch(d){}return new cd(a)},__class__:db};var ia=function(a,b){this.$6F=a;this.$7F=null!=b?new qb(b):null};h["kit.util.Value"]=ia;ia.__name__=["kit","util","Value"];ia.prototype={watch:function(a){a(this.$6F,this.$6F);return this.get_changed().connect(a)},set__:function(a){var b=this.$6F;a!=b&&(this.$6F=a,null!=this.$7F&&this.$7F.emit(a,b));return a},
get_changed:function(){null==this.$7F&&(this.$7F=new qb);return this.$7F},__class__:ia,__properties__:{get_changed:"get_changed",set__:"set__"}};var Ib=function(a,b){this.$8F=null;this.$$F=a;this.$9F=b;this.stayInList=!0};h["kit.util.SignalConnection"]=Ib;Ib.__name__=["kit","util","SignalConnection"];Ib.__interfaces__=[Na];Ib.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this.$$F&&(this.$$F.$AG(this),this.$$F=null)},__class__:Ib};var la=function(a){this.$HG=null!=
a?new Ib(this,a):null;this.$IG=null};h["kit.util.SignalBase"]=la;la.__name__=["kit","util","SignalBase"];la.prototype={$_F:function(a,b){var c=this,d=new Ib(this,a);this.$HG==la.$JG?this.$BG(function(){c.$EG(d,b)}):this.$EG(d,b);return d},$AG:function(a){var b=this;this.$HG==la.$JG?this.$BG(function(){b.$FG(a)}):this.$FG(a)},$BG:function(a){for(var b=null,c=this.$IG;null!=c;)b=c,c=c.next;a=new Te(a);null!=b?b.next=a:this.$IG=a},$CG:function(){var a=this.$HG;this.$HG=la.$JG;return a},$DG:function(a){this.$HG=
a;a=this.$IG;for(this.$IG=null;null!=a;)a.$ea(),a=a.next},$EG:function(a,b){if(b)a.$8F=this.$HG,this.$HG=a;else{for(var c=null,d=this.$HG;null!=d;)c=d,d=d.$8F;null!=c?c.$8F=a:this.$HG=a}},$FG:function(a){for(var b=null,c=this.$HG;null!=c;){if(c==a){a=c.$8F;null==b?this.$HG=a:b.$8F=a;break}b=c;c=c.$8F}},__class__:la};var qb=function(a){la.call(this,a)};h["kit.util.Signal2"]=qb;qb.__name__=["kit","util","Signal2"];qb.__super__=la;qb.prototype=m(la.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$_F(a,
b)},emit:function(a,b){var c=this;this.$HG==la.$JG?this.$BG(function(){c.$KG(a,b)}):this.$KG(a,b)},$KG:function(a,b){for(var c=this.$CG(),d=c;null!=d;)d.$9F(a,b),d.stayInList||d.dispose(),d=d.$8F;this.$DG(c)},__class__:qb});var ab=function(a){la.call(this,a)};h["kit.util.Signal0"]=ab;ab.__name__=["kit","util","Signal0"];ab.__super__=la;ab.prototype=m(la.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$_F(a,b)},emit:function(){var a=this;this.$HG==la.$JG?this.$BG(function(){a.$KG()}):
this.$KG()},$KG:function(){for(var a=this.$CG(),b=a;null!=b;)b.$9F(),b.stayInList||b.dispose(),b=b.$8F;this.$DG(a)},__class__:ab});var V=function(a){la.call(this,a)};h["kit.util.Signal1"]=V;V.__name__=["kit","util","Signal1"];V.__super__=la;V.prototype=m(la.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$_F(a,b)},emit:function(a){var b=this;this.$HG==la.$JG?this.$BG(function(){b.$KG(a)}):this.$KG(a)},$KG:function(a){for(var b=this.$CG(),c=b;null!=c;)c.$9F(a),c.stayInList||c.dispose(),
c=c.$8F;this.$DG(b)},__class__:V});var P=function(a,b){this.$_E=null;ia.call(this,a,b)};h["kit.animation.AnimatedFloat"]=P;P.__name__=["kit","animation","AnimatedFloat"];P.__super__=ia;P.prototype=m(ia.prototype,{set__:function(a){this.$_E=null;return ia.prototype.set__.call(this,a)},update:function(a){null!=this.$_E&&(ia.prototype.set__.call(this,this.$_E.update(a)),this.$_E.isComplete()&&(this.$_E=null))},animateTo:function(a,b,c){this.set_behavior(new dd(this.$6F,a,b,c))},set_behavior:function(a){this.$_E=
a;this.update(0);return a},__class__:P,__properties__:m(ia.prototype.__properties__,{set_behavior:"set_behavior"})});var v=function(){};h["kit.System"]=v;v.__name__=["kit","System"];v.$LG=function(){null==v.$PG&&(v.$PG=v.$OG.init());return v.$PG};var Ue=function(a){this.$RG=a};h["kit.util.Logger"]=Ue;Ue.__name__=["kit","util","Logger"];Ue.prototype={__class__:Ue};var ed=function(){};h["kit.Log"]=ed;ed.__name__=["kit","Log"];ed.__super__=Rf;ed.prototype=m(Rf.prototype,{__class__:ed});var Ve=function(){this.$SG=
0};h["kit.SpeedAdjuster"]=Ve;Ve.__name__=["kit","SpeedAdjuster"];Ve.__super__=G;Ve.prototype=m(G.prototype,{get_entitySlot:function(){return 13},onUpdate:function(a){0<this.$SG&&(a=this.$SG,this.$SG=0);this.scale.update(a)},__class__:Ve});var We=function(){};h["kit.animation.Behavior"]=We;We.__name__=["kit","animation","Behavior"];We.prototype={__class__:We};var F=function(){};h["kit.animation.Ease"]=F;F.__name__=["kit","animation","Ease"];F.linear=function(a){return a};F.quadIn=function(a){return a*
a};F.quadOut=function(a){return a*(2-a)};F.quadInOut=function(a){return 0.5>=a?a*a*2:1- --a*a*2};F.cubeIn=function(a){return a*a*a};F.cubeOut=function(a){return 1+--a*a*a};F.cubeInOut=function(a){return 0.5>=a?a*a*a*4:1+--a*a*a*4};F.quartIn=function(a){return a*a*a*a};F.quartOut=function(a){return 1- --a*a*a*a};F.quartInOut=function(a){if(0.5>=a)return a*a*a*a*8;a=2*a-2;return(1-a*a*a*a)/2+0.5};F.quintIn=function(a){return a*a*a*a*a};F.quintOut=function(a){return--a*a*a*a*a+1};F.quintInOut=function(a){return 1>
(a*=2)?a*a*a*a*a/2:((a-=2)*a*a*a*a+2)/2};F.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};F.sineOut=function(a){return Math.sin(1.5707963267948966*a)};F.sineInOut=function(a){return 0.5-Math.cos(3.141592653589793*a)/2};F.bounceIn=function(a){a=1-a;return 0.36363636363636365>a?1-7.5625*a*a:0.7272727272727273>a?1-(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75):0.9090909090909091>a?1-(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375):1-(7.5625*(a-0.9545454545454546)*
(a-0.9545454545454546)+0.984375)};F.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};F.bounceInOut=function(a){if(0.5>a)return a=1-2*a,0.36363636363636365>a?(1-7.5625*a*a)/2:0.7272727272727273>a?(1-(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75))/2:0.9090909090909091>
a?(1-(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375))/2:(1-(7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375))/2;a=2*a-1;return 0.36363636363636365>a?7.5625*a*a/2+0.5:0.7272727272727273>a?(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75)/2+0.5:0.9090909090909091>a?(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375)/2+0.5:(7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375)/2+0.5};F.circIn=function(a){return 1-Math.sqrt(1-a*a)};F.circOut=function(a){--a;
return Math.sqrt(1-a*a)};F.circInOut=function(a){return 0.5>=a?(Math.sqrt(1-a*a*4)-1)/-2:(Math.sqrt(1-(2*a-2)*(2*a-2))+1)/2};F.expoIn=function(a){return Math.pow(2,10*(a-1))};F.expoOut=function(a){return-Math.pow(2,-10*a)+1};F.expoInOut=function(a){return 0.5>a?Math.pow(2,10*(2*a-1))/2:(-Math.pow(2,-10*(2*a-1))+2)/2};F.backIn=function(a){return a*a*(2.70158*a-1.70158)};F.backOut=function(a){return 1- --a*a*(-2.70158*a-1.70158)};F.backInOut=function(a){a*=2;if(1>a)return a*a*(2.70158*a-1.70158)/2;
a-=2;return(1-a*a*(-2.70158*a-1.70158))/2+0.5};F.elasticIn=function(a){return-(Math.pow(2,10*--a)*Math.sin(1.5707963267948966*(a-0.25464790894703254*Math.asin(1))/0.4))};F.elasticOut=function(a){return Math.pow(2,-10*a)*Math.sin(1.5707963267948966*(a-0.25464790894703254*Math.asin(1))/0.4)+1};F.elasticInOut=function(a){return 0.5>a?-0.5*Math.pow(2,10*(a-=0.5))*Math.sin(1.5707963267948966*(a-0.1)/0.4):Math.pow(2,-10*(a-=0.5))*Math.sin(1.5707963267948966*(a-0.1)/0.4)*0.5+1};var dd=function(a,b,c,d){this.$fG=
a;this.$gG=b;this.$hG=c;this.elapsed=0;this.$iG=null!=d?d:F.linear};h["kit.animation.Tween"]=dd;dd.__name__=["kit","animation","Tween"];dd.__interfaces__=[We];dd.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this.$hG?this.$gG:this.$fG+(this.$gG-this.$fG)*this.$iG(this.elapsed/this.$hG)},isComplete:function(){return this.elapsed>=this.$hG},__class__:dd};var eb=function(){};h["kit.asset.Asset"]=eb;eb.__name__=["kit","asset","Asset"];eb.__interfaces__=[Na];eb.prototype={__class__:eb};
var p={__ename__:!0,__constructs__:"WEBP PNG JPG GIF _2DKD _2DKP _2DKE MP3 M4A OPUS OGG WAV WOFF TTF OTF SWF MP4 WEBM MOV Data".split(" "),WEBP:["WEBP",0]};p.WEBP.toString=k;p.WEBP.__enum__=p;p.PNG=["PNG",1];p.PNG.toString=k;p.PNG.__enum__=p;p.JPG=["JPG",2];p.JPG.toString=k;p.JPG.__enum__=p;p.GIF=["GIF",3];p.GIF.toString=k;p.GIF.__enum__=p;p._2DKD=["_2DKD",4];p._2DKD.toString=k;p._2DKD.__enum__=p;p._2DKP=["_2DKP",5];p._2DKP.toString=k;p._2DKP.__enum__=p;p._2DKE=["_2DKE",6];p._2DKE.toString=k;p._2DKE.__enum__=
p;p.MP3=["MP3",7];p.MP3.toString=k;p.MP3.__enum__=p;p.M4A=["M4A",8];p.M4A.toString=k;p.M4A.__enum__=p;p.OPUS=["OPUS",9];p.OPUS.toString=k;p.OPUS.__enum__=p;p.OGG=["OGG",10];p.OGG.toString=k;p.OGG.__enum__=p;p.WAV=["WAV",11];p.WAV.toString=k;p.WAV.__enum__=p;p.WOFF=["WOFF",12];p.WOFF.toString=k;p.WOFF.__enum__=p;p.TTF=["TTF",13];p.TTF.toString=k;p.TTF.__enum__=p;p.OTF=["OTF",14];p.OTF.toString=k;p.OTF.__enum__=p;p.SWF=["SWF",15];p.SWF.toString=k;p.SWF.__enum__=p;p.MP4=["MP4",16];p.MP4.toString=k;p.MP4.__enum__=
p;p.WEBM=["WEBM",17];p.WEBM.toString=k;p.WEBM.__enum__=p;p.MOV=["MOV",18];p.MOV.toString=k;p.MOV.__enum__=p;p.Data=["Data",19];p.Data.toString=k;p.Data.__enum__=p;var Xe=function(a,b,c,d){this.cacheKey=null;this.name=a;this.url=b;this.format=c;this.bytes=d};h["kit.asset.AssetEntry"]=Xe;Xe.__name__=["kit","asset","AssetEntry"];Xe.prototype={__class__:Xe};var fd=function(){};h["kit.asset.File"]=fd;fd.__name__=["kit","asset","File"];fd.__interfaces__=[eb];fd.prototype={__class__:fd};var Va=function(){this.$jG=
this.$kG=null;this.pixelScale=1;this.$FF=[]};h["kit.asset.Manifest"]=Va;Va.__name__=["kit","asset","Manifest"];Va.fromAssets=function(a,b,c){null==c&&(c=!0);null==b&&(b=-1);0>=b&&(b=ba.$sL("width"),c=ba.$sL("height"),b=Math.min(v.$OG.$lF.get_width()/b,v.$OG.$lF.get_height()/c));c=[];for(var d=ba.$sL("assets"),e=0,g=Y.fields(d);e<g.length;){var l=g[e];++e;if(ga.startsWith(l,a)){var f=M.substr(l,a.length,null);if(0<f.length){var h=new Ha("^-([\\d\\.]+)%$","");h.match(f)&&(f=parseFloat(h.matched(1)),
c.push(new gd(l,f/100)))}else c.push(new gd(l,1))}}if(0==c.length)return null;c.sort(function(a,b){return Y.compare(a.$pG,b.$pG)});e=null;for(a=0;a<c.length&&!(g=c[a],++a,e=g,g.$pG>=b););b=Y.field(d,e.$oG);a=new Va;a.$jG="assets";a.pixelScale=e.$pG;c=encodeURIComponent(e.$oG);for(d=0;d<b.length;){e=b[d];++d;g=e.name;l=c;f=0;for(h=g.split("/");f<h.length;){var k=h[f];++f;l+="/"+encodeURIComponent(k)}ga.endsWith(g,".__gz.txt")&&(g=M.substr(g,0,g.length-9));f=Va.$lG(g);f!=p.Data&&(g=Ea.removeFileExtension(g));
g=a.add(g,l,e.bytes,f);null!=e.md5&&(g.cacheKey="assets:"+fa.string(e.md5))}return a};Va.$lG=function(a){a=Ea.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "2dkd":return p._2DKD;case "2dke":return p._2DKE;case "2dkp":return p._2DKP;case "gif":return p.GIF;case "jpeg":case "jpg":return p.JPG;case "m4a":return p.M4A;case "mov":return p.MOV;case "mp3":return p.MP3;case "mp4":return p.MP4;case "ogg":return p.OGG;case "opus":return p.OPUS;case "otf":return p.OTF;case "png":return p.PNG;case "swf":return p.SWF;
case "ttf":return p.TTF;case "wav":return p.WAV;case "webm":return p.WEBM;case "webp":return p.WEBP;case "woff":return p.WOFF}return p.Data};Va.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=Va.$lG(b));a=new Xe(a,b,d,c);this.$FF.push(a);return a},iterator:function(){return M.iter(this.$FF)},getFullURL:function(a){var b=null!=this.$kG&&Va.$nG?this.$kG:this.$jG;return null!=b?Ea.joinPath(b,a.url):a.url},__class__:Va};var gd=function(a,b){this.$oG=a;this.$pG=b};h.$CP=gd;gd.__name__=["$CP"];
gd.prototype={__class__:gd};var hd=function(){this.offsetX=this.offsetY=0;this.active=!0;this.following=null};h["kit.creator.Camera"]=hd;hd.__name__=["kit","creator","Camera"];hd.__super__=ra;hd.prototype=m(ra.prototype,{onStart:function(){ra.prototype.onStart.call(this);var a=this.owner.$aF[3];if(null==a){var b=this.owner,a=new x;b.add(a);this.info.transformSprite(a);a.set_visible(!1)}this.active&&(this.owner._internal_getFromParents(3,na).camera=this)},onUpdate:function(a){ra.prototype.onUpdate.call(this,
a);this.zoom.update(a)},$qG:function(a){var b=this.owner.$aF[3];if(null!=this.following){var c=this.following.$aF[3];null!=c&&b.setXY(c.x.$6F+this.offsetX,c.y.$6F+this.offsetY)}for(var c=this.zoom.$6F,d=b.y.$6F-0.5*a.cameraHeight.$6F/c,b=-fb.clamp(b.x.$6F-0.5*a.cameraWidth.$6F/c,0,a.info.width*a.info.tileWidth-a.cameraWidth.$6F/c),d=-fb.clamp(d,0,a.info.height*a.info.tileHeight-a.cameraHeight.$6F/c),e=0,g=a.info.layers;e<g.length;){var l=g[e];++e;var f=l.name,h=a.layers,f=(null!=u[f]?h.getReserved(f):
h.h[f]).$aF[3],h=l.parallaxX,k=l.parallaxY,h=(h>k?h:k)*(c-1)+1;f.setScale(h);f.x.set__(l.parallaxX*b*h);f.y.set__(l.parallaxY*d*h)}},__class__:hd});var id=function(a){this.$vG=new R;G.call(this);this.scene=a;this.$rG()};h["kit.creator.CreatorScript"]=id;id.__name__=["kit","creator","CreatorScript"];id.__super__=G;id.prototype=m(G.prototype,{get_entitySlot:function(){return 1},onMessage:function(a,b){var c=!1,d=this.$vG,d=null!=u[a]?d.getReserved(a):d.h[a];if(null!=d){var e=b instanceof S?b:null;if(null!=
e)for(var g=this.owner;null!=g;)g==v.root&&(O.runSequence(d.actions,e),c=!0),g=g.parent}return G.prototype.onMessage.call(this,a,b)?!0:c},$rG:function(){this.groups=[];for(var a=0,b=this.scene.script.groups;a<b.length;){var c=b[a];++a;var d=c.actions.map(Ga(this,this.$sG)).filter(function(a){return null!=a}),d=new Ye(c,d);this.groups.push(d);var c=c.name,e=this.$vG;null!=u[c]?e.setReserved(c,d):e.h[c]=d}},$sG:function(a){var b=ya.resolveClass(a.type);if(null==b)return null;var c=ya.createInstance(b,
[]);c.script=this;for(var d=a.properties.keys();d.hasNext();){var e=d.next(),g=xb.$IM(b,e);if(null!=g){var f=a.properties,f=null!=u[e]?f.getReserved(e):f.h[e],g=this.$tG(g,f,a.type+"."+e);null!=g&&Y.setProperty(c,e,g)}}b=c instanceof ka?c:null;null!=b&&(b.subActions=a.subActions.map(Ga(this,this.$sG)).filter(function(a){return null!=a}));return c},$tG:function(a,b,c){var d=xb.$tG(a,b);if(null!=d)return d;switch(a[1]){case 4:a=a[2];var d=[],e=0;for(b=b.split(",");e<b.length;){var g=b[e];++e;d.push(this.$tG(a,
ga.trim(g),c))}return d;case 6:switch(a[2]){case ic:return this.scene.getLayer(b,!1);case pb:return this.scene.getObject(b,!1)}}return null},__class__:id});var Ye=function(a,b){this.info=a;this.actions=b};h["kit.creator.Group"]=Ye;Ye.__name__=["kit","creator","Group"];Ye.prototype={__class__:Ye};var Ze=function(){};h["kit.filter.FilterContext"]=Ze;Ze.__name__=["kit","filter","FilterContext"];Ze.prototype={__class__:Ze};var jd=function(){this.$zG=[];this.$yG=[]};h.$CQ=jd;jd.__name__=["$CQ"];jd.__interfaces__=
[Ze];jd.prototype={$wG:function(a,b,c,d){var e=this.$yG.pop();null!=e?e.$WM(c,d):e=new $e(c,d);e.$SM=a;e.$TM=b;this.$zG.unshift(e);return e.$UM},apply:function(a){a.active&&a.apply(this)},render:function(a){this.$zG[0].$XM(a)},$xG:function(){var a=this.$zG.shift();this.$yG.push(a);return a.$UM},__class__:jd};var Aa=function(){this.identity()};h["kit.math.Matrix"]=Aa;Aa.__name__=["kit","math","Matrix"];Aa.multiply=function(a,b,c){null==c&&(c=new Aa);var d=a.m00,e=a.m01,g=a.m02,f=a.m10,h=a.m11;a=a.m12;
var k=b.m00,D=b.m01,q=b.m02,m=b.m10,r=b.m11;b=b.m12;c.m00=d*k+e*m;c.m01=d*D+e*r;c.m02=d*q+e*b+g;c.m10=f*k+h*m;c.m11=f*D+h*r;c.m12=f*q+h*b+a;return c};Aa.prototype={set:function(a,b,c,d,e,g){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=g},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var g=Math.sin(e);e=Math.cos(e);this.set(e*c,g*c,-g*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=
this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m10/a,-this.m01/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new Qa);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var d=0;d<b;){var e=a[d],g=a[d+1];c[d++]=e*this.m00+g*this.m01+this.m02;c[d++]=e*this.m10+g*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-
this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},clone:function(a){null==a&&(a=new Aa);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:Aa};var Qa=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["kit.math.Point"]=Qa;Qa.__name__=["kit","math","Point"];Qa.prototype={add:function(a,b){this.x+=a;this.y+=b},normalize:function(){var a=
this.magnitude();this.x/=a;this.y/=a},dot:function(a,b){return this.x*a+this.y*b},multiply:function(a){this.x*=a;this.y*=a},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Qa};var x=function(){this.$HH=null;this.$_G=this.$AH=0;this.$$G=null;var a=this;G.call(this);this.$B|=150;this.$9G=new Aa;var b=function(b,d){a.$B|=24};this.x=new P(0,b);this.y=new P(0,b);this.rotation=new P(0,b);this.scaleX=new P(1,b);this.scaleY=new P(1,b);this.anchorX=new P(0,b);this.anchorY=new P(0,
b);this.alpha=new P(1)};h["kit.display.Sprite"]=x;x.__name__=["kit","display","Sprite"];x.hitTest=function(a,b,c){if(!a.active)return null;var d=a.$aF[3];if(null!=d){if(6!=(d.$B&6)||null!=d.$HH&&null!=d.$HH.$zI||!d.getLocalMatrix().inverseTransform(b,c,x.$OH))return null;b=x.$OH.x;c=x.$OH.y;var e=d.get_scissor();if(null!=e&&!e.contains(b,c))return null}a=x.$LH(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};x.getBounds=function(a,b){null==b&&(b=new wa);b.set(1.79769313486231E308,
1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);x.$MH(a,null,b);b.width-=b.x;b.height-=b.y;return b};x.render=function(a,b){x.$IH(a,b,!0)};x.$IH=function(a,b,c){if(a.active){var d=null,e=null,g=a.$aF[3];if(null!=g){var f=g.alpha.$6F;if(0==(g.$B&2)||0>=f)return;var h=g.$HH;if(c&&null!=h&&null!=h.$zI)return;b.save();null!=h&&null!=h.$yI&&0!=(g.$B&128)&&(c=h.$yI.owner,null!=c&&(b.beginMask(),x.$IH(c,b,!1),b.endMask()));if(null!=h){var k=!1;c=!1;for(var D=0,q=0,m=0,r=0,n=0,p=h.$0I;n<
p.length;){var s=p[n];++n;s.active&&(k=!0,c=c?!0:!s.outputOnly,D=Math.max(D,s.paddingTop),q=Math.max(q,s.paddingRight),m=Math.max(m,s.paddingBottom),r=Math.max(r,s.paddingLeft))}if(k&&v.$OG.$kF.get_filterSupported()){e=g.$3G();k=null!=e?e.getViewMatrix():null;n=g.getViewMatrix();e=new wa;e.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);var w=h.$1I;if(null!=w){var p=w.x,s=w.y,u=p+w.width,w=s+w.height;u>p&&w>s&&(x.$NH(n,p,s,e),x.$NH(n,u,s,e),x.$NH(n,u,w,e),
x.$NH(n,p,w,e))}else x.$MH(a,k,e);e.width-=e.x;e.height-=e.y;if(!e.get_empty()){e.x-=r;e.y-=D;e.width+=r+q;e.height+=D+m;d=x.$QH.$wG(e.x,e.y,Math.ceil(e.width),Math.ceil(e.height));c&&(d=d.get_graphics(),d.save(),d.translate(-e.x,-e.y),d.transform(n.m00,n.m10,n.m01,n.m11,n.m02,n.m12),x.$KH(g,d),x.$JH(a,d),d.restore());d=0;for(c=h.$0I;d<c.length;)D=c[d],++d,x.$QH.apply(D);d=x.$QH.$xG();null!=k&&(c=k.clone(x.$PH),c.invert(),b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12))}}}1>f&&b.multiplyAlpha(f);
null==d&&(f=g.getLocalMatrix(),b.transform(f.m00,f.m10,f.m01,f.m11,f.m02,f.m12));null!=h&&(1==h.$uI.$6F&&1==h.$vI.$6F&&1==h.$wI.$6F||b.tint(h.$uI.$6F,h.$vI.$6F,h.$wI.$6F),null!=h.$sI&&b.setBlendMode(h.$sI),h=h.$tI,null!=h&&null==d&&b.applyScissor(h.x,h.y,h.width,h.height));null==d?x.$KH(g,b):b.drawSubTexture(d,e.x,e.y,0,0,e.width,e.height)}null==d&&x.$JH(a,b);null!=g&&b.restore()}};x.$JH=function(a,b){var c=a.$aF[7];if(null!=c)for(var c=c.occludedScenes,d=0;d<c.length;){var e=c[d];++d;x.render(e,
b)}for(c=a.firstChild;null!=c;)d=c.next,x.render(c,b),c=d};x.$KH=function(a,b){a.draw(b);var c=a.$HH;null!=c&&null!=c.$xI&&c.$xI.render(b)};x.$LH=function(a,b,c){if(null!=a){var d=x.$LH(a.next,b,c);return null!=d?d:x.hitTest(a,b,c)}return null};x.$MH=function(a,b,c){if(a.active){var d=a.$aF[3];if(null!=d){if(0==(d.$B&2)||null!=d.$HH&&null!=d.$HH.$zI)return;b=null!=b?Aa.multiply(b,d.getLocalMatrix()):d.getLocalMatrix();var e=d.getNaturalWidth(),d=d.getNaturalHeight();0<e&&0<d&&(x.$NH(b,0,0,c),x.$NH(b,
e,0,c),x.$NH(b,e,d,c),x.$NH(b,0,d,c))}e=a.$aF[7];if(null!=e)for(var e=e.occludedScenes,d=0,g=e.length;d<g;)x.$MH(e[d],b,c),++d;for(a=a.firstChild;null!=a;)e=a.next,x.$MH(a,b,c),a=e}};x.$NH=function(a,b,c,d){a=a.transform(b,c,x.$OH);b=a.x;c=a.y;b<d.x&&(d.x=b);c<d.y&&(d.y=c);b>d.width&&(d.width=b);c>d.height&&(d.height=c)};x.__super__=G;x.prototype=m(G.prototype,{get_entitySlot:function(){return 3},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=
a&&a<this.getNaturalWidth()&&0<=b?b<this.getNaturalHeight():!1},getLocalMatrix:function(){0!=(this.$B&8)&&(this.$B&=-9,this.$9G.compose(this.x.$6F,this.y.$6F,this.scaleX.$6F,this.scaleY.$6F,3.141592653589793*this.rotation.$6F/180),this.$9G.translate(-this.anchorX.$6F,-this.anchorY.$6F));return this.$9G},getViewMatrix:function(){if(this.$2G()){var a=this.$3G();this.$$G=null!=a?Aa.multiply(a.getViewMatrix(),this.getLocalMatrix(),this.$$G):this.getLocalMatrix().clone(this.$$G);this.$B&=-17;null!=a&&
(this.$AH=a.$_G);++this.$_G}return this.$$G},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setTint:function(a){if(null!=this.$HH||16777215!=a)this.get_tintR().set__((a&16711680)/16711680),this.get_tintG().set__((a&65280)/65280),this.get_tintB().set__((a&255)/255);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);
return this},onAdded:function(){0!=(this.$B&64)&&this.$4G()},onRemoved:function(){null!=this.$GH&&(this.$GH.dispose(),this.$GH=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a);var b=this.$HH;if(null!=b){b.$uI.update(a);b.$vI.update(a);b.$wI.update(a);for(var c=0,b=b.$0I;c<b.length;){var d=b[c];++c;d.active&&d.update(a)}}},draw:function(a){},$2G:function(){if(0!=
(this.$B&16))return!0;var a=this.$3G();return null==a?!1:this.$AH==a.$_G?a.$2G():!0},$3G:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a.$aF[3];if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this.$BH&&(this.$BH=new V);return this.$BH},get_pointerUp:function(){null==this.$DH&&(this.$DH=new V);return this.$DH},get_pointerIn:function(){null==this.$EH&&(this.$EH=new V);return this.$EH},get_pointerOut:function(){null==this.$FH&&(this.$FH=
new V);return this.$FH},$4G:function(){var a=this;null==this.$GH&&v.$OG.$dF.$KO(function(){a.$GH=v.$OG.$jF.move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.$3G()}null!=a.$FH&&0!=(a.$B&64)&&a.$FH.emit(b);a.$B&=-65;null!=a.$GH&&(a.$GH.dispose(),a.$GH=null)})})},get_blendMode:function(){return null!=this.$HH?this.$HH.$sI:null},set_blendMode:function(a){if(null==this.$HH){if(null==a)return null;this.$HH=new gb}return this.$HH.$sI=a},get_scissor:function(){return null!=this.$HH?this.$HH.$tI:
null},set_scissor:function(a){if(null==this.$HH){if(null==a)return null;this.$HH=new gb}return this.$HH.$tI=a},get_tintR:function(){null==this.$HH&&(this.$HH=new gb);return this.$HH.$uI},get_tintG:function(){null==this.$HH&&(this.$HH=new gb);return this.$HH.$vI},get_tintB:function(){null==this.$HH&&(this.$HH=new gb);return this.$HH.$wI},set_mask:function(a){if(null==this.$HH){if(null==a)return null;this.$HH=new gb}var b=this.$HH.$yI;if(null!=b&&(b=b.$HH,null!=b&&null!=b.$zI)){var c=b.$zI;b.$zI=null;
c.set_mask(null)}null!=a&&(b=a.$HH,null==b&&(b=a.$HH=new gb),null!=b.$zI&&b.$zI.set_mask(null),b.$zI=this);return this.$HH.$yI=a},set_maskEnabled:function(a){this.$B=jc.set(this.$B,128,a);return a},set_visible:function(a){this.$B=jc.set(this.$B,2,a);return a},set_pointerEnabled:function(a){this.$B=jc.set(this.$B,4,a);return a},$5G:function(a){this.$7G(a);null!=this.$BH&&this.$BH.emit(a)},$6G:function(a){this.$7G(a);null!=this.$CH&&this.$CH.emit(a)},$7G:function(a){0==(this.$B&64)&&(this.$B|=64,null!=
this.$EH||null!=this.$FH)&&(null!=this.$EH&&this.$EH.emit(a),this.$4G())},$8G:function(a){1==a.source[1]&&(null!=this.$FH&&0!=(this.$B&64)&&this.$FH.emit(a),this.$B&=-65,null!=this.$GH&&(this.$GH.dispose(),this.$GH=null));null!=this.$DH&&this.$DH.emit(a)},__class__:x,__properties__:m(G.prototype.__properties__,{get_tintB:"get_tintB",get_tintG:"get_tintG",get_tintR:"get_tintR",get_pointerOut:"get_pointerOut",get_pointerIn:"get_pointerIn",get_pointerUp:"get_pointerUp",get_pointerDown:"get_pointerDown",
set_pointerEnabled:"set_pointerEnabled",set_visible:"set_visible",set_maskEnabled:"set_maskEnabled",set_mask:"set_mask",set_scissor:"set_scissor",get_scissor:"get_scissor",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode"})});var dc=function(a){this.$bH=new S;this.state=new ia(null);x.call(this);this.$aH=a};h["kit.creator.ObjectSprite"]=dc;dc.__name__=["kit","creator","ObjectSprite"];dc.__super__=x;dc.prototype=m(x.prototype,{loop:function(a,b){null==b&&(b=!0);if(!b&&this.state.$6F==a)return this;
var c=this.$bH.$aF[3];null!=c&&c.dispose();this.$YH(a,!0);return this},$YH:function(a,b){if(null==this.owner)return null;var c=this.$aH.states,c=null!=u[a]?c.getReserved(a):c.h[a];if(null==c)return null;var d=this.owner._internal_getFromParents(4);if(null==d)return null;var e=c.lastIndexOf("/");0>e&&(e=c.length);var g=M.substr(c,0,e),e=M.substr(c,e+1,null),g=d.getTexturePacker(g,!1);if(null!=g)return c=g.createSprite(e,!1),null==c&&(c=g.toLibrary().createSprite(e)),this.$ZH(c,a),c;c=d.getTexture(c,
!1);return null!=c?(c=new $a(c),this.$ZH(c,a),c):null},$ZH:function(a,b){var c=this.$aH.tile;if(null==c.texture){var d=c.properties;a.x.set__(-parseFloat(null!=u.boundsX?d.getReserved("boundsX"):d.h.boundsX));c=c.properties;a.y.set__(-parseFloat(null!=u.boundsY?c.getReserved("boundsY"):c.h.boundsY))}this.$bH.add(a);this.state.set__(b)},onStart:function(){x.prototype.onStart.call(this);if(null!=this.owner&&(this.owner.addChild(this.$bH),null==this.state.$6F)){var a=null,b=this.$aH.tile,c=!1;if(null!=
b.texture)a=new $a(b.texture);else{var d=this.owner._internal_getFromParents(4),e=b.properties,e=null!=u.symbol?e.getReserved("symbol"):e.h.symbol,g=b.properties;null!=(null!=u.scene?g.getReserved("scene"):g.h.scene)?(e=d.getSceneSymbol(e),a=e.createSprite(),this.$bH.add(e.createScript()),b=b.properties,2<=parseFloat(null!=u.version?b.getReserved("version"):b.h.version)&&(c=!0)):(g=b.tileset.properties,null==(null!=u.library?g.getReserved("library"):g.h.library)&&(g=b.tileset.properties,g=null!=u.texturepacker?
g.getReserved("texturepacker"):g.h.texturepacker,null!=g?(a=d.getTexturePacker(g),b=b.properties,a=null!=(null!=u.animated?b.getReserved("animated"):b.h.animated)?a.toLibrary().createSprite(e):a.createSprite(e)):(e=b.properties,null==(null!=u.spine?e.getReserved("spine"):e.h.spine)&&(b=b.properties,null!=u.video&&b.getReserved("video")))))}this.$ZH(a,null);c&&(this.$bH.yieldForStart(),a.setXY(0,0),c=x.getBounds(this.$bH),c.get_empty()||a.setXY(-c.x+0,-c.y+(this.$aH.height-c.height)),this.setScale(1))}},
__class__:dc});var Eb=function(){this.$dH=new R;this.changed=new qb;G.call(this)};h["kit.creator.PropertyBag"]=Eb;Eb.__name__=["kit","creator","PropertyBag"];Eb.__super__=G;Eb.prototype=m(G.prototype,{get_entitySlot:function(){return 12},get:function(a){var b=this.$cH(a);if(null!=b)return b.$6F;b=this.$dH;a=null!=u[a]?b.getReserved(a):b.h[a];return null!=a?a:null},set:function(a,b){var c=this.$cH(a);null!=c?c.$6F!=b&&(c.set__(b),this.changed.emit(a,b)):(c=this.$dH,(null!=u[a]?c.getReserved(a):c.h[a])!=
b&&(c=this.$dH,null!=u[a]?c.setReserved(a,b):c.h[a]=b,this.changed.emit(a,b)));return this},$cH:function(a){switch(a){case "alpha":case "anchorX":case "anchorY":case "rotation":case "scaleX":case "scaleY":case "x":case "y":var b=this.owner.$aF[3];if(null!=b&&(a=Y.field(b,a),a instanceof P))return a}return null},__class__:Eb});var da=function(a,b,c){null==c&&(c=!1);this.$gH=a;this.$uG=a.getFile(b+(c?".symbol":".scene"));this.symbol=c;a=b.lastIndexOf("/");this.$hH=0<=a?M.substr(b,0,a+1):"";this.$rG();
this.reloadCount=new ia(0)};h["kit.creator.SceneInfo"]=da;da.__name__=["kit","creator","SceneInfo"];da.getRequiredAssetPacks=function(a){var b=ba.$sL("scenes");a=Y.field(b,a);return null!=a?a:[]};da.$jH=function(a){var b=new R;if(null!=a)for(var c=0,d=Y.fields(a);c<d.length;){var e=d[c];++c;if(!ga.startsWith(e,"//")){var g=da.$kH(Y.field(a,e));null!=g&&(null!=u[e]?b.setReserved(e,g):b.h[e]=g)}}return b};da.$kH=function(a){null!=a&&(a=ga.trim(a),0==a.length&&(a=null));return a};da.$lH=function(a,b){return null!=
a?a:b};da.prototype={disposeFiles:function(){this.$uG.dispose();return this},createSprite:function(){return new na(this)},createScript:function(){return new id(this)},getLayer:function(a,b){for(var c=0,d=this.layers;c<d.length;){var e=d[c];++c;if(e.name==a)return e}return null},getObject:function(a,b){var c=this.$iH;return null!=u[a]?c.getReserved(a):c.h[a]},$eH:function(a){return this.$gH.getTexture(this.$hH+Ea.removeFileExtension(a),!1)},$fH:function(a){return this.$gH.getTexture(a)},$rG:function(){var a=
this,b=this.$uG.toJson();this.width=b.width;this.height=b.height;this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;this.tilesets=b.tilesets.map(function(b){return new af(a,b)});this.backgroundColor=null!=b.backgroundcolor?fa.parseInt(ga.replace(b.backgroundcolor,"#","0x")):8421504;this.tiles=new Sa;for(var c=0,d=this.tilesets;c<d.length;){var e=d[c];++c;for(var g=0,e=e.tiles;g<e.length;){var f=e[g];++g;this.tiles.h[f.id]=f}}this.layers=b.layers.map(function(b){return new ic(a,b)});this.properties=
da.$jH(b.properties);this.script=new bf(b.script);this.$iH=new R;b=0;for(c=this.layers;b<c.length;)if(g=c[b],++b,null!=g.objects)for(d=0,g=g.objects;d<g.length;)if(e=g[d],++d,null!=e.name){var f=e.name,h=this.$iH;null!=u[f]?h.setReserved(f,e):h.h[f]=e}},__class__:da};var yb={__ename__:!0,__constructs__:["Tile","Object"],Tile:["Tile",0]};yb.Tile.toString=k;yb.Tile.__enum__=yb;yb.Object=["Object",1];yb.Object.toString=k;yb.Object.__enum__=yb;var ic=function(a,b){this.parallaxX=this.parallaxY=1;this.tiles=
this.objects=null;var c=this;this.scene=a;this.name=da.$kH(b.name);var d;switch(b.type){case "objectgroup":d=yb.Object;break;case "tilelayer":d=yb.Tile;break;default:d=null}this.type=d;this.width=b.width;this.height=b.height;this.opacity=b.opacity;this.visible=b.visible;null!=b.data&&(this.tiles=b.data.map(function(b){return 0!=b?a.tiles.h[b]:null}));null!=b.objects&&(this.objects=b.objects.map(function(a){return new pb(c,a)}),"index"!=b.draworder&&this.objects.sort(function(a,b){return Y.compare(a.y+
a.height,b.y+b.height)}));null!=b.parallaxX&&(this.parallaxX=b.parallaxX,this.parallaxY=b.parallaxY);this.tileCollisions=b.collisions;this.properties=da.$jH(b.properties)};h["kit.creator.LayerInfo"]=ic;ic.__name__=["kit","creator","LayerInfo"];ic.prototype={__class__:ic};var aa={__ename__:!0,__constructs__:["Rectangle","Ellipse","Polygon","Polyline","Tile"],Rectangle:["Rectangle",0]};aa.Rectangle.toString=k;aa.Rectangle.__enum__=aa;aa.Ellipse=["Ellipse",1];aa.Ellipse.toString=k;aa.Ellipse.__enum__=
aa;aa.Polygon=["Polygon",2];aa.Polygon.toString=k;aa.Polygon.__enum__=aa;aa.Polyline=["Polyline",3];aa.Polyline.toString=k;aa.Polyline.__enum__=aa;aa.Tile=["Tile",4];aa.Tile.toString=k;aa.Tile.__enum__=aa;var af=function(a,b){this.offsetX=this.offsetY=0;this.atlas=null;this.scene=a;this.name=da.$kH(b.name);this.spacing=b.spacing;this.margin=b.margin;var c=b.tileoffset;null!=c&&(this.offsetX=c.x,this.offsetY=c.y);this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;if(null!=b.image){this.atlas=
a.$eH(b.image);null==this.atlas&&(this.atlas=a.$fH(this.name));var c=this.atlas.get_width()-2*this.margin,d=this.atlas.get_height()-2*this.margin,c=(c+this.spacing)/(this.tileWidth+this.spacing)|0,d=(d+this.spacing)/(this.tileHeight+this.spacing)|0;this.tiles=Array(c*d);for(var e=0,g=0;g<d;)for(var f=g++,h=0,k=c;h<k;){var D=h++,q=new kd(this,b,e);q.texture=this.atlas.subTexture(D*(this.tileWidth+this.spacing)+this.margin,f*(this.tileHeight+this.spacing)+this.margin,this.tileWidth,this.tileHeight);
this.tiles[e]=q;++e}}else this.tiles=[];if(null!=b.tiles)for(c=0,d=Y.fields(b.tiles);c<d.length;)if(e=d[c],++c,g=Y.field(b.tiles,e),f=fa.parseInt(e),e=this.tiles[f],null==e&&(e=this.tiles[f]=new kd(this,b,f)),null!=g.image&&(f=e.properties,"true"!=(null!=u.previewImage?f.getReserved("previewImage"):f.h.previewImage)&&(e.texture=a.$eH(g.image),null==e.texture&&(e.texture=a.$fH(this.name)))),null!=g.objectgroup)for(f=0,g=g.objectgroup.objects;f<g.length;)h=g[f],++f,e.collision.push(new pb(null,h));
this.properties=da.$jH(b.properties)};h["kit.creator.TilesetInfo"]=af;af.__name__=["kit","creator","TilesetInfo"];af.prototype={__class__:af};var kd=function(a,b,c){this.collision=[];this.texture=null;this.id=b.firstgid+c;this.tileset=a;this.properties=da.$jH(null!=b.tileproperties?Y.field(b.tileproperties,""+c):null)};h["kit.creator.TileInfo"]=kd;kd.__name__=["kit","creator","TileInfo"];kd.prototype={get_width:function(){if(null!=this.texture)return this.texture.get_width();var a=this.properties;
return fa.parseInt(null!=u.boundsWidth?a.getReserved("boundsWidth"):a.h.boundsWidth)},get_height:function(){if(null!=this.texture)return this.texture.get_height();var a=this.properties;return fa.parseInt(null!=u.boundsHeight?a.getReserved("boundsHeight"):a.h.boundsHeight)},__class__:kd,__properties__:{get_height:"get_height",get_width:"get_width"}};var bf=function(a){this.groups=null!=a?a.groups.map(function(a){return new cf(a)}):[]};h["kit.creator.ScriptInfo"]=bf;bf.__name__=["kit","creator","ScriptInfo"];
bf.prototype={__class__:bf};var cf=function(a){this.actions=[];this.name=a.name;this.actions=a.actions.map(function(a){return new ld(a)})};h["kit.creator.GroupInfo"]=cf;cf.__name__=["kit","creator","GroupInfo"];cf.prototype={__class__:cf};var ld=function(a){this.type=a.type;this.subActions=null!=a.subActions?a.subActions.map(function(a){return new ld(a)}):[];this.properties=da.$jH(a.properties)};h["kit.creator.ActionInfo"]=ld;ld.__name__=["kit","creator","ActionInfo"];ld.prototype={__class__:ld};
var wa=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};h["kit.math.Rectangle"]=wa;wa.__name__=["kit","math","Rectangle"];wa.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&
(a=new wa);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},get_empty:function(){return 0>=this.width?!0:0>=this.height},__class__:wa,__properties__:{get_empty:"get_empty"}};var na=function(a){this.drawBackgroundColor=!1;this.objects=new Ta;this.layers=new R;this.camera=null;x.call(this);this.info=a;var b=new x;this.cameraX=new P(0,function(a,d){b.x.set__(-a)});this.cameraY=new P(0,function(a,d){b.y.set__(-a)});
this.cameraWidth=new P(a.tileWidth*a.width);this.cameraHeight=new P(a.tileHeight*a.height);this.content=(new S).add(b)};h["kit.creator.SceneSprite"]=na;na.__name__=["kit","creator","SceneSprite"];na.$pH=function(a){null==a&&(a=new wa);var b=ba.$sL("width"),c=ba.$sL("height"),d=Math.min(v.$OG.$lF.get_width()/b,v.$OG.$lF.get_height()/c);if(1==ba.$sL("scaleMode")){var e=Math.max(b,ba.$sL("maxWidth")|0),g=Math.max(c,ba.$sL("maxHeight")|0);a.width=Math.min(v.$OG.$lF.get_width()/d,e);a.height=Math.min(v.$OG.$lF.get_height()/
d,g)}else a.width=v.$OG.$lF.get_width()/d,a.height=v.$OG.$lF.get_height()/d;a.x=-(a.width/2-b/2);a.y=-(a.height/2-c/2);return a};na.__super__=x;na.prototype=m(x.prototype,{onStart:function(){x.prototype.onStart.call(this);for(var a=0,b=this.info.layers;a<b.length;){var c=b[a];++a;var d=new S;this.$mH(c,d);this.content.addChild(d)}},setCamera:function(a,b,c,d){this.cameraX.set__(a);this.cameraY.set__(b);this.cameraWidth.set__(c);this.cameraHeight.set__(d);return this},onAdded:function(){x.prototype.onAdded.call(this);
this.owner.addChild(this.content)},draw:function(a){null!=this.camera&&this.camera.$qG(this);if(this.drawBackgroundColor){var b=na.$pH(na.$qH);a.fillRect(this.info.backgroundColor,b.x,b.y,b.width,b.height)}},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.cameraX.update(a);this.cameraY.update(a);this.cameraWidth.update(a);this.cameraHeight.update(a)},$mH:function(a,b){var c;switch(a.type[1]){case 0:c=new md(this,this.info,a);break;case 1:c=new x}c.alpha.set__(a.opacity);c.set_visible(a.visible);
b.add(c);switch(a.type[1]){case 0:a.tileCollisions&&(c=b.$aF[6],null!=c&&c.dispose(),c=this.owner._internal_getFromParents(5).$kK(a),b.add(c));break;case 1:c=0;for(var d=a.objects;c<d.length;){var e=d[c];++c;var g=this.$nH(e,!0);if(null==g||g.spawned){var f=this.objects.get(e);if(e.shape==aa.Tile){if(null==f){var h=this.objects,f=new S;h.set(e,f)}f.add(e.createSprite());null!=g&&f.add(g)}null!=f&&b.addChild(f)}}}c=a.name;d=this.layers;null!=u[c]?d.setReserved(c,b):d.h[c]=b},createObject:function(a){var b=
new S,c=this.$nH(a,!1);a.shape==aa.Tile&&b.add(a.createSprite());null!=c&&b.add(c);return b},getNaturalWidth:function(){return this.info.symbol?0:this.cameraWidth.$6F},getNaturalHeight:function(){return this.info.symbol?0:this.cameraHeight.$6F},getLayer:function(a,b){var c=this.layers;return null!=u[a]?c.getReserved(a):c.h[a]},getObjects:function(a){for(var b=[],c=this.objects.keys();c.hasNext();){var d=c.next();d.name==a&&b.push(this.objects.h[d.__id__])}return b},$nH:function(a,b){if(null==a.type)return null;
if(b){var c=this.objects.h[a.__id__];if(null!=c&&(c=c.$aF[0],null!=c))return c}c=ya.resolveClass(a.type);if(null==c)return null;var d=ya.createInstance(c,[]);b&&this.objects.set(a,(new S).add(d));this.$oH(a,d,c);return d},$oH:function(a,b,c){for(var d=a.properties.keys();d.hasNext();){var e=d.next(),g=a.properties,g=null!=u[e]?g.getReserved(e):g.h[e],f=xb.$IM(c,e);null!=f&&(g=this.$tG(f,g,a.type+"."+e),null!=g&&Y.setProperty(b,e,g))}b.info=a},$tG:function(a,b,c){var d=xb.$tG(a,b);if(null!=d)return d;
switch(a[1]){case 4:a=a[2];var d=[],e=0;for(b=b.split(",");e<b.length;){var g=b[e];++e;d.push(this.$tG(a,ga.trim(g),c))}return d;case 6:switch(a[2]){case S:c=this.info.getObject(b,!1);if(null==c)break;c=this.$nH(c,!0);return null!=c?c.owner:null;case ic:return this.info.getLayer(b,!1);case pb:return this.info.getObject(b,!1);default:c=a[2];b=this.info.getObject(b,!1);if(null==b)break;b=this.$nH(b,!0);if(null!=b){if(W.__instanceof(b,c))return b;ya.getClassName(c)}}}return null},__class__:na});var md=
function(a,b,c){x.call(this);this.$rH=a;this.$sH=b;this.$tH=c};h.$CR=md;md.__name__=["$CR"];md.__super__=x;md.prototype=m(x.prototype,{getNaturalWidth:function(){return this.$sH.tileWidth*this.$tH.width},getNaturalHeight:function(){return this.$sH.tileHeight*this.$tH.height},containsLocal:function(a,b){var c=a/this.$sH.tileWidth|0;if(0>c||c>=this.$tH.width)return!1;var d=b/this.$sH.tileHeight|0;return 0>d||d>=this.$tH.height?!1:null!=this.$tH.tiles[d*this.$tH.width+c]},draw:function(a){var b=this.$sH.tileWidth,
c=this.$sH.tileHeight,d=this.$tH.width,e=this.$tH.height,g=na.$pH(na.$qH);g.x=(g.x-this.x.$6F)/this.scaleX.$6F;g.y=(g.y-this.y.$6F)/this.scaleY.$6F;g.width/=this.scaleX.$6F;g.height/=this.scaleY.$6F;for(var f=fb.clamp(g.x/b|0,0,d),h=fb.clamp(g.y/c|0,0,e),k=fb.clamp(f+Math.ceil(g.width/b)+1,0,d),e=fb.clamp(h+Math.ceil(g.height/c)+1,0,e);h<e;)for(var g=h++,D=f,q=k;D<q;){var m=D++,r=this.$tH.tiles[g*d+m];if(null!=r){var n=r.tileset;a.drawTexture(r.texture,m*b+n.offsetX,g*c+n.offsetY-n.tileHeight+c)}}},
__class__:md});var Ja={__ename__:!0,__constructs__:["None","Left","Right"],None:["None",0]};Ja.None.toString=k;Ja.None.__enum__=Ja;Ja.Left=["Left",1];Ja.Left.toString=k;Ja.Left.__enum__=Ja;Ja.Right=["Right",2];Ja.Right.toString=k;Ja.Right.__enum__=Ja;var Ka={__ename__:!0,__constructs__:["None","Top","Bottom"],None:["None",0]};Ka.None.toString=k;Ka.None.__enum__=Ka;Ka.Top=["Top",1];Ka.Top.toString=k;Ka.Top.__enum__=Ka;Ka.Bottom=["Bottom",2];Ka.Bottom.toString=k;Ka.Bottom.__enum__=Ka;var oa=function(){this.dockY=
Ka.None;this.dockX=Ja.None;this.onPointerDown=this.onPointerIn=this.onPointerOut=this.onPointerUp=this.onClick=null;this.pointerEnabled=!0;ra.call(this)};h["kit.creator.ui.Widget"]=oa;oa.__name__=["kit","creator","ui","Widget"];oa.__super__=ra;oa.prototype=m(ra.prototype,{onStart:function(){var a=this;ra.prototype.onStart.call(this);var b=this.owner.$aF[3];if(null!=b){b.set_pointerEnabled(this.pointerEnabled);null!=this.onPointerDown&&this.$uH(b.get_pointerDown(),this.onPointerDown);null!=this.onPointerIn&&
this.$uH(b.get_pointerIn(),this.onPointerIn);null!=this.onPointerOut&&this.$uH(b.get_pointerOut(),this.onPointerOut);null!=this.onPointerUp&&this.$uH(b.get_pointerUp(),this.onPointerUp);null!=this.onClick&&b.get_pointerDown().connect(function(b){a.$uH(v.$OG.$jF.up,a.onClick).once()});this.owner._internal_getFromParents(3,na);var c=function(){var c=ba.$sL("width"),e=ba.$sL("height"),g=na.$pH(oa.$qH);switch(a.dockX[1]){case 1:b.x.set__(a.info.x+g.x);break;case 2:b.x.set__(a.info.x+g.width-c+g.x)}switch(a.dockY[1]){case 1:b.y.set__(a.info.y+
g.y);break;case 2:b.y.set__(a.info.y+g.height-e+g.y)}};if(this.dockX!=Ja.None||this.dockY!=Ka.None)c(),this.connect0(v.$OG.$lF.resize,c)}},$uH:function(a,b){var c=this;return a.connect(function(a){null!=c.owner&&c.owner.emitMessageToParents(b,c.owner)})},__class__:oa});var Fa={__ename__:!0,__constructs__:["Left","Center","Right"],Left:["Left",0]};Fa.Left.toString=k;Fa.Left.__enum__=Fa;Fa.Center=["Center",1];Fa.Center.toString=k;Fa.Center.__enum__=Fa;Fa.Right=["Right",2];Fa.Right.toString=k;Fa.Right.__enum__=
Fa;var kc=function(){this.textScale=1;this.text="Your text";this.letterSpacing=this.lineSpacing=0;this.textAlign=Fa.Left;oa.call(this)};h["kit.creator.ui.BitmapText"]=kc;kc.__name__=["kit","creator","ui","BitmapText"];kc.__super__=oa;kc.prototype=m(oa.prototype,{onStart:function(){var a=this.owner._internal_getFromParents(4),a=new Jb(a.getFont(this.font));a.set_align(this.textAlign);a.letterSpacing.set__(this.letterSpacing);a.lineSpacing.set__(this.lineSpacing);a.wrapWidth.set__(this.info.width/this.textScale);
this.owner.add(a);this.info.transformSprite(a);var b=a.scaleX;b.set__(b.$6F*this.textScale);a=a.scaleY;a.set__(a.$6F*this.textScale);this.$wH(!0);oa.prototype.onStart.call(this)},$vH:function(){var a=this.owner.$aF[3];return a instanceof Jb?a:null},$wH:function(a){var b=this,c=this.owner.$aF[3],c=c instanceof Jb?c:null;if(null!=this.owner._internal_getFromParents(1)){var d=ga.replace(this.text,"\\n","\n"),e=null;c.set_text((new Ha("{(.+?)}","g")).map(d,function(c){var d=c.matched(1);if(null==e)for(e=
[],c=b.owner;null!=c;){var f=c.$aF[12];null!=f&&e.push(f);c=c.parent}if(a)for(c=0;c<e.length;)f=e[c],++c,b.connect2(f.changed,function(a,c){a==d&&b.$wH(!1)});for(c=0;c<e.length;)if(f=e[c],++c,f=f.get(d),null!=f)return""+f;return"0"}))}},__class__:kc});var lc=function(){this.pressDistance=10;oa.call(this)};h["kit.creator.ui.Button"]=lc;lc.__name__=["kit","creator","ui","Button"];lc.__super__=oa;lc.prototype=m(oa.prototype,{onStart:function(){var a=this,b=this.owner.$aF[3],c=b instanceof dc?b:null,
d=!1,e=!1;b.get_pointerIn().connect(function(a){e=!0;null!=c&&c.loop(d?"down":"hover",!1)});b.get_pointerOut().connect(function(a){e=!1;null!=c&&c.loop("up")});b.get_pointerDown().connect(function(g){d=!0;g=b.y;g.set__(g.$6F+a.pressDistance);null!=c&&c.loop("down");v.$OG.$jF.up.connect(function(g){d=!1;g=b.y;g.set__(g.$6F-a.pressDistance);null!=c&&c.loop(e?"hover":"up")}).once()});oa.prototype.onStart.call(this)},__class__:lc});var nd=function(){oa.call(this)};h["kit.creator.ui.Image"]=nd;nd.__name__=
["kit","creator","ui","Image"];nd.__super__=oa;nd.prototype=m(oa.prototype,{__class__:nd});var X={__ename__:!0,__constructs__:"Normal Add Multiply Screen Mask Copy".split(" "),Normal:["Normal",0]};X.Normal.toString=k;X.Normal.__enum__=X;X.Add=["Add",1];X.Add.toString=k;X.Add.__enum__=X;X.Multiply=["Multiply",2];X.Multiply.toString=k;X.Multiply.__enum__=X;X.Screen=["Screen",3];X.Screen.toString=k;X.Screen.__enum__=X;X.Mask=["Mask",4];X.Mask.toString=k;X.Mask.__enum__=X;X.Copy=["Copy",5];X.Copy.toString=
k;X.Copy.__enum__=X;var od=function(){};h["kit.display.Graphics"]=od;od.__name__=["kit","display","Graphics"];od.prototype={__class__:od};var df=function(){this.$yH=[]};h["kit.display.BufferedGraphics"]=df;df.__name__=["kit","display","BufferedGraphics"];df.__interfaces__=[od];df.prototype={save:function(){this.$xH(new pd)},translate:function(a,b){this.$xH(new qd(a,b))},scale:function(a,b){this.$xH(new rd(a,b))},rotate:function(a){this.$xH(new sd(a))},transform:function(a,b,c,d,e,g){this.$xH(new td(a,
b,c,d,e,g))},multiplyAlpha:function(a){this.$xH(new ud(a))},setAlpha:function(a){this.$xH(new vd(a))},tint:function(a,b,c){this.$xH(new wd(a,b,c))},setBlendMode:function(a){this.$xH(new xd(a))},beginMask:function(){this.$xH(new yd)},endMask:function(){this.$xH(new zd)},applyScissor:function(a,b,c,d){this.$xH(new Ad(a,b,c,d))},restore:function(){this.$xH(new Bd)},drawTexture:function(a,b,c){this.$xH(new Cd(a,b,c))},drawSubTexture:function(a,b,c,d,e,g,f){this.$xH(new Dd(a,b,c,d,e,g,f))},drawPattern:function(a,
b,c,d,e){this.$xH(new Ed(a,b,c,d,e))},fillRect:function(a,b,c,d,e){this.$xH(new Fd(a,b,c,d,e))},fillTriangles:function(a,b,c){this.$xH(new Gd(a,b.slice(),c.slice()))},drawTriangles:function(a,b,c,d){this.$xH(new Hd(a,b.slice(),c.slice(),null!=d?d.slice():null))},fillPolygon:function(a,b){this.$xH(new Id(a,b.slice()))},drawPolygon:function(a,b){this.$xH(new Jd(a,b.slice()))},drawCircle:function(a,b,c,d,e){null==e&&(e=50);this.$xH(new Kd(a,b,c,d,e))},fillCircle:function(a,b,c,d,e){null==e&&(e=50);this.$xH(new Ld(a,
b,c,d,e))},strokeCircle:function(a,b,c,d,e,g){null==g&&(g=50);this.$xH(new Md(a,b,c,d,e,g))},drawEllipse:function(a,b,c,d,e,g){null==g&&(g=50);this.$xH(new Nd(a,b,c,d,e,g))},fillEllipse:function(a,b,c,d,e,g){null==g&&(g=50);this.$xH(new Od(a,b,c,d,e,g))},strokeEllipse:function(a,b,c,d,e,g,f){null==f&&(f=50);this.$xH(new Pd(a,b,c,d,e,g,f))},fillArc:function(a,b,c,d,e,g,f){null==f&&(f=50);this.$xH(new Qd(a,b,c,d,e,g,f))},strokeArc:function(a,b,c,d,e,g,f,h){null==h&&(h=50);this.$xH(new Rd(a,b,c,d,e,
g,f,h))},strokeLines:function(a,b,c){this.$xH(new Sd(a,b.slice(),c))},drawLines:function(a,b,c){this.$xH(new Td(a,b.slice(),c))},render:function(a){for(var b=0,c=this.$yH.length;b<c;){var d=b++;this.$yH[d].$zH(a)}},$xH:function(a){this.$yH.push(a)},__class__:df};var B=function(){};h.$CS=B;B.__name__=["$CS"];B.prototype={$zH:function(a){},__class__:B};var pd=function(){};h.$CT=pd;pd.__name__=["$CT"];pd.__super__=B;pd.prototype=m(B.prototype,{$zH:function(a){a.save()},__class__:pd});var qd=function(a,
b){this.$0H=a;this.$1H=b};h.$CU=qd;qd.__name__=["$CU"];qd.__super__=B;qd.prototype=m(B.prototype,{$zH:function(a){a.translate(this.$0H,this.$1H)},__class__:qd});var rd=function(a,b){this.$0H=a;this.$1H=b};h.$CV=rd;rd.__name__=["$CV"];rd.__super__=B;rd.prototype=m(B.prototype,{$zH:function(a){a.scale(this.$0H,this.$1H)},__class__:rd});var sd=function(a){this.$2H=a};h.$CW=sd;sd.__name__=["$CW"];sd.__super__=B;sd.prototype=m(B.prototype,{$zH:function(a){a.rotate(this.$2H)},__class__:sd});var td=function(a,
b,c,d,e,g){this.$3H=a;this.$4H=b;this.$5H=c;this.$6H=d;this.$7H=e;this.$8H=g};h.$CX=td;td.__name__=["$CX"];td.__super__=B;td.prototype=m(B.prototype,{$zH:function(a){a.transform(this.$3H,this.$4H,this.$5H,this.$6H,this.$7H,this.$8H)},__class__:td});var ud=function(a){this.$9H=a};h.$CY=ud;ud.__name__=["$CY"];ud.__super__=B;ud.prototype=m(B.prototype,{$zH:function(a){a.multiplyAlpha(this.$9H)},__class__:ud});var vd=function(a){this.$$H=a};h.$CZ=vd;vd.__name__=["$CZ"];vd.__super__=B;vd.prototype=m(B.prototype,
{$zH:function(a){a.setAlpha(this.$$H)},__class__:vd});var wd=function(a,b,c){this.$_H=a;this.$AI=b;this.$BI=c};h.$Ca=wd;wd.__name__=["$Ca"];wd.__super__=B;wd.prototype=m(B.prototype,{$zH:function(a){a.tint(this.$_H,this.$AI,this.$BI)},__class__:wd});var xd=function(a){this.$CI=a};h.$Cb=xd;xd.__name__=["$Cb"];xd.__super__=B;xd.prototype=m(B.prototype,{$zH:function(a){a.setBlendMode(this.$CI)},__class__:xd});var Ad=function(a,b,c,d){this.$0H=a;this.$1H=b;this.$DI=c;this.$EI=d};h.$Cc=Ad;Ad.__name__=
["$Cc"];Ad.__super__=B;Ad.prototype=m(B.prototype,{$zH:function(a){a.applyScissor(this.$0H,this.$1H,this.$DI,this.$EI)},__class__:Ad});var yd=function(){};h.$Cd=yd;yd.__name__=["$Cd"];yd.__super__=B;yd.prototype=m(B.prototype,{$zH:function(a){a.beginMask()},__class__:yd});var zd=function(){};h.$Ce=zd;zd.__name__=["$Ce"];zd.__super__=B;zd.prototype=m(B.prototype,{$zH:function(a){a.endMask()},__class__:zd});var Bd=function(){};h.$Cf=Bd;Bd.__name__=["$Cf"];Bd.__super__=B;Bd.prototype=m(B.prototype,{$zH:function(a){a.restore()},
__class__:Bd});var Cd=function(a,b,c){this.$FI=a;this.$GI=b;this.$HI=c};h.$Cg=Cd;Cd.__name__=["$Cg"];Cd.__super__=B;Cd.prototype=m(B.prototype,{$zH:function(a){a.drawTexture(this.$FI,this.$GI,this.$HI)},__class__:Cd});var Dd=function(a,b,c,d,e,g,f){this.$FI=a;this.$GI=b;this.$HI=c;this.$II=d;this.$JI=e;this.$KI=g;this.$LI=f};h.$Ch=Dd;Dd.__name__=["$Ch"];Dd.__super__=B;Dd.prototype=m(B.prototype,{$zH:function(a){a.drawSubTexture(this.$FI,this.$GI,this.$HI,this.$II,this.$JI,this.$KI,this.$LI)},__class__:Dd});
var Ed=function(a,b,c,d,e){this.$FI=a;this.$GI=b;this.$HI=c;this.$DI=d;this.$EI=e};h.$Ci=Ed;Ed.__name__=["$Ci"];Ed.__super__=B;Ed.prototype=m(B.prototype,{$zH:function(a){a.drawPattern(this.$FI,this.$GI,this.$HI,this.$DI,this.$EI)},__class__:Ed});var Gd=function(a,b,c){this.$MI=a;this.$NI=b;this.$OI=c};h.$Cj=Gd;Gd.__name__=["$Cj"];Gd.__super__=B;Gd.prototype=m(B.prototype,{$zH:function(a){a.fillTriangles(this.$MI,this.$NI,this.$OI)},__class__:Gd});var Hd=function(a,b,c,d){this.$FI=a;this.$NI=b;this.$OI=
c;this.$PI=d};h.$Ck=Hd;Hd.__name__=["$Ck"];Hd.__super__=B;Hd.prototype=m(B.prototype,{$zH:function(a){a.drawTriangles(this.$FI,this.$NI,this.$OI,this.$PI)},__class__:Hd});var Id=function(a,b){this.$MI=a;this.$NI=b};h.$Cl=Id;Id.__name__=["$Cl"];Id.__super__=B;Id.prototype=m(B.prototype,{$zH:function(a){a.fillPolygon(this.$MI,this.$NI)},__class__:Id});var Jd=function(a,b){this.$FI=a;this.$NI=b};h.$Cm=Jd;Jd.__name__=["$Cm"];Jd.__super__=B;Jd.prototype=m(B.prototype,{$zH:function(a){a.drawPolygon(this.$FI,
this.$NI)},__class__:Jd});var Kd=function(a,b,c,d,e){this.$FI=a;this.$QI=b;this.$RI=c;this.$SI=d;this.$TI=e};h.$Cn=Kd;Kd.__name__=["$Cn"];Kd.__super__=B;Kd.prototype=m(B.prototype,{$zH:function(a){a.drawCircle(this.$FI,this.$QI,this.$RI,this.$SI,this.$TI)},__class__:Kd});var Ld=function(a,b,c,d,e){this.$MI=a;this.$QI=b;this.$RI=c;this.$SI=d;this.$TI=e};h.$Co=Ld;Ld.__name__=["$Co"];Ld.__super__=B;Ld.prototype=m(B.prototype,{$zH:function(a){a.fillCircle(this.$MI,this.$QI,this.$RI,this.$SI,this.$TI)},
__class__:Ld});var Md=function(a,b,c,d,e,g){this.$MI=a;this.$QI=b;this.$RI=c;this.$SI=d;this.$UI=e;this.$TI=g};h.$Cp=Md;Md.__name__=["$Cp"];Md.__super__=B;Md.prototype=m(B.prototype,{$zH:function(a){a.strokeCircle(this.$MI,this.$QI,this.$RI,this.$SI,this.$UI,this.$TI)},__class__:Md});var Od=function(a,b,c,d,e,g){this.$MI=a;this.$QI=b;this.$RI=c;this.$VI=d;this.$WI=e;this.$TI=g};h.$Cq=Od;Od.__name__=["$Cq"];Od.__super__=B;Od.prototype=m(B.prototype,{$zH:function(a){a.fillEllipse(this.$MI,this.$QI,
this.$RI,this.$VI,this.$WI,this.$TI)},__class__:Od});var Nd=function(a,b,c,d,e,g){this.$FI=a;this.$QI=b;this.$RI=c;this.$VI=d;this.$WI=e;this.$TI=g};h.$Cr=Nd;Nd.__name__=["$Cr"];Nd.__super__=B;Nd.prototype=m(B.prototype,{$zH:function(a){a.drawEllipse(this.$FI,this.$QI,this.$RI,this.$VI,this.$WI,this.$TI)},__class__:Nd});var Pd=function(a,b,c,d,e,g,f){this.$MI=a;this.$QI=b;this.$RI=c;this.$VI=d;this.$WI=e;this.$UI=g;this.$TI=f};h.$Cs=Pd;Pd.__name__=["$Cs"];Pd.__super__=B;Pd.prototype=m(B.prototype,
{$zH:function(a){a.strokeEllipse(this.$MI,this.$QI,this.$RI,this.$VI,this.$WI,this.$UI,this.$TI)},__class__:Pd});var Qd=function(a,b,c,d,e,g,f){this.$MI=a;this.$QI=b;this.$RI=c;this.$SI=d;this.$XI=e;this.$YI=g;this.$TI=f};h.$Ct=Qd;Qd.__name__=["$Ct"];Qd.__super__=B;Qd.prototype=m(B.prototype,{$zH:function(a){a.fillArc(this.$MI,this.$QI,this.$RI,this.$SI,this.$XI,this.$YI,this.$TI)},__class__:Qd});var Rd=function(a,b,c,d,e,g,f,h){this.$MI=a;this.$QI=b;this.$RI=c;this.$SI=d;this.$XI=e;this.$YI=g;this.$UI=
f;this.$TI=h};h.$Cu=Rd;Rd.__name__=["$Cu"];Rd.__super__=B;Rd.prototype=m(B.prototype,{$zH:function(a){a.strokeArc(this.$MI,this.$QI,this.$RI,this.$SI,this.$XI,this.$YI,this.$UI,this.$TI)},__class__:Rd});var Sd=function(a,b,c){this.$MI=a;this.$NI=b;this.$ZI=c};h.$Cv=Sd;Sd.__name__=["$Cv"];Sd.__super__=B;Sd.prototype=m(B.prototype,{$zH:function(a){a.strokeLines(this.$MI,this.$NI,this.$ZI)},__class__:Sd});var Td=function(a,b,c){this.$FI=a;this.$NI=b;this.$ZI=c};h.$Cw=Td;Td.__name__=["$Cw"];Td.__super__=
B;Td.prototype=m(B.prototype,{$zH:function(a){a.drawLines(this.$FI,this.$NI,this.$ZI)},__class__:Td});var Fd=function(a,b,c,d,e){this.$MI=a;this.$0H=b;this.$1H=c;this.$DI=d;this.$EI=e};h.$Cx=Fd;Fd.__name__=["$Cx"];Fd.__super__=B;Fd.prototype=m(B.prototype,{$zH:function(a){a.fillRect(this.$MI,this.$0H,this.$1H,this.$DI,this.$EI)},__class__:Fd});var Ud=function(a){this.$bI=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};h["kit.display.Glyph"]=
Ud;Ud.__name__=["kit","display","Glyph"];Ud.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this.$bI?this.$bI.h[a]|0:0},$aI:function(a,b){null==this.$bI&&(this.$bI=new Sa);this.$bI.h[a]=b},__class__:Ud};var Hb=function(a,b){this.name=b;this.$gH=a;this.$uG=a.getFile(b+".fnt");this.$rG()};h["kit.display.Font"]=Hb;Hb.__name__=["kit","display","Font"];Hb.prototype={disposeFiles:function(){this.$uG.dispose();
return this},layoutText:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=Fa.Left);return new zb(this,a,b,c,d,e)},$rG:function(){this.$cI=new Sa;this.$cI.h[Hb.$dI.charCode]=Hb.$dI;for(var a=new Kb(this.$uG.toString()),b=new Sa,c=this.name.lastIndexOf("/"),c=0<=c?M.substr(this.name,0,c+1):"",d=a.$iI();d.hasNext();)switch(d.next()){case "char":for(var e=null,g=a.$jI();g.hasNext();){var f=g.next();switch(f.$pI){case "height":e.height=f.$qI();break;case "id":e=new Ud(f.$qI());
break;case "page":f=f.$qI();e.page=b.h[f];break;case "width":e.width=f.$qI();break;case "x":e.x=f.$qI();break;case "xadvance":e.xAdvance=f.$qI();break;case "xoffset":e.xOffset=f.$qI();break;case "y":e.y=f.$qI();break;case "yoffset":e.yOffset=f.$qI()}}this.$cI.set(e.charCode,e);break;case "common":for(e=a.$jI();e.hasNext();)g=e.next(),"lineHeight"==g.$pI&&(this.lineHeight=g.$qI());break;case "info":for(e=a.$jI();e.hasNext();)switch(g=e.next(),g.$pI){case "face":this.typeface=g.$rI();break;case "size":this.size=
g.$qI()}break;case "kerning":for(var e=null,f=g=0,h=a.$jI();h.hasNext();){var k=h.next();switch(k.$pI){case "amount":f=k.$qI();break;case "first":e=this.$cI.get(k.$qI());break;case "second":g=k.$qI()}}null!=e&&0!=f&&e.$aI(g,f);break;case "page":e=0;g=null;for(f=a.$jI();f.hasNext();)switch(h=f.next(),h.$pI){case "file":g=h.$rI();break;case "id":e=h.$qI()}g=this.$gH.getTexture(c+Ea.removeFileExtension(g));b.h[e]=g}},__class__:Hb};var zb=function(a,b,c,d,e,g){this.lines=0;var f=this;this.$eI=a;this.$cI=
[];this.$fI=[];this.$gI=Math.round(a.lineHeight+g);this.bounds=new wa;var h=[];g=0;for(var k=b.length;g<k;){var D=g++,D=b.charCodeAt(D),D=a.$cI.get(D);null!=D&&this.$cI.push(D)}b=-1;var q=0,m=0;a=a.$cI.get(10);g=function(){var a=f.bounds.width;f.bounds.width=a>q?a:q;f.bounds.height+=m;h[f.lines]=q;m=q=0;++f.lines};for(k=0;k<this.$cI.length;){D=this.$cI[k];this.$fI[k]=Math.round(q);var r=0<d&&q+D.width>d;r||D==a?(r&&(0<=b?(this.$cI[b]=a,q=this.$fI[b],k=b):this.$cI.splice(k,0,a)),b=-1,m=this.$gI,g()):
(32==D.charCode&&(b=k),q+=D.xAdvance+e,r=D.height+D.yOffset,m>r||(m=r),k+1<this.$cI.length&&(q+=D.getKerning(this.$cI[k+1].charCode)));++k}g();e=0;a=zb.$hI(c,h[0],d);b=1.79769313486231E308;g=-1.79769313486231E308;D=k=0;for(r=this.$cI.length;D<r;){var n=this.$cI[D];10==n.charCode&&(e+=this.$gI,++k,a=zb.$hI(c,h[k],d));this.$fI[D]+=a;var p=e+n.yOffset;b=b<p?b:p;n=p+n.height;g>n||(g=n);++D}this.bounds.x=zb.$hI(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=g-b};h["kit.display.TextLayout"]=
zb;zb.__name__=["kit","display","TextLayout"];zb.$hI=function(a,b,c){switch(a[1]){case 0:return 0;case 1:return Math.round((c-b)/2);case 2:return c-b}};zb.prototype={draw:function(a){for(var b=0,c=0,d=this.$cI.length;c<d;){var e=this.$cI[c];10==e.charCode?b+=this.$gI:e.draw(a,this.$fI[c],b);++c}},__class__:zb};var Kb=function(a){this.$kI=a;this.$mI=new Ha("([A-Za-z]+)(.*)","");this.$nI=new Ha('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};h.$Cy=Kb;Kb.__name__=["$Cy"];Kb.$oI=function(a,b){var c=b.matchedPos();
return M.substr(a,c.pos+c.len,a.length)};Kb.prototype={$iI:function(){var a=this,b=this.$kI;return{next:function(){b=Kb.$oI(b,a.$mI);a.$lI=a.$mI.matched(2);return a.$mI.matched(1)},hasNext:function(){return a.$mI.match(b)}}},$jI:function(){var a=this,b=this.$lI;return{next:function(){b=Kb.$oI(b,a.$nI);return new ef(a.$nI.matched(1),a.$nI.matched(2))},hasNext:function(){return a.$nI.match(b)}}},__class__:Kb};var ef=function(a,b){this.$pI=a;this.$6F=b};h.$Cz=ef;ef.__name__=["$Cz"];ef.prototype={$qI:function(){return fa.parseInt(this.$6F)},
$rI:function(){return 34!=this.$6F.charCodeAt(0)?null:M.substr(this.$6F,1,this.$6F.length-2)},__class__:ef};var $a=function(a){x.call(this);this.texture=a};h["kit.display.ImageSprite"]=$a;$a.__name__=["kit","display","ImageSprite"];$a.__super__=x;$a.prototype=m(x.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():
0},__class__:$a});var hb={__ename__:!0,__constructs__:["Portrait","Landscape"],Portrait:["Portrait",0]};hb.Portrait.toString=k;hb.Portrait.__enum__=hb;hb.Landscape=["Landscape",1];hb.Landscape.toString=k;hb.Landscape.__enum__=hb;var gb=function(){this.$1I=null;this.$0I=[];this.$xI=this.$yI=this.$zI=null;this.$wI=new P(1);this.$vI=new P(1);this.$uI=new P(1);this.$sI=this.$tI=null};h.$C0=gb;gb.__name__=["$C0"];gb.prototype={__class__:gb};var Vd=function(){};h["kit.display.Texture"]=Vd;Vd.__name__=["kit",
"display","Texture"];Vd.__interfaces__=[eb];Vd.prototype={__class__:Vd,__properties__:{get_graphics:"get_graphics",get_height:"get_height",get_width:"get_width"}};var Sf=function(){};h["kit.display.SubTexture"]=Sf;Sf.__name__=["kit","display","SubTexture"];Sf.__interfaces__=[Vd];var Jb=function(a,b){null==b&&(b="");this.$7I=null;var c=this;x.call(this);this.$eI=a;this.$5I=b;this.$6I=Fa.Left;this.$B|=256;var d=function(a,b){c.$B|=256};this.wrapWidth=new P(0,d);this.letterSpacing=new P(0,d);this.lineSpacing=
new P(0,d)};h["kit.display.TextSprite"]=Jb;Jb.__name__=["kit","display","TextSprite"];Jb.__super__=x;Jb.prototype=m(x.prototype,{draw:function(a){this.$4I();this.$7I.draw(a)},getNaturalWidth:function(){this.$4I();return 0<this.wrapWidth.$6F?this.wrapWidth.$6F:this.$7I.bounds.width},getNaturalHeight:function(){this.$4I();var a=this.$7I.lines*(this.$eI.lineHeight+this.lineSpacing.$6F),b=this.$7I.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.$4I();return this.$7I.bounds.contains(a,b)},
set_text:function(a){a!=this.$5I&&(this.$5I=a,this.$B|=256);return a},set_align:function(a){a!=this.$6I&&(this.$6I=a,this.$B|=256);return a},$4I:function(){0!=(this.$B&256)&&(this.$B&=-257,this.$7I=this.$eI.layoutText(this.$5I,this.$6I,this.wrapWidth.$6F,this.letterSpacing.$6F,this.lineSpacing.$6F))},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:Jb,__properties__:m(x.prototype.__properties__,{set_align:"set_align",
set_text:"set_text"})});var ha={__ename__:!0,__constructs__:["RGBA","RGBA_4444","RGB","RGB_565","COMPRESSED"],RGBA:["RGBA",0]};ha.RGBA.toString=k;ha.RGBA.__enum__=ha;ha.RGBA_4444=["RGBA_4444",1];ha.RGBA_4444.toString=k;ha.RGBA_4444.__enum__=ha;ha.RGB=["RGB",2];ha.RGB.toString=k;ha.RGB.__enum__=ha;ha.RGB_565=["RGB_565",3];ha.RGB_565.toString=k;ha.RGB_565.__enum__=ha;ha.COMPRESSED=["COMPRESSED",4];ha.COMPRESSED.toString=k;ha.COMPRESSED.__enum__=ha;var Qe=function(a,b){this.$9I=null;this.items=new R;
var c=b.lastIndexOf("/"),c=M.substr(b,0,c+1);this.$uG=a.getFile(b+".json");for(var d=0,e=this.$uG.toJson().atlases;d<e.length;){var g=e[d];++d;for(var f=Ea.removeFileExtension(g.image),f=a.getTexture(c+f),h=0,g=g.items;h<g.length;){var k=g[h];++h;var k=new ff(this,f,k),D=k.name,q=this.items;null!=u[D]?q.setReserved(D,k):q.h[D]=k}}};h["kit.display.TexturePacker"]=Qe;Qe.__name__=["kit","display","TexturePacker"];Qe.prototype={createSprite:function(a,b){var c=this.items.get(a);return null!=c?c.createSprite():
null},disposeFiles:function(){this.$uG.dispose();return this},toLibrary:function(){var a=this;if(null==this.$9I){for(var b=new R,c=this.items,c=new Ia(c,c.arrayKeys());c.hasNext();){var d=c.next(),e=new Ha("^(.*?)(\\W*\\d+)$","");if(e.match(d.name)){var d=e.matched(1),e=e.matched(2),g=null!=u[d]?b.getReserved(d):b.h[d];if(null==g){var f=g=[];null!=u[d]?b.setReserved(d,f):b.h[d]=f}g.push(e)}}for(var h=/\D/g,c=[],d=b.keys();d.hasNext();){e=[d.next()];g=null!=u[e[0]]?b.getReserved(e[0]):b.h[e[0]];g.sort(function(){return function(a,
b){var c=fa.parseInt(a.replace(h,"")),d=fa.parseInt(b.replace(h,""));return c-d}}());for(var f=g.map(function(b){return function(c){var d=a.items;c=b[0]+c;return(null!=u[c]?d.getReserved(c):d.h[c]).texture}}(e)),f=new gf(e[0],f),k=0,D=g.length;k<D;){var q=k++,m=f.frames[q],r=this.items,q=e[0]+g[q],r=null!=u[q]?r.getReserved(q):r.h[q];m.anchorX=r.anchorX;m.anchorY=r.anchorY}c.push(f)}this.$9I=mc.fromFlipbooks(c)}return this.$9I},__class__:Qe};var ff=function(a,b,c){this.name=null;this.packer=a;this.name=
c.name;a=c.frame;this.texture=b.subTexture(a[0],a[1],a[2],a[3]);this.anchorX=c.pivot[0];this.anchorY=c.pivot[1]};h["kit.display.TexturePackerItem"]=ff;ff.__name__=["kit","display","TexturePackerItem"];ff.prototype={createSprite:function(){return(new $a(this.texture)).setAnchor(this.anchorX,this.anchorY)},__class__:ff};var Tf=function(){};h["kit.display.VectorFont"]=Tf;Tf.__name__=["kit","display","VectorFont"];Tf.__interfaces__=[eb];var Uf=function(){this.$BJ=this.$CJ=this.$DJ=null;this.$AJ=new R;
this.paddingTop=this.paddingRight=this.paddingBottom=this.paddingLeft=0;this.outputOnly=!1;this.active=!0};h["kit.filter.Filter"]=Uf;Uf.__name__=["kit","filter","Filter"];Uf.prototype={apply:function(a){a.render(this)},setUniformVec2:function(a,b,c){this.$$I(a,1,[b,c])},setUniformSampler2D:function(a,b){this.$$I(a,11,b)},update:function(a){},$$I:function(a,b,c){var d=this.$AJ,d=null!=u[a]?d.getReserved(a):d.h[a];if(null==d){var e=this.$AJ,g=d=new hf(a);null!=u[a]?e.setReserved(a,g):e.h[a]=g}d.$GJ=
b;d.$FJ=c},$_I:function(){null==this.$DJ&&(this.$DJ=null!=this.$CJ?this.$CJ+"@"+this.$BJ:this.$BJ);return this.$DJ},__class__:Uf};var hf=function(a){this.$GJ=0;this.$FJ=null;this.$EJ=a};h.$C2=hf;hf.__name__=["$C2"];hf.prototype={__class__:hf};var f={__ename__:!0,__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Number0 Number1 Number2 Number3 Number4 Number5 Number6 Number7 Number8 Number9 Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadDecimal NumpadDivide NumpadEnter NumpadMultiply NumpadSubtract F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 Left Up Right Down Alt Backquote Backslash Backspace CapsLock Comma Command Control Delete End Enter Equals Escape Home Insert LeftBracket Minus PageDown PageUp Period Quote RightBracket Semicolon Shift Slash Space Tab Menu Search Unknown".split(" "),
A:["A",0]};f.A.toString=k;f.A.__enum__=f;f.B=["B",1];f.B.toString=k;f.B.__enum__=f;f.C=["C",2];f.C.toString=k;f.C.__enum__=f;f.D=["D",3];f.D.toString=k;f.D.__enum__=f;f.E=["E",4];f.E.toString=k;f.E.__enum__=f;f.F=["F",5];f.F.toString=k;f.F.__enum__=f;f.G=["G",6];f.G.toString=k;f.G.__enum__=f;f.H=["H",7];f.H.toString=k;f.H.__enum__=f;f.I=["I",8];f.I.toString=k;f.I.__enum__=f;f.J=["J",9];f.J.toString=k;f.J.__enum__=f;f.K=["K",10];f.K.toString=k;f.K.__enum__=f;f.L=["L",11];f.L.toString=k;f.L.__enum__=
f;f.M=["M",12];f.M.toString=k;f.M.__enum__=f;f.N=["N",13];f.N.toString=k;f.N.__enum__=f;f.O=["O",14];f.O.toString=k;f.O.__enum__=f;f.P=["P",15];f.P.toString=k;f.P.__enum__=f;f.Q=["Q",16];f.Q.toString=k;f.Q.__enum__=f;f.R=["R",17];f.R.toString=k;f.R.__enum__=f;f.S=["S",18];f.S.toString=k;f.S.__enum__=f;f.T=["T",19];f.T.toString=k;f.T.__enum__=f;f.U=["U",20];f.U.toString=k;f.U.__enum__=f;f.V=["V",21];f.V.toString=k;f.V.__enum__=f;f.W=["W",22];f.W.toString=k;f.W.__enum__=f;f.X=["X",23];f.X.toString=
k;f.X.__enum__=f;f.Y=["Y",24];f.Y.toString=k;f.Y.__enum__=f;f.Z=["Z",25];f.Z.toString=k;f.Z.__enum__=f;f.Number0=["Number0",26];f.Number0.toString=k;f.Number0.__enum__=f;f.Number1=["Number1",27];f.Number1.toString=k;f.Number1.__enum__=f;f.Number2=["Number2",28];f.Number2.toString=k;f.Number2.__enum__=f;f.Number3=["Number3",29];f.Number3.toString=k;f.Number3.__enum__=f;f.Number4=["Number4",30];f.Number4.toString=k;f.Number4.__enum__=f;f.Number5=["Number5",31];f.Number5.toString=k;f.Number5.__enum__=
f;f.Number6=["Number6",32];f.Number6.toString=k;f.Number6.__enum__=f;f.Number7=["Number7",33];f.Number7.toString=k;f.Number7.__enum__=f;f.Number8=["Number8",34];f.Number8.toString=k;f.Number8.__enum__=f;f.Number9=["Number9",35];f.Number9.toString=k;f.Number9.__enum__=f;f.Numpad0=["Numpad0",36];f.Numpad0.toString=k;f.Numpad0.__enum__=f;f.Numpad1=["Numpad1",37];f.Numpad1.toString=k;f.Numpad1.__enum__=f;f.Numpad2=["Numpad2",38];f.Numpad2.toString=k;f.Numpad2.__enum__=f;f.Numpad3=["Numpad3",39];f.Numpad3.toString=
k;f.Numpad3.__enum__=f;f.Numpad4=["Numpad4",40];f.Numpad4.toString=k;f.Numpad4.__enum__=f;f.Numpad5=["Numpad5",41];f.Numpad5.toString=k;f.Numpad5.__enum__=f;f.Numpad6=["Numpad6",42];f.Numpad6.toString=k;f.Numpad6.__enum__=f;f.Numpad7=["Numpad7",43];f.Numpad7.toString=k;f.Numpad7.__enum__=f;f.Numpad8=["Numpad8",44];f.Numpad8.toString=k;f.Numpad8.__enum__=f;f.Numpad9=["Numpad9",45];f.Numpad9.toString=k;f.Numpad9.__enum__=f;f.NumpadAdd=["NumpadAdd",46];f.NumpadAdd.toString=k;f.NumpadAdd.__enum__=f;f.NumpadDecimal=
["NumpadDecimal",47];f.NumpadDecimal.toString=k;f.NumpadDecimal.__enum__=f;f.NumpadDivide=["NumpadDivide",48];f.NumpadDivide.toString=k;f.NumpadDivide.__enum__=f;f.NumpadEnter=["NumpadEnter",49];f.NumpadEnter.toString=k;f.NumpadEnter.__enum__=f;f.NumpadMultiply=["NumpadMultiply",50];f.NumpadMultiply.toString=k;f.NumpadMultiply.__enum__=f;f.NumpadSubtract=["NumpadSubtract",51];f.NumpadSubtract.toString=k;f.NumpadSubtract.__enum__=f;f.F1=["F1",52];f.F1.toString=k;f.F1.__enum__=f;f.F2=["F2",53];f.F2.toString=
k;f.F2.__enum__=f;f.F3=["F3",54];f.F3.toString=k;f.F3.__enum__=f;f.F4=["F4",55];f.F4.toString=k;f.F4.__enum__=f;f.F5=["F5",56];f.F5.toString=k;f.F5.__enum__=f;f.F6=["F6",57];f.F6.toString=k;f.F6.__enum__=f;f.F7=["F7",58];f.F7.toString=k;f.F7.__enum__=f;f.F8=["F8",59];f.F8.toString=k;f.F8.__enum__=f;f.F9=["F9",60];f.F9.toString=k;f.F9.__enum__=f;f.F10=["F10",61];f.F10.toString=k;f.F10.__enum__=f;f.F11=["F11",62];f.F11.toString=k;f.F11.__enum__=f;f.F12=["F12",63];f.F12.toString=k;f.F12.__enum__=f;f.F13=
["F13",64];f.F13.toString=k;f.F13.__enum__=f;f.F14=["F14",65];f.F14.toString=k;f.F14.__enum__=f;f.F15=["F15",66];f.F15.toString=k;f.F15.__enum__=f;f.Left=["Left",67];f.Left.toString=k;f.Left.__enum__=f;f.Up=["Up",68];f.Up.toString=k;f.Up.__enum__=f;f.Right=["Right",69];f.Right.toString=k;f.Right.__enum__=f;f.Down=["Down",70];f.Down.toString=k;f.Down.__enum__=f;f.Alt=["Alt",71];f.Alt.toString=k;f.Alt.__enum__=f;f.Backquote=["Backquote",72];f.Backquote.toString=k;f.Backquote.__enum__=f;f.Backslash=
["Backslash",73];f.Backslash.toString=k;f.Backslash.__enum__=f;f.Backspace=["Backspace",74];f.Backspace.toString=k;f.Backspace.__enum__=f;f.CapsLock=["CapsLock",75];f.CapsLock.toString=k;f.CapsLock.__enum__=f;f.Comma=["Comma",76];f.Comma.toString=k;f.Comma.__enum__=f;f.Command=["Command",77];f.Command.toString=k;f.Command.__enum__=f;f.Control=["Control",78];f.Control.toString=k;f.Control.__enum__=f;f.Delete=["Delete",79];f.Delete.toString=k;f.Delete.__enum__=f;f.End=["End",80];f.End.toString=k;f.End.__enum__=
f;f.Enter=["Enter",81];f.Enter.toString=k;f.Enter.__enum__=f;f.Equals=["Equals",82];f.Equals.toString=k;f.Equals.__enum__=f;f.Escape=["Escape",83];f.Escape.toString=k;f.Escape.__enum__=f;f.Home=["Home",84];f.Home.toString=k;f.Home.__enum__=f;f.Insert=["Insert",85];f.Insert.toString=k;f.Insert.__enum__=f;f.LeftBracket=["LeftBracket",86];f.LeftBracket.toString=k;f.LeftBracket.__enum__=f;f.Minus=["Minus",87];f.Minus.toString=k;f.Minus.__enum__=f;f.PageDown=["PageDown",88];f.PageDown.toString=k;f.PageDown.__enum__=
f;f.PageUp=["PageUp",89];f.PageUp.toString=k;f.PageUp.__enum__=f;f.Period=["Period",90];f.Period.toString=k;f.Period.__enum__=f;f.Quote=["Quote",91];f.Quote.toString=k;f.Quote.__enum__=f;f.RightBracket=["RightBracket",92];f.RightBracket.toString=k;f.RightBracket.__enum__=f;f.Semicolon=["Semicolon",93];f.Semicolon.toString=k;f.Semicolon.__enum__=f;f.Shift=["Shift",94];f.Shift.toString=k;f.Shift.__enum__=f;f.Slash=["Slash",95];f.Slash.toString=k;f.Slash.__enum__=f;f.Space=["Space",96];f.Space.toString=
k;f.Space.__enum__=f;f.Tab=["Tab",97];f.Tab.toString=k;f.Tab.__enum__=f;f.Menu=["Menu",98];f.Menu.toString=k;f.Menu.__enum__=f;f.Search=["Search",99];f.Search.toString=k;f.Search.__enum__=f;f.Unknown=function(a){a=["Unknown",100,a];a.__enum__=f;a.toString=k;return a};var jf=function(){this.$HJ(0,null)};h["kit.input.KeyboardEvent"]=jf;jf.__name__=["kit","input","KeyboardEvent"];jf.prototype={$HJ:function(a,b){this.id=a;this.key=b},__class__:jf};var xa={__ename__:!0,__constructs__:["Left","Middle",
"Right","Unknown"],Left:["Left",0]};xa.Left.toString=k;xa.Left.__enum__=xa;xa.Middle=["Middle",1];xa.Middle.toString=k;xa.Middle.__enum__=xa;xa.Right=["Right",2];xa.Right.toString=k;xa.Right.__enum__=xa;xa.Unknown=function(a){a=["Unknown",3,a];a.__enum__=xa;a.toString=k;return a};var ua={__ename__:!0,__constructs__:["Default","Button","None"],Default:["Default",0]};ua.Default.toString=k;ua.Default.__enum__=ua;ua.Button=["Button",1];ua.Button.toString=k;ua.Button.__enum__=ua;ua.None=["None",2];ua.None.toString=
k;ua.None.__enum__=ua;var kf=function(){this.$HJ(0,0,0,null)};h["kit.input.MouseEvent"]=kf;kf.__name__=["kit","input","MouseEvent"];kf.prototype={$HJ:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:kf};var Vf={__ename__:!0,__constructs__:["Mouse","Touch"],Mouse:function(a){a=["Mouse",0,a];a.__enum__=Vf;a.toString=k;return a},Touch:function(a){a=["Touch",1,a];a.__enum__=Vf;a.toString=k;return a}},lf=function(){this.$HJ(0,0,0,null,null)};h["kit.input.PointerEvent"]=lf;
lf.__name__=["kit","input","PointerEvent"];lf.prototype={$HJ:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this.$IJ=!1},__class__:lf};var mf=function(a){this.id=a;this.$JJ=Vf.Touch(this)};h["kit.input.TouchPoint"]=mf;mf.__name__=["kit","input","TouchPoint"];mf.prototype={$HJ:function(a,b){this.viewX=a;this.viewY=b},__class__:mf};var fb=function(){};h["kit.math.FMath"]=fb;fb.__name__=["kit","math","FMath"];fb.clamp=function(a,b,c){return a<b?b:a>c?c:a};var nc=function(){};
h["kit.movie.Symbol"]=nc;nc.__name__=["kit","movie","Symbol"];nc.prototype={__class__:nc};var Wd=function(){};h["kit.movie.BitmapSymbol"]=Wd;Wd.__name__=["kit","movie","BitmapSymbol"];Wd.__interfaces__=[nc];Wd.prototype={createSprite:function(){var a=new $a(this.texture);a.setAnchor(this.anchorX,this.anchorY);a.setScaleXY(this.scaleX,this.scaleY);return a},__class__:Wd};var gf=function(a,b){this.name=a;var c=1/b.length;this.frames=[];for(var d=0;d<b.length;){var e=b[d];++d;this.frames.push(new nf(e,
c))}};h["kit.movie.Flipbook"]=gf;gf.__name__=["kit","movie","Flipbook"];gf.prototype={__class__:gf};var nf=function(a,b){this.label=null;this.anchorX=this.anchorY=0;this.texture=a;this.duration=b};h["kit.movie.FlipbookFrame"]=nf;nf.__name__=["kit","movie","FlipbookFrame"];nf.prototype={$NJ:function(){return new Xd(this)},__class__:nf};var Xd=function(a){this.$FI=a.texture;this.$OJ=a.anchorX;this.$PJ=a.anchorY};h.$C5=Xd;Xd.__name__=["$C5"];Xd.__interfaces__=[nc];Xd.prototype={createSprite:function(){var a=
new $a(this.$FI);a.setAnchor(this.$OJ,this.$PJ);return a},__class__:Xd};var mc=function(){this.sounds=new R};h["kit.movie.Library"]=mc;mc.__name__=["kit","movie","Library"];mc.fromFlipbooks=function(a){var b=ya.createEmptyInstance(mc);b.$QJ=new R;b.frameRate=60;b.$uG=null;for(var c=0;c<a.length;){var d=a[c];++c;for(var e=[],g=0,f=d.frames;g<f.length;){var h=f[g];++g;e.push({duration:h.duration*b.frameRate,label:h.label,pivot:[h.anchorX,h.anchorY],ref:""})}e=new Yd(b,{id:d.name,layers:[{name:"flipbook",
flipbook:!0,keyframes:e}]});g=d.name;f=b.$QJ;null!=u[g]?f.setReserved(g,e):f.h[g]=e;e=e.layers[0].keyframes;g=0;for(f=d.frames.length;g<f;){var h=g++,k=d.frames[h].$NJ();e[h].symbol=k}}return b};mc.prototype={createSprite:function(a,b){var c=this.$QJ,c=null!=u[a]?c.getReserved(a):c.h[a];return null==c?null:c.createSprite()},__class__:mc};var Wa=function(a){this.$hJ=this.$iJ=this.$jJ=null;this.$gJ=0;var b=this;x.call(this);this.symbol=a;this.speed=new P(1);this.$dJ=Array(a.layers.length);for(var c=
0,d=this.$dJ.length;c<d;){var e=c++;this.$dJ[e]=new Lb(a.layers[e])}this.$eJ=0;this.$fJ=-1;this.$aJ(0);if(a.button){var g=0/a.frameRate,f=1/a.frameRate,h=2/a.frameRate,k=!1,m=!1,c=new wa(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308),d=0;for(a=a.layers;d<a.length;)e=a[d],++d,Wa.$kJ(e,c);c.x<c.width&&c.y<c.height&&(this.$jJ=c);this.$B|=4096;this.get_pointerDown().connect(function(a){k=!0;b.set_position(h);v.$OG.$jF.up.connect(function(a){k=!1;b.set_position(m?
f:g)}).once()});var q=null;this.get_pointerIn().connect(function(a){m=!0;b.set_position(k?h:f);v.$OG.$iF.get_cursor()==ua.Default&&v.$OG.$iF.set_cursor(ua.Button);null!=q&&q.dispose();q=v.$OG.$jF.move.connect(function(a){null==b.owner&&(q.dispose(),v.$OG.$iF.get_cursor()==ua.Button&&v.$OG.$iF.set_cursor(ua.Default))})});this.get_pointerOut().connect(function(a){m=!1;b.set_position(g);v.$OG.$iF.get_cursor()==ua.Button&&v.$OG.$iF.set_cursor(ua.Default)})}};h["kit.movie.MovieSprite"]=Wa;Wa.__name__=
["kit","movie","MovieSprite"];Wa.$kJ=function(a,b){for(var c=0,d=a.keyframes;c<d.length;){var e=d[c];++c;if(3==e.index&&null!=e.symbol){var g=e.symbol.createSprite(),f=g.getNaturalWidth(),h=g.getNaturalHeight();if(0<f&&0<h){var k=g.scaleX.$6F*e.scaleX,m=g.scaleY.$6F*e.scaleY,g=g.getLocalMatrix(),q=Math.sin(e.skewX),n=Math.cos(e.skewX),r=Math.sin(e.skewY),p=Math.cos(e.skewY);g.set(p*k,r*k,-q*m,n*m,e.x,e.y);g.translate(-e.pivotX,-e.pivotY);x.$NH(g,0,0,b);x.$NH(g,f,0,b);x.$NH(g,f,h,b);x.$NH(g,0,h,b)}}}c=
0;for(d=a.childLayers;c<d.length;)e=d[c],++c,Wa.$kJ(e,b)};Wa.__super__=x;Wa.prototype=m(x.prototype,{containsLocal:function(a,b){return null!=this.$jJ&&a>=this.$jJ.x&&a<this.$jJ.width&&b>=this.$jJ.y?b<this.$jJ.height:!1},onAdded:function(){x.prototype.onAdded.call(this);for(var a=0,b=this.$dJ;a<b.length;){var c=b[a];++a;this.owner.addChild(c.$qJ)}},onRemoved:function(){x.prototype.onRemoved.call(this);for(var a=0,b=this.$dJ;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.$qJ)}},onUpdate:function(a){x.prototype.onUpdate.call(this,
a);this.speed.update(a);switch(this.$B&6912){case 0:0<=this.speed.$6F&&(this.$eJ+=this.speed.$6F*a,this.$eJ>this.symbol.duration&&(0!=(this.$B&1024)?(this.$eJ=this.symbol.duration,this.$B|=2048):(this.$eJ%=this.symbol.duration,null!=this.$hJ&&this.$hJ.emit())));break;case 512:this.$B&=-513}this.$aJ(this.$eJ*this.symbol.frameRate)},$aJ:function(a){if(this.$fJ!=a){if(a<this.$fJ)for(var b=0,c=this.$dJ;b<c.length;){var d=c[b];++b;if(d.$0J(this.$iJ))return}b=0;for(c=this.$dJ;b<c.length;)if(d=c[b],++b,
d.$2J(a,this.$iJ,this.$gJ))return;switch(this.$gJ){case 0:this.$gJ=1;break;case 1:case 2:this.$gJ=3}this.$fJ=a}},set_position:function(a){this.setPosition(a,!0);return a},setPosition:function(a,b){var c=fb.clamp(a,0,this.symbol.duration);this.$eJ=c;this.$gJ=3;for(var d=c*this.symbol.frameRate,e=b?2:0,g=0,f=this.$dJ;g<f.length;){var h=f[g];++g;if(h.$1J(d,this.$iJ,e))return c}this.$fJ=d;return c},set_paused:function(a){this.$B=jc.set(this.$B,256,a);return a},$bJ:function(a){this.$eJ=a.firstFrame/this.symbol.frameRate;
this.set_paused(a.playMode==va.SingleFrame);this.$B=(this.$B|512)&-2049;a=0;for(var b=this.$dJ;a<b.length;){var c=b[a];++a;c.$bJ()}},__class__:Wa,__properties__:m(x.prototype.__properties__,{set_paused:"set_paused",set_position:"set_position"})});var Lb=function(a){this.$7J=[];this.$wJ=null;this.$vJ=!0;this.$tJ=-1;this.$sJ=0;this.$rJ=!1;this.$uJ=a;this.$qJ=new S;if(a.empty)this.$6J=null;else{this.$6J=Array(a.keyframes.length);for(var b=null,c=null,d=0,e=this.$6J.length;d<e;){var g=d++,f=a.keyframes[g];
if(null!=b&&Lb.$8J(b,f))this.$6J[g]=c;else if(null!=f.symbol){c=f.symbol.createSprite();this.$6J[g]=c;if(0<f.firstFrame||f.playMode!=va.Loop)if(b=c instanceof Wa?c:null,null!=b){switch(f.playMode[1]){case 1:b.$B|=1024;break;case 2:b.set_paused(!0)}b.$eJ=f.firstFrame/b.symbol.frameRate}b=f}else this.$6J[g]=new x}this.$qJ.add(this.$6J[0])}this.$5J=this.$qJ;if(0<a.childLayers.length)for(e=new x,f=(new S).add(e),f.addChild(this.$qJ),this.$qJ=b=new S,d=new S,a.mask&&(this.$wJ=new x,this.$wJ.set_mask(e),
d.add(this.$wJ)),b.addChild(d),b.addChild(f),e=0,a=a.childLayers;e<a.length;)f=a[e],++e,f=new Lb(f),this.$7J.push(f),d.addChild(f.$qJ)};h.$C6=Lb;Lb.__name__=["$C6"];Lb.$8J=function(a,b){return a.symbol!=b.symbol||a.playMode!=b.playMode?!1:2==a.playMode[1]?a.firstFrame==b.firstFrame:a.firstFrame!=b.firstFrame?a.firstFrame+a.duration==b.firstFrame:!0};Lb.prototype={$zJ:function(a,b){null!=a.sound&&null!=a.sound.sound&&(this.$qJ.emitMessageToParents("MovieSprite.FRAME_SOUND",new Zd(this.$qJ,a)).handled||
a.sound.sound.play());if(null!=b){var c=a.label;null!=c&&b.emit(c)}null!=a.actions&&this.$qJ.emitMessageToParents("MovieSprite.FRAME_ACTION",new Zd(this.$qJ,a))},$0J:function(a){for(var b=0,c=this.$7J;b<c.length;){var d=c[b];++b;if(d.$0J(a))return!0}if(0<=this.$tJ){for(var b=this.$uJ.keyframes,c=this.$sJ,d=this.$tJ+1,e=b.length;d<e;){var g=d++;this.$zJ(b[g],a);if(c!=this.$sJ)return!0}this.$tJ=-1}this.$rJ=!0;return!1},$1J:function(a,b,c){for(var d=0,e=this.$7J;d<e.length;){var g=e[d];++d;if(g.$1J(a,
b,c))return!0}++this.$sJ;d=this.$uJ.keyframes;e=d.length-1;g=this.$tJ;for(this.$tJ=-1;this.$tJ<e&&d[this.$tJ+1].index<=a;)++this.$tJ;this.$tJ!=g&&(this.$rJ=!0);return this.$2J(a,b,c)},$2J:function(a,b,c){for(var d=0,e=this.$7J;d<e.length;){var g=e[d];++d;if(g.$2J(a,b,c))return!0}var d=this.$uJ.keyframes,f=d.length-1,e=this.$tJ;if(a>this.$uJ.frames)this.$tJ=f,this.$rJ=!0;else for(;this.$tJ<f&&d[this.$tJ+1].index<=a;)++this.$tJ,this.$rJ=!0;if(null!=this.$6J){var g=d[this.$tJ],h;if(this.$rJ){if(this.$rJ=
!1,h=this.$6J[this.$tJ],h!=this.$5J.$aF[3]){var k=h instanceof Wa?h:null;null!=k&&k.$bJ(g);this.$5J.add(h)}}else h=this.$5J.$aF[3];if(this.$vJ&&(k=g.visible&&null!=g.symbol&&a<=this.$uJ.frames,h.set_visible(k),null!=this.$wJ&&this.$wJ.set_maskEnabled(k),k)){var k=g.x,m=g.y,q=g.scaleX,n=g.scaleY,r=g.skewX,p=g.skewY,s=g.alpha,u=g.tint;if(g.tweened&&this.$tJ<f){var f=(a-g.index)/g.duration,w=g.ease;if(0!=w){var v;0>w?(v=1-f,v=1-v*v,w=-w):v=f*f;f=w*v+(1-w)*f}w=d[this.$tJ+1];k+=(w.x-k)*f;m+=(w.y-m)*f;
q+=(w.scaleX-q)*f;n+=(w.scaleY-n)*f;r+=(w.skewX-r)*f;p+=(w.skewY-p)*f;s+=(w.alpha-s)*f;w=w.tint;if(16777215!=w||16777215!=u){v=(u&16711680)>>16;var x=(u&65280)>>8,u=u&255,x=x+((((w&65280)>>8)-x)*f|0),u=u+(((w&255)-u)*f|0),u=v+((((w&16711680)>>16)-v)*f|0)<<16|x<<8|u}}f=g.symbol;f=f instanceof Wd?f:null;null!=f&&(q*=f.scaleX,n*=f.scaleY);f=h.getLocalMatrix();w=Math.sin(r);r=Math.cos(r);v=Math.sin(p);p=Math.cos(p);f.set(p*q,v*q,-w*n,r*n,k,m);f.translate(-g.pivotX,-g.pivotY);h.$B|=16;h.alpha.set__(s);
h.setTint(u);null==g.blendMode&&null==h.get_blendMode()||h.set_blendMode(g.blendMode)}}if(0!=c)for(1==c?e=-1:2==c&&0<=this.$tJ&&d[this.$tJ].index==a&&(e=this.$tJ-1),a=this.$sJ,c=e,e=this.$tJ;c<e;)if(g=c++,this.$zJ(d[g+1],b),this.$sJ!=a)return!0;return!1},$bJ:function(){for(var a=0,b=this.$7J;a<b.length;){var c=b[a];++a;c.$bJ()}this.$rJ=!0;this.$tJ=-1;if(null!=this.$6J)for(a=0,b=this.$6J.length;a<b;){var c=a++,d=this.$6J[c],d=d instanceof Wa?d:null;null!=d&&d.$bJ(this.$uJ.keyframes[c])}},__class__:Lb};
var Zd=function(a,b){this.layer=a;this.keyframe=b};h["kit.movie.FrameEvent"]=Zd;Zd.__name__=["kit","movie","FrameEvent"];Zd.prototype={__class__:Zd};var Yd=function(a,b){this.$1E=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var e=c++,g=new $d(a,b.layers[e]);this.frames=Math.max(g.frames,this.frames);this.layers[e]=g}this.duration=this.frames/this.frameRate;this.button=!0==b.button};h["kit.movie.MovieSymbol"]=Yd;Yd.__name__=
["kit","movie","MovieSymbol"];Yd.__interfaces__=[nc];Yd.prototype={createSprite:function(){return new Wa(this)},__class__:Yd};var $d=function(a,b){this.mask=!1;this.childLayers=[];this.empty=!0;this.name=b.name;var c=null;this.keyframes=Array(b.keyframes.length);for(var d=0,e=this.keyframes.length;d<e;){var g=d++,c=new of(a,b.keyframes[g],c);this.keyframes[g]=c;this.empty=this.empty&&null==c.$$J}this.frames=null!=c?c.index+c.duration:0;null!=b.mask&&(this.mask=b.mask);if(null!=b.childLayers)for(c=
0,d=b.childLayers;c<d.length;)e=d[c],++c,e=new $d(a,e),e.frames>this.frames&&(this.frames=e.frames),this.childLayers.push(e)};h["kit.movie.MovieLayer"]=$d;$d.__name__=["kit","movie","MovieLayer"];$d.prototype={__class__:$d};var va={__ename__:!0,__constructs__:["Loop","PlayOnce","SingleFrame"],Loop:["Loop",0]};va.Loop.toString=k;va.Loop.__enum__=va;va.PlayOnce=["PlayOnce",1];va.PlayOnce.toString=k;va.PlayOnce.__enum__=va;va.SingleFrame=["SingleFrame",2];va.SingleFrame.toString=k;va.SingleFrame.__enum__=
va;var of=function(a,b,c){this.actions=this.sound=null;this.firstFrame=0;this.playMode=va.Loop;this.blendMode=null;this.ease=0;this.visible=this.tweened=!0;this.tint=16777215;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=this.instanceName=null;this.index=null!=c?c.index+c.duration:0;this.duration=b.duration;this.label=b.label;this.$$J=b.ref;c=b.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=b.scale;null!=c&&(this.scaleX=c[0],this.scaleY=
c[1]);c=b.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=b.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=b.alpha&&(this.alpha=b.alpha);null!=b.tint&&(this.tint=b.tint);null!=b.visible&&(this.visible=b.visible);null!=b.tweened&&(this.tweened=b.tweened);null!=b.ease&&(this.ease=b.ease);if(null!=b.blendMode){c=b.blendMode;if(null==c)c=null;else switch(c){case "add":c=X.Add;break;case "layer":c=X.Mask;break;case "multiply":c=X.Multiply;break;case "screen":c=X.Screen;break;default:c=null}this.blendMode=
c}null!=b.firstFrame&&(this.firstFrame=b.firstFrame);if(null!=b.playMode){c=b.playMode;if(null==c)c=va.Loop;else switch(c){case "once":c=va.PlayOnce;break;case "stop":c=va.SingleFrame;break;default:c=va.Loop}this.playMode=c}null!=b.actions&&(this.actions=b.actions);null!=b.sound&&(c=b.sound,a=a.sounds,this.sound=null!=u[c]?a.getReserved(c):a.h[c]);null!=b.refName&&(this.instanceName=b.refName)};h["kit.movie.MovieKeyframe"]=of;of.__name__=["kit","movie","MovieKeyframe"];of.prototype={__class__:of};
var Wf=function(){};h["kit.movie.SoundSymbol"]=Wf;Wf.__name__=["kit","movie","SoundSymbol"];Wf.prototype={__class__:Wf};var Oc=function(a){this.$nK=null;this.$lK=this.$mK=0;this.postSolve=new qb;this.preSolve=new qb;this.endContact=new V;this.beginContact=new V;this.velocityIterations=8;this.positionIterations=3;this.scale=50;G.call(this);null==a&&(a=new ja(new z(0,10),!0));this.world=a};h["kit.physics.Box2D"]=Oc;Oc.__name__=["kit","physics","Box2D"];Oc.__super__=G;Oc.prototype=m(G.prototype,{get_entitySlot:function(){return 5},
onStart:function(){var a=this.world,b=new ae(this);a.$qC.$NC=b},onStop:function(){this.world.$qC.$NC=ib.defaultListener},createPhysics:function(a){null==a&&(a=new $b,a.type=2);a=new be(this,this.world.createBody(a));a.body.$CC=a;return a.body.$BC=a},createObject:function(a){var b=this.createPhysics(),c=3.141592653589793*a.rotation/180;b.body.setPositionAndAngle(new z(a.x/this.scale,a.y/this.scale),c);this.$jK(b.body,a,a);return b},$jK:function(a,b,c){var d=1,e=1;null!=c.tile&&(d=c.width/c.tile.get_width(),
e=c.height/c.tile.get_height());var g=-c.anchorX/this.scale*d,f=-c.anchorY/this.scale*e;b!=c&&(g+=(b.x-b.anchorX)/this.scale*d,f+=(b.y-b.anchorY)/this.scale*e);switch(b.shape[1]){case 0:d*=b.width/2/this.scale;e*=b.height/2/this.scale;g=new z(g+d,f+e);f=new jb;f.shape=ma.asOrientedBox(d,e,g);a.createFixture(f);break;case 1:d=Math.max(d*b.width,e*b.height)/2/this.scale;e=new Yb(d);e.$RB.set(g+d,f+d);g=new jb;g.shape=e;a.createFixture(g);break;case 2:c=[];var h=0;for(b=b.points;h<b.length;){var k=b[h];
++h;c.push(new z(g+k.x/this.scale*d,f+k.y/this.scale*e))}g=new jb;g.shape=ma.asArray(c);a.createFixture(g);break;case 3:c=0;for(h=b.points.length-1;c<h;){var m=c++,k=b.points[m],m=b.points[m+1],k=new z(g+k.x/this.scale*d,f+k.y/this.scale*e),m=new z(g+m.x/this.scale*d,f+m.y/this.scale*e),q=new jb;q.shape=ma.asEdge(k,m);a.createFixture(q)}break;case 4:if(b=b.tile,0<b.collision.length)for(g=0,f=b.collision;g<f.length;)e=f[g],++g,this.$jK(a,e,c);else d*=b.get_width()/2/this.scale,e*=b.get_height()/2/
this.scale,g=new z(g+d,f+e),f=new jb,f.shape=ma.asOrientedBox(Math.abs(d),Math.abs(e),g),a.createFixture(f)}},$kK:function(a){var b=this,c=new $b;c.awake=!1;for(var d=this.createPhysics(c),e=new z,g=new jb,f=a.scene.tileWidth,h=a.scene.tileHeight,c=a.width,k=0,m=a.height;k<m;){for(var q=[k++],n=[!1],r=[0],p=function(a,c,k){return function(q){if(c[0]){c[0]=!1;q=0.5*(q-a[0])*f/b.scale;var m=0.5*h/b.scale;e.set(a[0]*f/b.scale+q,k[0]*h/b.scale+m);g.shape=ma.asOrientedBox(q,m,e);d.body.createFixture(g)}}}(r,
n,q),s=0,u=c;s<u;){var w=s++;null!=a.tiles[q[0]*c+w]?n[0]||(n[0]=!0,r[0]=w):p(w)}p(c)}return d},onUpdate:function(a){a=this.$lK+a;for(this.$lK=0.06666666666666667>a?a:0.06666666666666667;0.03333333333333333<=this.$lK;){this.$lK-=0.03333333333333333;if(0.03333333333333333>this.$lK)for(a=this.world.$sC;null!=a;){var b=a.$CC;null!=b&&b.$qK();a=a.$xB}this.world.step(0.03333333333333333,this.positionIterations,this.velocityIterations)}this.$mK=this.$lK/0.03333333333333333;this.world.clearForces();if(null!=
this.$nK){a=0;for(b=this.$nK;a<b.length;){var c=b[a];++a;c()}this.$nK=null}},defer:function(a){if(0==(this.world.$nB&2))return a(),!1;null==this.$nK?this.$nK=[a]:this.$nK.push(a);return!0},__class__:Oc});var ae=function(a){this.$pK=a};h.$C$=ae;ae.__name__=["$C$"];ae.__super__=ib;ae.prototype=m(ib.prototype,{beginContact:function(a){var b=a.$_C.$UC.$CC;null!=b&&null!=b.$rK&&b.$rK.emit(a);b=a.$AD.$UC.$CC;null!=b&&null!=b.$rK&&b.$rK.emit(a);this.$pK.beginContact.emit(a)},endContact:function(a){var b=
a.$_C.$UC.$CC;null!=b&&null!=b.$sK&&b.$sK.emit(a);b=a.$AD.$UC.$CC;null!=b&&null!=b.$sK&&b.$sK.emit(a);this.$pK.endContact.emit(a)},preSolve:function(a,b){var c=a.$_C.$UC.$CC;null!=c&&null!=c.$tK&&c.$tK.emit(a,b);c=a.$AD.$UC.$CC;null!=c&&null!=c.$tK&&c.$tK.emit(a,b);this.$pK.preSolve.emit(a,b)},postSolve:function(a,b){var c=a.$_C.$UC.$CC;null!=c&&null!=c.$uK&&c.$uK.emit(a,b);c=a.$AD.$UC.$CC;null!=c&&null!=c.$uK&&c.$uK.emit(a,b);this.$pK.postSolve.emit(a,b)},__class__:ae});var be=function(a,b){this.$vK=
this.$wK=this.$xK=this.$yK=this.$zK=0;this.$rK=this.$sK=this.$tK=this.$uK=null;G.call(this);this.box2d=a;this.body=b};h["kit.physics.PhysicsBody"]=be;be.__name__=["kit","physics","PhysicsBody"];be.__super__=G;be.prototype=m(G.prototype,{get_entitySlot:function(){return 6},onUpdate:function(a){if(34==(this.body.$nB&34)&&(a=this.owner.$aF[3],null!=a)){var b=this.box2d.scale,c=this.body.$pB.position,d=c.x,c=c.y,e=this.body.$qB.a;if(0!=this.body.$9)var g=this.box2d.$mK,f=1-g,d=d*g+this.$vK*f,c=c*g+this.$wK*
f,e=e*g+this.$xK*f;a.x.set__(b*d+this.$yK);a.y.set__(b*c+this.$zK);a.rotation.set__(180*e/3.141592653589793)}},onAdded:function(){for(var a=this.owner.parent,b=this.box2d.owner;a!=b&&null!=a;){var c=a.$aF[3];null!=c&&(this.$yK-=c.x.$6F,this.$zK-=c.y.$6F);a=a.parent}a=this.owner.$aF[3];null!=a&&(b=this.body.$pB.position,b.x=(a.x.$6F-this.$yK)/this.box2d.scale,b.y=(a.y.$6F-this.$zK)/this.box2d.scale,this.body.setPositionAndAngle(b,3.141592653589793*a.rotation.$6F/180));this.$qK()},dispose:function(){var a=
this;G.prototype.dispose.call(this);this.body.$CC=null;var b=this.body;this.body=null;this.box2d.defer(function(){a.box2d.world.destroyBody(b)})},$qK:function(){if(0!=this.body.$9){var a=this.body.$pB.position;this.$vK=a.x;this.$wK=a.y;this.$xK=this.body.$qB.a}},get_beginContact:function(){null==this.$rK&&(this.$rK=new V);return this.$rK},get_endContact:function(){null==this.$sK&&(this.$sK=new V);return this.$sK},__class__:be,__properties__:m(G.prototype.__properties__,{get_endContact:"get_endContact",
get_beginContact:"get_beginContact"})});var Z=function(){this.$6K=!1};h.$C_=Z;Z.__name__=["$C_"];Z.__interfaces__=[eb];Z.prototype={dispose:function(){this.$6K||(this.$6K=!0,this.$4K())},$4K:function(){},__class__:Z};var oc=function(a,b){this.$JL=0;var c=this;this.$9K=b;this.$OG=a;this.$PF=new ea;this.$gH=new ce(b,this);this.$IL=new R;var d=Ub.array(b);if(0==d.length)this.$EL();else{for(var e=new R,g=0;g<d.length;){var f=d[g];++g;var h=f.name,h=null!=u[h]?e.getReserved(h):e.h[h];if(null==h){var h=
[],k=f.name;null!=u[k]?e.setReserved(k,h):e.h[k]=h}h.push(f)}this.$HL=Ub.count(e);for(d=new Ia(e,e.arrayKeys());d.hasNext();)e=[d.next()],this.$_K(e[0],function(a){return function(d){if(null!=d){var e=c.$IL,g=d.name,f=new de(0,d.bytes);null!=u[g]?e.setReserved(g,f):e.h[g]=f;e=b.getFullURL(d);try{c.$AL(e,d)}catch(h){h instanceof qa&&(h=h.val),c.$FL(d,"Unexpected error: "+fa.string(h))}}else switch(d=a[0][0],e=c.$IL,g=d.name,f=new de(0,0),null!=u[g]?e.setReserved(g,f):e.h[g]=f,d.format[1]){case 7:case 8:case 9:case 10:case 11:e=
La.$JM();c.$CL(d,e);break;case 16:case 17:e=Xa.$JM();c.$CL(d,e);break;default:c.$FL(d,"Could not find a supported format to load")}}}(e))}};h.$CAB=oc;oc.__name__=["$CAB"];oc.prototype={$_K:function(a,b){this.$BL(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var g=0;g<a.length;){var f=a[g];++g;if(f.format==e){b(f);return}}}b(null)})},$AL:function(a,b){},$BL:function(a){},$CL:function(a,b){if(this.$gH.$QL)b.dispose();else{var c=a.name,d=this.$IL,c=null!=u[c]?d.getReserved(c):d.h[c];c.$TL=
c.$UL;var e;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:e=this.$gH.$LL;break;case 7:case 8:case 9:case 10:case 11:e=this.$gH.$ML;break;case 12:case 13:case 14:case 15:e=this.$gH.$OL;break;case 16:case 17:case 18:e=this.$gH.$PL;break;case 19:e=this.$gH.$NL}c=a.name;null!=u[c]?e.setReserved(c,b):e.h[c]=b;this.$HL-=1;0==this.$HL&&this.$EL()}},$DL:function(a,b,c){a=a.name;var d=this.$IL;a=null!=u[a]?d.getReserved(a):d.h[a];0<c&&(a.$UL=c);c=a.$UL;a.$TL=b<c?b:c;c=b=0;a=this.$IL;
for(a=new Ia(a,a.arrayKeys());a.hasNext();){d=a.next();if(0==d.$UL)return;b+=d.$TL;c+=d.$UL}b=0<c?b/c:0;b!=this.$JL&&(this.$JL=b,this.$PF.emitProgress(b))},$EL:function(){var a=this.$gH.getFile("_2DKit/atlas.json",!1);if(null!=a){var b=a.toJson();this.$gH.$NL.remove("_2DKit/atlas.json");a.dispose();a=0;for(b=b.textures;a<b.length;){var c=b[a];++a;var d="_2DKit/"+c.name,e=this.$gH.getTexture(d);this.$gH.$LL.remove(d);d=0;for(c=c.regions;d<c.length;){var g=c[d];++d;var f=e.subTexture(g.x,g.y,g.width,
g.height),g=g.name,h=this.$gH.$LL;null!=u[g]?h.setReserved(g,f):h.h[g]=f}}}this.$PF.success(this.$gH)},$FL:function(a,b){this.$gH.dispose();this.$PF.failure(Ea.withFields(b,["url",a.url]))},$GL:function(a){this.$FL(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:oc};var ce=function(a,b){this.$QL=!1;this.$PL=new R;this.$OL=new R;this.$NL=new R;this.$ML=new R;this.$LL=new R;this.$RL=a};h.$CBB=ce;ce.__name__=["$CBB"];ce.__interfaces__=[hc];ce.prototype={getTexture:function(a,
b){var c=this.$LL;return null!=u[a]?c.getReserved(a):c.h[a]},getFile:function(a,b){var c=this.$NL;return null!=u[a]?c.getReserved(a):c.h[a]},dispose:function(){if(!this.$QL){this.$QL=!0;for(var a=this.$LL,a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$LL=null;a=this.$ML;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$ML=null;a=this.$NL;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$NL=null;a=this.$OL;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();
this.$OL=null;a=this.$PL;for(a=new Ia(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$PL=null}},__class__:ce};var de=function(a,b){this.$TL=a;this.$UL=b};h.$CCB=de;de.__name__=["$CCB"];de.prototype={__class__:de};var pc=function(a){this.$6K=!1;this.$bH=a};h.$CDB=pc;pc.__name__=["$CDB"];pc.__interfaces__=[fd];pc.__super__=Z;pc.prototype=m(Z.prototype,{toString:function(){return this.$bH},toJson:function(){return JSON.parse(this.toString())},$4K:function(){this.$bH=null},__class__:pc});var pf=
function(){};h["kit.subsystem.KeyboardSystem"]=pf;pf.__name__=["kit","subsystem","KeyboardSystem"];pf.prototype={__class__:pf};var Ua=function(){this.down=new V;this.up=new V;this.backButton=new ab;this.$YL=new Sa};h.$CEB=Ua;Ua.__name__=["$CEB"];Ua.__interfaces__=[pf];Ua.prototype={$WL:function(a){if(16777238==a)return null!=this.backButton.$HG?(this.backButton.emit(),!0):!1;this.$YL.exists(a)||(this.$YL.h[a]=!0,Ua.$ZL.$HJ(Ua.$ZL.id+1,qf.$FO(a)),this.down.emit(Ua.$ZL));return!0},$XL:function(a){this.$YL.exists(a)&&
(this.$YL.remove(a),Ua.$ZL.$HJ(Ua.$ZL.id+1,qf.$FO(a)),this.up.emit(Ua.$ZL))},__class__:Ua};var rf=function(){};h["kit.subsystem.MouseSystem"]=rf;rf.__name__=["kit","subsystem","MouseSystem"];rf.prototype={__class__:rf,__properties__:{set_cursor:"set_cursor",get_cursor:"get_cursor"}};var Ba=function(a){this.$jF=a;this.$JJ=Vf.Mouse(Ba.$ZL);this.down=new V;this.move=new V;this.up=new V;this.scroll=new V;this.$1H=this.$0H=0;this.$cL=ua.Default;this.$dL=new Sa};h.$CFB=Ba;Ba.__name__=["$CFB"];Ba.__interfaces__=
[rf];Ba.prototype={get_cursor:function(){return this.$cL},set_cursor:function(a){return this.$cL=a},$WL:function(a,b,c){this.$dL.exists(c)||(this.$dL.h[c]=!0,this.$2I(a,b,sf.$YO(c)),this.$jF.$WL(a,b,this.$JJ),this.down.emit(Ba.$ZL))},$aL:function(a,b){this.$2I(a,b,null);this.$jF.$aL(a,b,this.$JJ);this.move.emit(Ba.$ZL)},$XL:function(a,b,c){this.$dL.exists(c)&&(this.$dL.remove(c),this.$2I(a,b,sf.$YO(c)),this.$jF.$XL(a,b,this.$JJ),this.up.emit(Ba.$ZL))},$bL:function(a,b,c){this.$0H=a;this.$1H=b;if(null==
this.scroll.$HG)return!1;this.scroll.emit(c);return!0},$2I:function(a,b,c){this.$0H=a;this.$1H=b;Ba.$ZL.$HJ(Ba.$ZL.id+1,a,b,c)},__class__:Ba,__properties__:{set_cursor:"set_cursor",get_cursor:"get_cursor"}};var tf=function(){};h["kit.subsystem.PointerSystem"]=tf;tf.__name__=["kit","subsystem","PointerSystem"];tf.prototype={__class__:tf};var ta=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new V;this.move=new V;this.up=new V;this.$0H=a;this.$1H=b;this.$eL=c};h.$CGB=ta;ta.__name__=
["$CGB"];ta.__interfaces__=[tf];ta.prototype={$WL:function(a,b,c){if(!this.$eL){this.$aL(a,b,c);this.$eL=!0;var d=[],e=x.hitTest(v.root,a,b);if(null!=e)for(var g=e.owner;;){var f=g.$aF[3];null!=f&&d.push(f);g=g.parent;if(null==g)break}this.$2I(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$5G(ta.$ZL),ta.$ZL.$IJ)return;this.down.emit(ta.$ZL)}},$aL:function(a,b,c){if(a!=this.$0H||b!=this.$1H){var d=[],e=x.hitTest(v.root,a,b);if(null!=e)for(var g=e.owner;;){var f=g.$aF[3];null!=f&&d.push(f);g=g.parent;
if(null==g)break}this.$2I(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$6G(ta.$ZL),ta.$ZL.$IJ)return;this.move.emit(ta.$ZL)}},$XL:function(a,b,c){if(this.$eL){this.$aL(a,b,c);this.$eL=!1;var d=[],e=x.hitTest(v.root,a,b);if(null!=e)for(var g=e.owner;;){var f=g.$aF[3];null!=f&&d.push(f);g=g.parent;if(null==g)break}this.$2I(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$8G(ta.$ZL),ta.$ZL.$IJ)return;this.up.emit(ta.$ZL)}},$2I:function(a,b,c,d){this.$0H=a;this.$1H=b;ta.$ZL.$HJ(ta.$ZL.id+1,a,b,c,d)},__class__:ta};
var ee=function(){};h.$CHB=ee;ee.__name__=["$CHB"];ee.__interfaces__=[Sf];ee.prototype={__class__:ee};var Ya=function(a,b,c){this.$0H=this.$1H=0;this.$iL=null;this.$gL=this.$hL=0;this.$6K=!1;this.$fL=a;this.$DI=b;this.$EI=c};h.$CIB=Ya;Ya.__name__=["$CIB"];Ya.__interfaces__=[ee];Ya.__super__=Z;Ya.prototype=m(Z.prototype,{subTexture:function(a,b,c,d){c=this.$fL.createTexture(c,d);c.$iL=this;c.$0H=a;c.$1H=b;c.$gL=this.$gL+a;c.$hL=this.$hL+b;return c},clear:function(){this.$fL.clear()},renderFilter:function(a,
b,c){this.$fL.renderFilter(a,b,c)},get_graphics:function(){return this.$fL.getGraphics()},$4K:function(){null==this.$iL&&this.$fL.dispose()},get_width:function(){return this.$DI},get_height:function(){return this.$EI},__class__:Ya,__properties__:{get_height:"get_height",get_width:"get_width",get_graphics:"get_graphics"}});var fe=function(){};h["kit.subsystem.TouchSystem"]=fe;fe.__name__=["kit","subsystem","TouchSystem"];fe.prototype={__class__:fe};var Zc=function(a,b){null==b&&(b=4);this.$jF=a;this.$kL=
b;this.$lL=new Sa;this.$NI=[];this.down=new V;this.move=new V;this.up=new V};h.$CJB=Zc;Zc.__name__=["$CJB"];Zc.__interfaces__=[fe];Zc.prototype={$WL:function(a,b,c){if(!this.$lL.h.hasOwnProperty(a)){var d=new mf(a);d.$HJ(b,c);this.$lL.h[a]=d;this.$NI.push(d);null==this.$jL&&(this.$jL=d,this.$jF.$WL(b,c,d.$JJ));this.down.emit(d)}},$aL:function(a,b,c){a=this.$lL.h[a];null!=a&&(a.$HJ(b,c),this.$jL==a&&this.$jF.$aL(b,c,a.$JJ),this.move.emit(a))},$XL:function(a,b,c){var d=this.$lL.h[a];null!=d&&(d.$HJ(b,
c),this.$lL.remove(a),M.remove(this.$NI,d),this.$jL==d&&(this.$jL=null,this.$jF.$XL(b,c,d.$JJ)),this.up.emit(d))},__class__:Zc};var Xf=function(){};h.$CKB=Xf;Xf.__name__=["$CKB"];Xf.$mL=function(){v.$LG().then(function(a){try{v.$OG.getExternal().call("console.info",["Built with 2DKit, http://2dkit.com"])}catch(b){}a=new ge;v.root.add(a)})};var ba=function(){};h.$CLB=ba;ba.__name__=["$CLB"];ba.$sL=function(a){var b=Vc.getType(ba).injected[0];return Y.field(b,a)};ba.$tL=function(){switch(ba.$sL("orientation")){case "landscape":return hb.Landscape;
case "portrait":return hb.Portrait}return null};var qc=function(){this.$BM=new Ta;this.$AM=0;this.$$L=this.$_L=null;this.$9L=Infinity;this.$8L=0};h.$CMB=qc;qc.__name__=["$CMB"];qc.__interfaces__=[Na];qc.prototype={$yL:function(a){this.$9L=a;this.$7L(!0);return this},$zL:function(a){this.$$L=a;return this},$0L:function(a){this.$_L=a;return this},$1L:function(a,b,c){null==c&&(c=!0);this.$5L(a);var d=null!=this.$_L?this.$_L(a,b):1;this.$8L+=d;this.$7L(c);b=new uf(a,b);b.$CM=++this.$AM;b.$wL=d;this.$BM.set(a,
b)},$sL:function(a){a=this.$BM.h[a.__id__];if(null==a)return null;a.$CM=++this.$AM;return a.$FJ},$2L:function(){var a=this.$4L(!0);return null!=a?a.$pI:null},$4L:function(a){for(var b=null,c=this.$BM.iterator();c.hasNext();){var d=c.next();if(null==b||d.$CM<b.$CM==a)b=d}return b},$5L:function(a,b){null==b&&(b=!0);var c=this.$BM.h[a.__id__];if(null==c)return null;null!=this.$$L&&b&&this.$$L(a,c.$FJ);this.$BM.remove(a);this.$8L-=c.$wL;return c.$FJ},$6L:function(a){null==a&&(a=!0);var b=this.$BM;this.$BM=
new Ta;this.$8L=0;if(null!=this.$$L&&a)for(a=b.iterator();a.hasNext();)b=a.next(),this.$$L(b.$pI,b.$FJ)},dispose:function(){this.$6L()},$7L:function(a){for(;this.$8L>this.$9L;){var b=this.$4L(a);if(null!=b)null!=this.$$L&&this.$$L(b.$pI,b.$FJ),this.$BM.remove(b.$pI),this.$8L-=b.$wL;else break}},__class__:qc};var uf=function(a,b){this.$wL=1;this.$CM=0;this.$pI=a;this.$FJ=b};h.$CNB=uf;uf.__name__=["$CNB"];uf.prototype={__class__:uf};var xb=function(){};h.$CPB=xb;xb.__name__=["$CPB"];xb.$IM=function(a,
b){var c=a.__creator;if(null!=c&&(c=Y.field(c,b),null!=c))return c;c=ya.getSuperClass(a);return null!=c?xb.$IM(c,b):null};xb.$tG=function(a,b){switch(a[1]){case 0:return b;case 1:return"0"!=b?"false"!=b:!1;case 2:var c=parseFloat(b);return isNaN(c)?0:c;case 3:return 35==M.cca(b,0)&&(b="0x"+M.substr(b,1,null)),c=fa.parseInt(b),null!=c?c:0;case 5:c=a[2];try{return ya.createEnum(c,b)}catch(d){break}case 6:switch(a[2]){case Date:return c=parseFloat(b),new Date(c);case P:return c=parseFloat(b),new P(isNaN(c)?
0:c);case Qa:var c=new Qa,e=b.split(",");2<=e.length&&(c.x=parseFloat(e[0]),c.y=parseFloat(e[1]));return c;case wa:return c=new wa,e=b.split(","),4<=e.length&&(c.x=parseFloat(e[0]),c.y=parseFloat(e[1]),c.width=parseFloat(e[2]),c.height=parseFloat(e[3])),c}}return null};var Ab=function(){};h["kit.sound.Sound"]=Ab;Ab.__name__=["kit","sound","Sound"];Ab.__interfaces__=[eb];Ab.prototype={__class__:Ab};var La=function(){this.$6K=!1;this.$BK=new he(this)};h.$CSB=La;La.__name__=["$CSB"];La.__interfaces__=
[Ab];La.$JM=function(){null==La.$KM&&(La.$KM=new La);return La.$KM};La.__super__=Z;La.prototype=m(Z.prototype,{play:function(a){return this.$BK},loop:function(a){return this.$BK},$4K:function(){},__class__:La});var Bb=function(){};h["kit.sound.Playback"]=Bb;Bb.__name__=["kit","sound","Playback"];Bb.__interfaces__=[Na];Bb.prototype={__class__:Bb,__properties__:{set_paused:"set_paused",get_complete:"get_complete"}};var he=function(a){this.$LM=a;this.volume=new P(0);this.$MM=new ia(!0)};h.$CTB=he;he.__name__=
["$CTB"];he.__interfaces__=[Bb];he.prototype={set_paused:function(a){return!0},get_complete:function(){return this.$MM},dispose:function(){},__class__:he,__properties__:{get_complete:"get_complete",set_paused:"set_paused"}};var $c=function(){this.down=new V;this.move=new V;this.up=new V};h.$CVB=$c;$c.__name__=["$CVB"];$c.__interfaces__=[fe];$c.prototype={__class__:$c};var vf=function(){};h["kit.video.Video"]=vf;vf.__name__=["kit","video","Video"];vf.__interfaces__=[eb];var Xa=function(){this.$6K=
!1;this.$BK=new ie(this)};h.$CWB=Xa;Xa.__name__=["$CWB"];Xa.__interfaces__=[vf];Xa.$JM=function(){null==Xa.$KM&&(Xa.$KM=new Xa);return Xa.$KM};Xa.__super__=Z;Xa.prototype=m(Z.prototype,{$4K:function(){},__class__:Xa});var je=function(){};h["kit.video.VideoPlayback"]=je;je.__name__=["kit","video","VideoPlayback"];je.__interfaces__=[Na];je.prototype={__class__:je};var ie=function(a){this.$NM=a;this.volume=new P(0);this.$MM=new ia(!0);this.$FI=v.$OG.$kF.createTexture(1,1)};h.$CXB=ie;ie.__name__=["$CXB"];
ie.__interfaces__=[je];ie.prototype={dispose:function(){},__class__:ie};var Mb=function(){this.$FF=[]};h.$CZB=Mb;Mb.__name__=["$CZB"];Mb.__interfaces__=[Na];Mb.prototype={$uH:function(a,b,c){a.addEventListener(b,c,!1);this.$FF.push(new wf(a,b,c))},$OM:function(a,b,c){var d=this;this.$uH(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this.$FF;a<b.length;){var c=b[a];++a;c.$PM.removeEventListener(c.$GJ,c.$QM,!1)}this.$FF=[]},__class__:Mb};var wf=function(a,b,c){this.$PM=a;this.$GJ=
b;this.$QM=c};h.$CaB=wf;wf.__name__=["$CaB"];wf.prototype={__class__:wf};var $e=function(a,b){this.$SM=this.$TM=0;var c=a+150,d=b+150;this.$UM=v.$OG.$kF.createTexture(c,d);this.$VM=v.$OG.$kF.createTexture(c,d);this.$DI=a;this.$EI=b};h.$CcB=$e;$e.__name__=["$CcB"];$e.prototype={$WM:function(a,b){if(a>this.$UM.get_width()||b>this.$UM.get_height()){var c=Math.max(this.$UM.get_width(),a+150)|0,d=Math.max(this.$UM.get_height(),b+150)|0;this.$UM.dispose();this.$VM.dispose();this.$UM=v.$OG.$kF.createTexture(c,
d);this.$VM=v.$OG.$kF.createTexture(c,d)}else this.$UM.clear(),this.$VM.clear();this.$DI=a;this.$EI=b},$XM:function(a){null!=a.$BJ&&(a.outputOnly||a.setUniformSampler2D("uTexture",this.$UM),a.setUniformVec2("uFilterPosition",this.$SM,this.$TM),this.$VM.renderFilter(a,this.$DI,this.$EI),a=this.$UM,this.$UM=this.$VM,this.$VM=a)},__class__:$e};var rc=function(){};h.$CgB=rc;rc.__name__=["$CgB"];rc.__interfaces__=[od];rc.prototype={__class__:rc};var xf=function(){};h["kit.subsystem.RendererSystem"]=xf;
xf.__name__=["kit","subsystem","RendererSystem"];xf.prototype={__class__:xf,__properties__:{get_filterSupported:"get_filterSupported"}};var sc=function(){};h.$ChB=sc;sc.__name__=["$ChB"];sc.__interfaces__=[xf];sc.prototype={__class__:sc};var qf=function(){};h.$CiB=qf;qf.__name__=["$CiB"];qf.$FO=function(a){switch(a){case 8:return f.Backspace;case 9:return f.Tab;case 13:return f.Enter;case 15:return f.Command;case 16:return f.Shift;case 17:return f.Control;case 18:return f.Alt;case 20:return f.CapsLock;
case 27:return f.Escape;case 32:return f.Space;case 33:return f.PageUp;case 34:return f.PageDown;case 35:return f.End;case 36:return f.Home;case 37:return f.Left;case 38:return f.Up;case 39:return f.Right;case 40:return f.Down;case 45:return f.Insert;case 46:return f.Delete;case 48:return f.Number0;case 49:return f.Number1;case 50:return f.Number2;case 51:return f.Number3;case 52:return f.Number4;case 53:return f.Number5;case 54:return f.Number6;case 55:return f.Number7;case 56:return f.Number8;case 57:return f.Number9;
case 65:return f.A;case 66:return f.B;case 67:return f.C;case 68:return f.D;case 69:return f.E;case 70:return f.F;case 71:return f.G;case 72:return f.H;case 73:return f.I;case 74:return f.J;case 75:return f.K;case 76:return f.L;case 77:return f.M;case 78:return f.N;case 79:return f.O;case 80:return f.P;case 81:return f.Q;case 82:return f.R;case 83:return f.S;case 84:return f.T;case 85:return f.U;case 86:return f.V;case 87:return f.W;case 88:return f.X;case 89:return f.Y;case 90:return f.Z;case 96:return f.Numpad0;
case 97:return f.Numpad1;case 98:return f.Numpad2;case 99:return f.Numpad3;case 100:return f.Numpad4;case 101:return f.Numpad5;case 102:return f.Numpad6;case 103:return f.Numpad7;case 104:return f.Numpad8;case 105:return f.Numpad9;case 106:return f.NumpadMultiply;case 107:return f.NumpadAdd;case 108:return f.NumpadEnter;case 109:return f.NumpadSubtract;case 110:return f.NumpadDecimal;case 111:return f.NumpadDivide;case 112:return f.F1;case 113:return f.F2;case 114:return f.F3;case 115:return f.F4;
case 116:return f.F5;case 117:return f.F6;case 118:return f.F7;case 119:return f.F8;case 120:return f.F9;case 121:return f.F10;case 122:return f.F11;case 123:return f.F12;case 186:return f.Semicolon;case 187:return f.Equals;case 188:return f.Comma;case 189:return f.Minus;case 190:return f.Period;case 191:return f.Slash;case 192:return f.Backquote;case 219:return f.LeftBracket;case 220:return f.Backslash;case 221:return f.RightBracket;case 222:return f.Quote;case 16777234:return f.Menu;case 16777247:return f.Search}return f.Unknown(a)};
var wb=function(){this.$NO=0;this.$LO=null;this.$HO=new S;this.$MO=[]};h.$CjB=wb;wb.__name__=["$CjB"];wb.$OO=function(a,b){if(a.active){var c=a.$aF[13];if(null!=c&&(c.$SG=b,b*=c.scale.$6F,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c.$B&1)&&(c.$B|=1,c.$A(),c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,wb.$OO(c,b),c=d}};wb.prototype={$HJ:function(){if(1==ba.$sL("scaleMode")){var a=new x;v.root.add(a);var b=ba.$sL("width"),c=ba.$sL("height"),d=
ba.$sL("maxWidth"),e=ba.$sL("maxHeight"),g=function(){var g=Math.min(v.$OG.$lF.get_width()/b,v.$OG.$lF.get_height()/c),f=v.$OG.$lF.get_width()/2-g*b/2,h=v.$OG.$lF.get_height()/2;a.setXY(f,h-g*c/2);a.setScale(g);d*g<v.$OG.$lF.get_width()||e*g<v.$OG.$lF.get_height()?(null==a.get_scissor()&&a.set_scissor(new wa),a.get_scissor().set(b/2-d/2,c/2-e/2,d,e)):a.set_scissor(null)};g();v.$OG.$lF.resize.connect(g)}},$eF:function(a){if(!(0>=a)){0.5<a?3>=this.$NO&&(++this.$NO,a=0.016666666666666666):this.$NO=0;
if(null!=this.$LO){var b=this.$LO;this.$LO=null;for(var c=0;c<b.length;){var d=b[c];++c;d()}}for(b=0;b<this.$MO.length;)c=this.$MO[b],null==c||c.update(a)?this.$MO.splice(b,1):++b;v.volume.update(a);wb.$OO(v.root,a);wb.$OO(this.$HO,a)}},$zH:function(a){var b=a.graphics;null!=b&&(a.willRender(),x.$IH(v.root,b,!0),x.$IH(this.$HO,b,!0),a.didRender())},$IO:function(a){this.$MO.push(a)},$KO:function(a){null==this.$LO?this.$LO=[a]:this.$LO.push(a)},__class__:wb};var ca=function(){};h.$CkB=ca;ca.__name__=
["$CkB"];ca.$QO=function(a,b,c,d,e,g,f){if(3>f)return!1;for(var h=0,k=2*Math.PI/f,m=0;m<f;){var q=m++,n=Math.cos(h),r=Math.sin(h),h=h+k;a.push(e*n+c);a.push(g*r+d);q<f-1&&(b.push(0),b.push(q),b.push(q+1))}return!0};ca.$RO=function(a,b,c,d,e,g,f,h){if(3>h)return!1;a.push(c);a.push(d);f/=h;var k=0;for(h+=1;k<h;){var m=k++,q=Math.cos(g),n=Math.sin(g);g+=f;a.push(e*q+c);a.push(e*n+d);b.push(0);b.push(m);b.push(m+1)}return!0};ca.$SO=function(a,b,c,d,e,g,f,h,k){f/=k;var m=[],q=0;for(k+=1;q<k;){q++;var n=
Math.cos(g),r=Math.sin(g);g+=f;m.push(e*n+c);m.push(e*r+d)}return ca.$UO(a,b,m,h)};ca.$TO=function(a,b,c,d,e,g,f,h){for(var k=0,m=2*Math.PI/h,q=[],n=0;n<h;){n++;var r=Math.cos(k),p=Math.sin(k),k=k+m;q.push(e*r+c);q.push(g*p+d)}q.push(e+c);q.push(d);return ca.$UO(a,b,q,f)};ca.$UO=function(a,b,c,d){var e=c.length;if(4>e)return!1;d/=2;var g=c[0],f=c[1],h=c[e-2],k=c[e-1],m=new Qa(-(c[3]-f),c[2]-g);m.normalize();var q=m.x,m=m.y;a.push(g-d*q);a.push(f-d*m);a.push(g+d*q);a.push(f+d*m);g=e/2|0;for(f=2;f<
e-2;){var n=c[f++],r=c[f++],p=c[f],s=c[f+1],u=new Qa(-(s-r),p-n);u.normalize();var w=new Qa(u.x,u.y);w.add(q,m);w.normalize();var v=u.dot(w.x,w.y);w.multiply(d/v);if(0.15>v){var v=c[f-4],x=c[f-3];0>(n-v)*(s-x)-(r-x)*(p-v)?(a.push(n-w.x),a.push(r-w.y),a.push(n+q*d),a.push(r+m*d),a.push(n-w.x),a.push(r-w.y),a.push(n+u.x*d),a.push(r+u.y*d)):(a.push(n-q*d),a.push(r-m*d),a.push(n+w.x),a.push(r+w.y),a.push(n-u.x*d),a.push(r-u.y*d),a.push(n+w.x),a.push(r+w.y));++g}else a.push(n-w.x),a.push(r-w.y),a.push(n+
w.x),a.push(r+w.y);q=u.x;m=u.y}a.push(h-d*q);a.push(k-d*m);a.push(h+d*q);a.push(k+d*m);a=0;for(c=g-1;a<c;)e=2*a++,b.push(e),b.push(e+1),b.push(e+2),b.push(e+2),b.push(e+3),b.push(e+1);return!0};ca.$VO=function(a){if(6>a.length)return null;null==ca.$WO&&(ca.$WO=new yf);return ca.$WO.triangulate(a)};var sf=function(){};h.$ClB=sf;sf.__name__=["$ClB"];sf.$YO=function(a){switch(a){case 0:return xa.Left;case 1:return xa.Middle;case 2:return xa.Right}return xa.Unknown(a)};var ke=function(){};h.$CpB=ke;ke.__name__=
["$CpB"];ke.prototype={__class__:ke};var tc=function(){};h.$CqB=tc;tc.__name__=["$CqB"];tc.prototype={__class__:tc};var $=function(a,b){this.$uO=new le;this.$tO=!1;this.$sO=a.getContext("2d",{alpha:b})};h.$CsB=$;$.__name__=["$CsB"];$.__interfaces__=[rc];$.prototype={save:function(){var a=this.$uO,b=this.$uO.next;null==b&&(b=new le,b.$yO=a,a.next=b);b.$aK=a.$aK;b.$cK=a.$cK;b.$eK=a.$eK;b.$wO=a.$wO;b.$xO=a.$xO;this.$uO=b;this.$sO.save()},translate:function(a,b){this.$sO.translate(a|0,b|0)},scale:function(a,
b){this.$sO.scale(a,b)},rotate:function(a){this.$sO.rotate(3.141592653589793*a/180)},transform:function(a,b,c,d,e,g){this.$sO.transform(a,b,c,d,e,g)},restore:function(){this.$uO=this.$uO.$yO;this.$sO.restore()},$gO:function(a,b,c,d,e){var g=this.$uO,g=(255*g.$aK&255)<<16|(255*g.$cK&255)<<8|255*g.$eK&255;null==$.$vO&&($.$vO=K.$LQ(d,e));$.$vO.width=d;$.$vO.height=e;var f=$.$vO.getContext("2d",null);f.globalCompositeOperation="copy";f.fillStyle=K.$RQ(g);f.fillRect(0,0,d,e);f.globalCompositeOperation=
"multiply";f.drawImage(a,b,c,d,e,0,0,d,e);f.globalCompositeOperation="destination-atop";f.drawImage(a,b,c,d,e,0,0,d,e);return $.$vO},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,g,f){if(this.$tO)this.$tO=!1,this.$sO.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,e,g,f),this.$sO.globalCompositeOperation="source-over";else{var h=a.$fL;d=a.$gL+d|0;a=a.$hL+e|0;g|=0;f|=0;b|=0;c|=0;e=h.$pG;this.$uO.$wO?(h=this.$gO(h.$8O,
d,a,g,f),this.$sO.drawImage(h,b*e,c*e,g*e,f*e)):this.$sO.drawImage(h.$8O,d*e,a*e,g*e,f*e,b,c,g,f)}},drawPattern:function(a,b,c,d,e){if(this.$tO)this.$tO=!1,this.$sO.globalCompositeOperation="copy",this.drawPattern(a,b,c,d,e),this.$sO.globalCompositeOperation="source-over";else{var g=this.$uO,f=a.$fL.$pG;1!=f&&(this.$sO.save(),this.$sO.scale(1/f,1/f));b|=0;c|=0;d|=0;e|=0;g.$xO?this.$sO.rect(b,c,d,e):(this.$sO.fillStyle=this.$oO(a),this.$sO.fillRect(b,c,d*f,e*f));1!=f&&this.$sO.restore()}},fillRect:function(a,
b,c,d,e){this.$tO?(this.$tO=!1,this.$sO.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this.$sO.globalCompositeOperation="source-over"):(b|=0,c|=0,d|=0,e|=0,this.$uO.$xO?this.$sO.rect(b,c,d,e):(this.$sO.fillStyle=this.$nO(a),this.$sO.fillRect(b,c,d,e)))},fillTriangles:function(a,b,c){this.$tO=!1;this.$hO(b,c);this.$pO(a)},drawTriangles:function(a,b,c,d){this.$tO=!1;this.$hO(b,c);this.$qO(a)},$hO:function(a,b){this.$sO.beginPath();for(var c=0,d=b.length;c<d;){var e=2*b[c],g=2*b[c+1],f=2*
b[c+2],c=c+3;this.$sO.moveTo(a[e],a[e+1]);this.$sO.lineTo(a[g],a[g+1]);this.$sO.lineTo(a[f],a[f+1])}this.$sO.closePath()},fillPolygon:function(a,b){this.$tO=!1;this.$iO(b);this.$pO(a)},drawPolygon:function(a,b){this.$tO=!1;this.$iO(b);this.$qO(a)},$iO:function(a){this.$sO.beginPath();for(var b=0,c=a.length;b<c;){var d=a[b++],e=a[b++];this.$sO.lineTo(d,e)}this.$sO.closePath()},drawCircle:function(a,b,c,d,e){this.$tO=!1;this.$jO(b,c,d);this.$qO(a)},fillCircle:function(a,b,c,d,e){this.$tO=!1;this.$jO(b,
c,d);this.$pO(a)},strokeCircle:function(a,b,c,d,e,g){this.$tO=!1;this.$jO(b,c,d);this.$rO(a,e)},$jO:function(a,b,c){this.$sO.beginPath();this.$sO.arc(a,b,c,0,6.283185307179586);this.$sO.closePath()},drawEllipse:function(a,b,c,d,e,g){this.$tO=!1;this.$kO(b,c,d,e);this.$qO(a)},fillEllipse:function(a,b,c,d,e,g){this.$tO=!1;this.$kO(b,c,d,e);this.$pO(a)},strokeEllipse:function(a,b,c,d,e,g,f){this.$tO=!1;this.$kO(b,c,d,e);this.$rO(a,g)},$kO:function(a,b,c,d){var e=0.5522848*c,g=0.5522848*d,f=a-c,h=b-d;
c=a+c;d=b+d;this.$sO.beginPath();this.$sO.moveTo(f,b);this.$sO.bezierCurveTo(f,b-g,a-e,h,a,h);this.$sO.bezierCurveTo(a+e,h,c,b-g,c,b);this.$sO.bezierCurveTo(c,b+g,a+e,d,a,d);this.$sO.bezierCurveTo(a-e,d,f,b+g,f,b);this.$sO.closePath()},fillArc:function(a,b,c,d,e,g,f){this.$tO=!1;g=e+g;this.$sO.beginPath();this.$sO.moveTo(b,c);this.$sO.arc(0,0,d,3.141592653589793*e/180,3.141592653589793*g/180);this.$pO(a)},strokeArc:function(a,b,c,d,e,g,f,h){this.$tO=!1;c=e+g;this.$sO.beginPath();this.$sO.arc(b,b,
d,3.141592653589793*e/180,3.141592653589793*c/180);this.$rO(a,f)},strokeLines:function(a,b,c){this.$tO=!1;this.$lO(b);this.$sO.lineWidth=c;this.$sO.strokeStyle=this.$nO(a);this.$sO.stroke()},drawLines:function(a,b,c){this.$tO=!1;this.$lO(b);this.$sO.lineWidth=c;this.$sO.strokeStyle=this.$oO(a);this.$sO.stroke()},$lO:function(a){this.$sO.beginPath();if(2<=a.length){this.$sO.moveTo(a[0],a[1]);for(var b=2,c=a.length;b<c;){var d=a[b++],e=a[b++];this.$sO.lineTo(d,e)}}},multiplyAlpha:function(a){this.$sO.globalAlpha*=
a},setAlpha:function(a){this.$sO.globalAlpha=a},tint:function(a,b,c){var d=this.$uO;d.$aK*=a;d.$cK*=b;d.$eK*=c;d.$wO=!0},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this.$sO.globalCompositeOperation=b},beginMask:function(){var a=this.$uO;a.$xO&&this.endMask();a.$xO=!0;this.$sO.beginPath()},endMask:function(){var a=this.$uO;a.$xO&&(a.$xO=!1,this.$sO.clip())},
applyScissor:function(a,b,c,d){this.$sO.beginPath();this.$sO.rect(a|0,b|0,c|0,d|0);this.$sO.clip()},willRender:function(){this.$tO=!0},didRender:function(){},onResize:function(a,b){},$nO:function(a){var b=this.$uO;b.$wO&&(a=(b.$aK*(a&16711680)/16711680*255&255)<<16|(b.$cK*(a&65280)/65280*255&255)<<8|b.$eK*(a&255)/255*255&255);return K.$RQ(a)},$oO:function(a){return this.$uO.$wO?(a=this.$gO(a.$fL.$8O,a.$gL,a.$hL,a.$DI,a.$EI),this.$sO.createPattern(a,"repeat")):a.$1O()},$pO:function(a){this.$uO.$xO||
(this.$sO.fillStyle=this.$nO(a),this.$sO.fill())},$qO:function(a){this.$uO.$xO||(this.$sO.fillStyle=this.$oO(a),this.$sO.fill())},$rO:function(a,b){this.$uO.$xO||(this.$sO.strokeStyle=this.$nO(a),this.$sO.lineWidth=b,this.$sO.stroke())},__class__:$};var le=function(){this.$yO=this.next=null;this.$wO=this.$xO=!1;this.$aK=this.$cK=this.$eK=1};h.$CtB=le;le.__name__=["$CtB"];le.prototype={__class__:le};var cd=function(a){this.graphics=new $(a,!1);this.$0O=new ia(!0)};h.$CuB=cd;cd.__name__=["$CuB"];cd.__interfaces__=
[sc];cd.prototype={get_filterSupported:function(){return!1},createTextureFromImage:function(a,b,c){null==c&&(c=1);a=new uc(a,c);return a.createTexture(a.$4O/c,a.$5O/c)},createTexture:function(a,b,c,d){null==d&&(d=1);a=K.$LQ(a,b);return this.createTextureFromImage(a,null,d)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:cd,__properties__:{get_filterSupported:"get_filterSupported"}};var me=function(a,
b,c){this.$3O=0;this.$2O=null;Ya.call(this,a,b,c)};h.$CvB=me;me.__name__=["$CvB"];me.__super__=Ya;me.prototype=m(Ya.prototype,{$1O:function(){if(this.$3O!=this.$fL.$9O||null==this.$2O)this.$3O=this.$fL.$9O,this.$2O=this.$fL.$_O(this.$gL,this.$hL,this.$DI,this.$EI);return this.$2O},__class__:me});var uc=function(a,b){this.$BP=null;this.$9O=0;this.$6K=!1;this.$8O=a;this.$4O=a.width;this.$5O=a.height;this.$pG=b;this.$6O=this.$4O/b;this.$7O=this.$5O/b};h.$CwB=uc;uc.__name__=["$CwB"];uc.__interfaces__=
[ke];uc.__super__=Z;uc.prototype=m(Z.prototype,{createTexture:function(a,b){return new me(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$BP&&(this.$AP(),this.$BP=new ne(this));return this.$BP},clear:function(){var a=this.$AP();a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.$8O.width,this.$8O.height);a.restore()},renderFilter:function(a,b,c){},$_O:function(a,b,c,d){var e=this.$AP(),g=this.$8O;if(0!=a||0!=b||c!=this.$6O||d!=this.$7O)g=K.$LQ(c,d),c=g.getContext("2d",null),
c.globalCompositeOperation="copy",c.drawImage(this.$8O,-a,-b);return e.createPattern(g,"repeat")},$AP:function(){W.__instanceof(this.$8O,HTMLCanvasElement)||(this.$8O=K.$MQ(this.$8O));return this.$8O.getContext("2d",null)},$4K:function(){URL.revokeObjectURL(this.$8O.src);this.$BP=this.$8O=null},__class__:uc});var ne=function(a){$.call(this,a.$8O,!0);this.$CP=a};h.$CxB=ne;ne.__name__=["$CxB"];ne.__super__=$;ne.prototype=m($.prototype,{drawTexture:function(a,b,c){$.prototype.drawTexture.call(this,a,
b,c);++this.$CP.$9O},drawSubTexture:function(a,b,c,d,e,g,f){$.prototype.drawSubTexture.call(this,a,b,c,d,e,g,f);++this.$CP.$9O},drawPattern:function(a,b,c,d,e){$.prototype.drawPattern.call(this,a,b,c,d,e);++this.$CP.$9O},fillRect:function(a,b,c,d,e){$.prototype.fillRect.call(this,a,b,c,d,e);++this.$CP.$9O},fillTriangles:function(a,b,c){$.prototype.fillTriangles.call(this,a,b,c);++this.$CP.$9O},drawTriangles:function(a,b,c,d){$.prototype.drawTriangles.call(this,a,b,c);++this.$CP.$9O},drawCircle:function(a,
b,c,d,e){null==e&&(e=50);$.prototype.drawCircle.call(this,a,b,c,d,e);++this.$CP.$9O},fillCircle:function(a,b,c,d,e){null==e&&(e=50);$.prototype.fillCircle.call(this,a,b,c,d,e);++this.$CP.$9O},drawEllipse:function(a,b,c,d,e,g){null==g&&(g=50);$.prototype.drawEllipse.call(this,a,b,c,d,e,g);++this.$CP.$9O},fillEllipse:function(a,b,c,d,e,g){null==g&&(g=50);$.prototype.fillEllipse.call(this,a,b,c,d,e,g);++this.$CP.$9O},strokeLines:function(a,b,c){$.prototype.strokeLines.call(this,a,b,c);++this.$CP.$9O},
drawLines:function(a,b,c){$.prototype.drawLines.call(this,a,b,c);++this.$CP.$9O},__class__:ne});var T=function(a,b){oc.call(this,a,b)};h.$CzB=T;T.__name__=["$CzB"];T.$IP=function(a){var b=[p.PNG,p.JPG,p.GIF],c=1,d=window.document.createElement("img");d.onload=d.onerror=function(e){1==d.width&&b.unshift(p.WEBP);c-=1;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="};T.$JP=function(){var a=window.document.createElement("audio");if(null==a||null==Ga(a,a.canPlayType))return[];
var b=new Ha("\\b(iPhone|iPod|iPad|Android)\\b",""),c=window.navigator.userAgent;if(!L.get_supported()&&b.match(c))return[];b=[];b.push({format:p.OPUS,mimeType:"audio/ogg; codecs=opus"});b.push({format:p.M4A,mimeType:"audio/mp4; codecs=mp4a"});b.push({format:p.WEBM,mimeType:"video/webm"});b.push({format:p.MOV,mimeType:"video/quicktime"});0>window.navigator.userAgent.indexOf("2DKSim")&&(b.push({format:p.MP3,mimeType:"audio/mpeg"}),b.push({format:p.MP4,mimeType:"video/mp4"}));b.push({format:p.OGG,mimeType:"audio/ogg; codecs=vorbis"});
b.push({format:p.WAV,mimeType:"audio/wav"});for(var c=[],d=0;d<b.length;){var e=b[d];++d;var g="";try{g=a.canPlayType(e.mimeType)}catch(f){}""!=g&&c.push(e.format)}return c};T.$KP=function(a){var b=++T.$SP;null==T.$RP&&(T.$RP=new Sa);T.$RP.h[b]=a;return b};T.$LP=function(a){T.$RP.remove(a)};T.__super__=oc;T.prototype=m(oc.prototype,{$AL:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:var d=window.document.createElement("img"),e=new Mb;e.$OM(d,"load",function(a){a=b.format!=
p.JPG||K.$AQ?null:ha.RGB;a=c.$OG.getRenderer().createTextureFromImage(d,a,c.$9K.pixelScale);null!=a?c.$CL(b,a):c.$GL(b)});e.$OM(d,"error",function(a){URL.revokeObjectURL(d.src);c.$FL(b,"Failed to load image")});"data:"!=M.substr(a,0,5)?this.$GP(a,b,"blob",function(a){d.src=URL.createObjectURL(a)}):(d.crossOrigin="",d.src=a);break;case 7:case 8:case 9:case 10:case 11:if(L.get_supported())this.$GP(a,b,"arraybuffer",function(a){c.$CL(b,new Za(a))});else{var g=window.document.createElement("audio");g.preload=
"auto";var f=T.$KP(g),e=new Mb;e.$OM(g,"canplaythrough",function(a){T.$LP(f);c.$CL(b,new vc(g))});e.$OM(g,"error",function(a){T.$LP(f);a=g.error.code;3==a||4==a?(a=La.$JM(),c.$CL(b,a)):c.$FL(b,"Failed to load audio: "+g.error.code)});e.$uH(g,"progress",function(a){0<g.buffered.length&&0<g.duration&&(a=g.buffered.end(0)/g.duration,c.$DL(b,a*b.bytes|0,b.bytes))});g.src=a;g.load()}break;case 12:case 13:case 14:(function(a){var d="_kit_font_"+T.$TP;++T.$TP;if("undefined"!=typeof FontFace)(new FontFace(d,
"url("+a+")",{})).load().then(function(e){window.document.fonts.add(e);c.$CL(b,new Nb(d,e,null,a))},function(d){URL.revokeObjectURL(a);c.$FL(b,d.message)});else{var e=window.document.createElement("style");e.innerHTML="@font-face{font-family:"+d+";src:url("+a+");}";window.document.head.appendChild(e);var g=window.document.createElement("canvas").getContext("2d",null);g.font="300px sans";var f=g.measureText("BESbswy").width;g.font='300px "'+d+'"';var h=Date.now()/1E3,l=null,l=function(){var k=Date.now()/
1E3-h,m=g.measureText("BESbswy").width;5<=k||f!=m?c.$CL(b,new Nb(d,null,e,a)):v.$OG.$dF.$KO(l)};v.$OG.$dF.$KO(l)}})(a);break;case 16:case 17:case 18:(function(a){var d=window.document.createElement("video");d.src=a;var e=T.$KP(d);a=new Mb;a.$OM(d,"error",function(a){T.$LP(e);c.$FL(b,"Failed to load video: "+d.error.code)});K.$$P?(a.$OM(d,"loadeddata",function(a){T.$LP(e);c.$CL(b,new Ob(d))}),d.load()):(d.muted=!0,a.$OM(d,"timeupdate",function(a){d.onpause=function(){d.onpause=null;d.currentTime=0;
d.muted=!1;T.$LP(e);c.$CL(b,new Ob(d))};d.pause()}),d.play())})(a);break;case 19:this.$GP(a,b,"text",function(a){c.$CL(b,new pc(a))})}},$BL:function(a){var b=this;null==T.$QP&&(T.$QP=new ea,T.$IP(function(a){var d=window.navigator.isCocoonJS?[p.TTF,p.WOFF]:[p.WOFF,p.OTF,p.TTF];a=b.$OG.getRenderer().getTextureAssetFormats().concat(a).concat(T.$JP()).concat(d).concat([p.Data]);T.$QP.success(a)}));T.$QP.then(a)},$GP:function(a,b,c,d){this.$HP(a,b,c,d)},$HP:function(a,b,c,d){var e=this,g=null,f=null,
h=0,k=!1,m=function(){k&&(k=!1,window.clearInterval(h))},n=3,p=function(){n-=1;return 0<=n?(f(),!0):!1},f=function(){m();null!=g&&g.abort();g=new XMLHttpRequest;g.open("GET",a,!0);g.responseType=c;var f=0;g.onprogress=function(a){k||(k=!0,h=window.setInterval(function(){4!=g.readyState&&5E3<Date.now()-f&&!p()&&(m(),e.$FL(b,"Download stalled"))},1E3));f=Date.now();e.$DL(b,a.loaded,a.total)};g.onerror=function(a){0==g.status&&p()||(m(),e.$FL(b,"HTTP error "+g.status))};g.onload=function(a){a=g.response;
null==a&&(a=g.responseText);m();d(a)};g.send()};f()},__class__:T});var zf=function(){};h["kit.subsystem.ExternalSystem"]=zf;zf.__name__=["kit","subsystem","ExternalSystem"];zf.prototype={__class__:zf};var ad=function(){};h.$C2B=ad;ad.__name__=["$C2B"];ad.__interfaces__=[zf];ad.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,g=a.split(".");e<g.length;){var f=g[e];++e;c=d;d=Y.field(c,f)}return d.apply(c,b)},__class__:ad};var Yc=function(a,b){Ba.call(this,a);this.$yF=b};h.$C6B=
Yc;Yc.__name__=["$C6B"];Yc.__super__=Ba;Yc.prototype=m(Ba.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this.$yF.style.cursor=b;return Ba.prototype.set_cursor.call(this,a)},__class__:Yc});var vc=function(a){this.$6K=!1;this.$uP=a};h.$C7B=vc;vc.__name__=["$C7B"];vc.__interfaces__=[Ab];vc.__super__=Z;vc.prototype=m(Z.prototype,{play:function(a){null==a&&(a=1);return new wc(this,a,!1)},loop:function(a){null==a&&(a=1);return new wc(this,
a,!0)},$4K:function(){this.$uP=null},__class__:vc});var wc=function(a,b,c){this.$1P=!1;var d=this;this.$LM=a;this.$jP=!1;this.$xP=window.document.createElement("audio");this.$xP.loop=c;this.$xP.src=a.$uP.src;this.volume=new P(b,function(a,b){d.$wP()});this.$wP();this.$MM=new ia(!1);this.$vP();v.hidden.$6F&&this.set_paused(!0)};h.$C8B=wc;wc.__name__=["$C8B"];wc.__interfaces__=[tc,Bb];wc.prototype={set_paused:function(a){a!=this.$1P&&((this.$1P=a)?this.$xP.pause():this.$vP());return a},get_complete:function(){return this.$MM},
update:function(a){this.volume.update(a);this.$MM.set__(this.$xP.ended);return this.$MM.$6F||this.$1P?(this.$jP=!1,this.$yP.dispose(),this.$zP.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$MM.set__(!0)},$vP:function(){var a=this;this.$xP.play();this.$jP||(db.$4F.$dF.$IO(this),this.$jP=!0,this.$yP=v.volume.get_changed().connect(function(b,c){a.$wP()}),this.$zP=v.hidden.get_changed().connect(function(b,c){b?(a.$0P=a.$1P,a.set_paused(!0)):a.set_paused(a.$0P)}))},$wP:function(){this.$xP.volume=
fb.clamp(v.volume.$6F*this.volume.$6F,0,1)},__class__:wc,__properties__:{get_complete:"get_complete",set_paused:"set_paused"}};var Af=function(){};h["kit.subsystem.StageSystem"]=Af;Af.__name__=["kit","subsystem","StageSystem"];Af.prototype={__class__:Af,__properties__:{get_height:"get_height",get_width:"get_width"}};var Xc=function(a){this.orientation=new ia(null);var b=this;this.$yF=a;this.resize=new ab;window.addEventListener("resize",Ga(this,this.$2P),!1);this.$2P(null);this.fullscreen=new ia(!1);
K.$HQ(window.document,"fullscreenchange",function(a){b.$5P()},!1);this.$5P()};h.$C9B=Xc;Xc.__name__=["$C9B"];Xc.__interfaces__=[Af];Xc.prototype={get_width:function(){return this.$yF.width},get_height:function(){return this.$yF.height},$2P:function(a){this.$3P(window.innerWidth,window.innerHeight);this.$4P()},$3P:function(a,b){var c=K.$SQ(),d=c*a,c=c*b;if(this.$yF.width==d&&this.$yF.height==c)return!1;this.$yF.width=d|0;this.$yF.height=c|0;this.$yF.style.width=a+"px";this.$yF.style.height=b+"px";
this.resize.emit();return!0},$4P:function(){null==window.orientation?this.orientation.set__(null):this.orientation.set__(window.innerWidth>window.innerHeight?hb.Landscape:hb.Portrait)},$5P:function(){var a=K.$EQ(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(!0==a)},__class__:Xc,__properties__:{get_height:"get_height",get_width:"get_width"}};var K=function(){};h.$CBC=K;K.__name__=["$CBC"];K.$CQ=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};K.$DQ=function(a,
b){null==b&&(b=window);var c=Y.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+M.substr(a,1,null),d=0,e=K.$9P;d<e.length;){var g=e[d];++d;var f=g+c,h=Y.field(b,f);if(null!=h)return{prefix:g,field:f,value:h}}return{prefix:null,field:null,value:null}};K.$EQ=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=K.$DQ(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};K.$FQ=function(a,b){null==b&&(b=window);var c=K.$DQ(a,b).value;if(null==
c)return!1;b[a]=c;return!0};K.$GQ=function(a,b,c){a=a.style;for(var d=0,e=K.$9P;d<e.length;){var g=e[d];++d;a.setProperty("-"+g+"-"+b,c)}a.setProperty(b,c)};K.$HQ=function(a,b,c,d){for(var e=0,g=K.$9P;e<g.length;){var f=g[e];++e;a.addEventListener(f+b,c,d)}a.addEventListener(b,c,d)};K.$LQ=function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};K.$MQ=function(a){var b=K.$LQ(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,
0,0);c.restore();return b};K.$QQ=function(a,b,c){var d=a.getContext("2d",null);d.drawImage(a,b-1,0,1,c,b,0,1,c);d.drawImage(a,0,c-1,b,1,0,c,b,1)};K.$RQ=function(a){for(a=(16777215&a).toString(16);6>a.length;)a="0"+fa.string(a);return"#"+fa.string(a)};K.$SQ=function(){var a=window.devicePixelRatio;null==a&&(a=1);return a};K.$TQ=function(a){return 157286400};var Nb=function(a,b,c,d){this.$6K=!1;this.$1E=a;this.$aQ=b;this.$bQ=c;this.$cQ=d};h.$CCC=Nb;Nb.__name__=["$CCC"];Nb.__interfaces__=[Tf];Nb.__super__=
Z;Nb.prototype=m(Z.prototype,{$4K:function(){null!=this.$aQ&&(window.document.fonts["delete"](this.$aQ),this.$aQ=null);URL.revokeObjectURL(this.$cQ);null!=this.$bQ&&(null!=this.$bQ.parentNode&&this.$bQ.parentNode.removeChild(this.$bQ),this.$bQ=null)},__class__:Nb});var Ob=function(a){this.$6K=!1;this.$kQ=a;this.$lQ=(new Bf(function(){var b=window.document.createElement("video");null!=a.srcObject?b.srcObject=a.srcObject:(b.src=a.src,0<=window.navigator.userAgent.indexOf("2DKSim")&&(b.src+="?"+Math.random()));
return b})).setCapacity(8);this.$lQ.put(a)};h.$CFC=Ob;Ob.__name__=["$CFC"];Ob.__interfaces__=[vf];Ob.__super__=Z;Ob.prototype=m(Z.prototype,{$4K:function(){null!=this.$kQ&&URL.revokeObjectURL(this.$kQ.src);this.$kQ=null},__class__:Ob});var Za=function(a){this.$tQ=null;this.$6K=!1;this.$sQ=a};h.$CJC=Za;Za.__name__=["$CJC"];Za.__interfaces__=[Ab];Za.__super__=Z;Za.prototype=m(Z.prototype,{play:function(a){null==a&&(a=1);return new xc(this,a,!1)},loop:function(a){null==a&&(a=1);return new xc(this,a,
!0)},$4K:function(){this.$sQ=this.$tQ=null;Za.$uQ.$5L(this)},$dO:function(){var a=this,b=Za.$uQ.$sL(this);if(null!=b)return(new ea).success(new L(b));null==this.$tQ&&(this.$tQ=new ea,L.$xQ.decodeAudioData(this.$sQ.slice(0),function(b){null!=a.$tQ&&(b.numberOfChannels*b.length<=Za.$uQ.$9L&&Za.$uQ.$1L(a,b),a.$tQ.success(new L(b)),a.$tQ=null)},function(){null!=a.$tQ&&(a.$tQ.success(La.$JM()),a.$tQ=null)}));return this.$tQ},__class__:Za});var xc=function(a,b,c){this.$1P=!1;this.$vQ=null;this.$MM=new ia(!1);
var d=this;this.$LM=a;a.$dO().then(function(a){d.$MM.$6F||(a=c?a.loop(d.volume.$6F):a.play(d.volume.$6F),d.$vQ=a,d.$vQ.set_paused(d.$1P),d.$vQ.get_complete().watch(function(a,b){d.$MM.set__(a)}))});this.volume=new P(b,function(a,b){null!=d.$vQ&&d.$vQ.volume.set__(a)});db.$4F.$dF.$IO(this)};h.$CKC=xc;xc.__name__=["$CKC"];xc.__interfaces__=[tc,Bb];xc.prototype={set_paused:function(a){null!=this.$vQ&&this.$vQ.set_paused(a);return this.$1P=a},get_complete:function(){return this.$MM},dispose:function(){this.$MM.set__(!0);
null!=this.$vQ&&this.$vQ.dispose()},update:function(a){this.volume.update(a);return this.$MM.$6F},__class__:xc,__properties__:{get_complete:"get_complete",set_paused:"set_paused"}};var L=function(a){this.$6K=!1;this.$wQ=a};h.$CLC=L;L.__name__=["$CLC"];L.__interfaces__=[Ab];L.__properties__={get_supported:"get_supported"};L.get_supported=function(){if(L.$3Q){L.$3Q=!1;var a=K.$DQ("AudioContext").value;if(null!=a&&(L.$xQ=new a,L.$yQ=L.$zQ(),L.$yQ.connect(L.$xQ.destination),v.volume.watch(function(a,
b){L.$yQ.gain.value=a}),v.$OG.$mF.down.connect(function(a){(new L(L.$2Q())).play()}).once(),a=function(a){"suspended"==L.$xQ.state&&L.$xQ.resume()},v.$OG.$mF.down.connect(a),v.$OG.$mF.up.connect(a),v.$OG.$iF.down.connect(a),v.$OG.$iF.up.connect(a),K.$$P))var b=null,b=v.$OG.$mF.up.connect(function(a){var d=(new L(L.$2Q())).play();K.$CQ(function(){var a=d.$8Q();(null==a||2<=a)&&b.dispose()})})}return null!=L.$xQ};L.$zQ=function(){return null!=L.$xQ.createGain?L.$xQ.createGain():L.$xQ.createGainNode()};
L.$0Q=function(a,b){null!=a.start?a.start(0,b):a.noteOn(0,b)};L.$1Q=function(a){null!=a.stop?a.stop(0):a.noteOff(0)};L.$2Q=function(){null==L.$4Q&&(L.$4Q=L.$xQ.createBuffer(1,1,22050));return L.$4Q};L.__super__=Z;L.prototype=m(Z.prototype,{play:function(a){null==a&&(a=1);return new yc(this,a,!1)},loop:function(a){null==a&&(a=1);return new yc(this,a,!0)},get_duration:function(){return this.$wQ.duration},$4K:function(){this.$wQ=null},__class__:L,__properties__:{get_duration:"get_duration"}});var yc=
function(a,b,c){this.$CR=0;this.$9Q=-1;var d=this;this.$LM=a;this.$HG=L.$yQ;this.$MM=new ia(!1);this.$BR=c;this.$hG=a.get_duration();this.volume=new P(b,function(a,b){null!=d.$_Q&&d.$6Q(a)});this.$vP(0);v.hidden.$6F&&this.set_paused(!0)};h.$CMC=yc;yc.__name__=["$CMC"];yc.__interfaces__=[tc,Bb];yc.prototype={set_paused:function(a){a!=0<=this.$9Q&&(a?(this.$5Q(),this.$9Q=this.get_position()):(this.$MM.$6F||this.$vP(this.$9Q),this.$9Q=-1));return a},get_complete:function(){return this.$MM},get_position:function(){return this.$MM.$6F?
this.$hG:0<=this.$9Q?this.$9Q:(L.$xQ.currentTime-this.$$Q+this.$CR)%this.$hG},update:function(a){this.volume.update(a);null!=this.$_Q&&3==this.$_Q.playbackState&&this.$MM.set__(!0);return this.$MM.$6F||0<=this.$9Q?(this.$jP=!1,this.$zP.dispose(),this.$5Q(),!0):!1},$5Q:function(){if(null!=this.$_Q){L.$1Q(this.$_Q);this.$_Q.disconnect();this.$_Q.onended=null;if(K.$$P){var a=L.$2Q();try{this.$_Q.buffer=a}catch(b){}}this.$_Q=null}},dispose:function(){this.set_paused(!0);this.$MM.set__(!0)},$6Q:function(a){null==
this.$AR&&(this.$AR=L.$zQ(),this.$7Q(this.$AR));this.$AR.gain.value=a},$7Q:function(a){0<=this.$9Q||(this.$_Q.disconnect(),this.$_Q.connect(a));a.connect(this.$HG);this.$HG=a},$vP:function(a){var b=this;this.$_Q=L.$xQ.createBufferSource();this.$_Q.buffer=this.$LM.$wQ;this.$_Q.loop=this.$BR;this.$_Q.onended=function(){b.$MM.set__(!0)};L.$0Q(this.$_Q,0>a?0:a);this.$_Q.connect(this.$HG);this.$CR=0<=this.$9Q?this.$9Q:0;this.$$Q=L.$xQ.currentTime;1==this.volume.$6F&&null==this.$AR||this.$6Q(this.volume.$6F);
this.$jP||(db.$4F.$dF.$IO(this),this.$jP=!0,this.$zP=v.hidden.get_changed().connect(function(a,d){a?(b.$0P=0<=b.$9Q,b.set_paused(!0)):b.set_paused(b.$0P)}))},$8Q:function(){return null!=this.$_Q?this.$_Q.playbackState:3},__class__:yc,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused"}};var Cf=function(a){this.$CS=new R;this.$BS=(new qc).$yL(157286400).$0L(function(a,b){return a.$ZS()});this.$7R=this.$8R=this.$9R=this.$$R=this.$_R=this.$AS=0;this.$zR=[];
this.$wR=!0;this.$uR=!1;this.$sR=this.$tR=null;this.$rR=!1;this.$qR=null;this.$pR=0;this.$lR=this.$mR=this.$3I=this.$nR=this.$oR=null;this.$kR=!1;this.$jR=null;this.$iR=new wa;this.$hR=0;this.$fR=this.$gR=null;this.$ER=[];this.$DR=null;var b=this;this.$eR=a;this.$BS.$zL(function(a,d){b.$QR(a,d)});this.$BS.$yL(K.$TQ(a));v.lowMemoryWarning.connect(function(){b.$BS.dispose()});A.$eR.clearColor(0,0,0,0);A.$eR.enable(3042);A.$eR.pixelStorei(37441,1);A.$eR.pixelStorei(3317,1);this.$vR=A.$eR.createBuffer();
A.$eR.bindBuffer(34962,this.$vR);this.$xR=A.$eR.createBuffer();this.$yR=A.$eR.createBuffer();this.$gR=this.$xR;this.$0R=new Pb(a,0);this.$1R=new Pb(a,1);this.$2R=new Pb(a,2);this.$3R=new Qb(a,0);this.$4R=new Qb(a,1);this.$5R=new Qb(a,2);this.$6R=new oe(a);this.$dR(16)};h.$CNC=Cf;Cf.__name__=["$CNC"];Cf.prototype={$FR:function(a,b){A.$eR.viewport(0,0,a,b);this.$$R=a;this.$_R=b},$GR:function(){this.$AS=this.$AS+1|0;this.$MR(null)},$HR:function(){this.$cR();A.$eR.flush()},$JR:function(a){a==this.$3I&&
(this.$cR(),this.$3I=null);this.$SR(a);null!=a.$YS?this.$QR(a,a.$YS):this.$BS.$5L(a)},$KR:function(a){if(a.$XS){a.$XS=!1;var b=this.$BS.$5L(a,!1);null!=b?a.$YS=b:this.$NR(a);a.$TS=null;a.$US=null}},$LR:function(){var a=A.$eR.createTexture();this.$OR(a);A.$eR.texParameteri(3553,10242,33071);A.$eR.texParameteri(3553,10243,33071);A.$eR.texParameteri(3553,10240,9729);A.$eR.texParameteri(3553,10241,9729);return a},$MR:function(a){this.$cR();this.$jR=null;null!=this.$lR&&(this.$lR=null,A.$eR.disable(3089));
this.$RR(a);A.$eR.clear(16384)},$NR:function(a){var b=a.$XS?this.$BS.$sL(a):a.$YS;if(null==b){b=this.$LR();b=new Df(b);if(a.$XS){var c=!0;if(this.$BS.$8L+a.$ZS()>this.$BS.$9L){var d=this.$BS.$2L();2>this.$AS-d.$WS&&(c=!1)}this.$BS.$1L(a,b,c)}else a.$YS=b;switch(a.$aS[1]){case 2:case 3:c=6407;break;default:c=6408}switch(a.$aS[1]){case 1:d=32819;break;case 3:d=33635;break;default:d=5121}var e=a.$TS,g;null!=e?(g=a.$TS,g=null==(g instanceof HTMLVideoElement?g:null)):g=!1;if(g){if(a.$4O!=e.width||a.$5O!=
e.height)g=K.$LQ(a.$4O,a.$5O),g.getContext("2d",null).drawImage(e,0,0),K.$QQ(g,e.width,e.height),e=g;A.$eR.texImage2D(3553,0,c,c,d,e)}else A.$eR.texImage2D(3553,0,c,a.$4O,a.$5O,0,c,d,null)}a.$WS!=this.$AS&&(c=a.$TS,c=c instanceof HTMLVideoElement?c:null,null!=c&&2<=c.readyState&&(this.$OR(b.$SS),A.$eR.pixelStorei(37441,0),A.$eR.texImage2D(3553,0,6408,6408,5121,c),A.$eR.pixelStorei(37441,1)));a.$WS=this.$AS;return b},$OR:function(a){this.$tR!=a&&(this.$tR=a,A.$eR.bindTexture(3553,a))},$PR:function(a){this.$sR!=
a&&(a.$eZ(this.$sR),this.$sR=a)},$QR:function(a,b){a==this.$3I&&(this.$cR(),this.$3I=null);A.$eR.deleteTexture(b.$SS);null!=b.$YK&&A.$eR.deleteTexture(b.$YK)},$RR:function(a){if(this.$qR!=a)if(this.$qR=a,null!=a){var b=a.$VS,c=null;null==b&&(b=A.$eR.createFramebuffer(),a.$VS=b,this.$KR(a),c=a.$YS.$SS);A.$eR.bindFramebuffer(36160,a.$VS);A.$eR.viewport(0,0,a.$4O,a.$5O);null!=c&&A.$eR.framebufferTexture2D(36160,36064,3553,c,0)}else A.$eR.bindFramebuffer(36160,null),A.$eR.viewport(0,0,this.$$R,this.$_R)},
$SR:function(a){a==this.$jR&&(this.$cR(),this.$jR=null);null!=a.$VS&&(A.$eR.deleteFramebuffer(a.$VS),a.$VS=null)},$TR:function(a,b,c,d,e,g){g.$fL!=this.$3I&&(this.$cR(),this.$3I=g.$fL);return this.$bR(a,b,c,d,e,this.$UR(g.$fL,e))},$UR:function(a,b){return b?this.$1R:null!=a.$US&&a.$US.separateAlpha?this.$2R:this.$0R},$VR:function(a,b,c,d,e,g){g.$fL!=this.$3I&&(this.$cR(),this.$3I=g.$fL);if(g.$gL!=this.$iR.x||g.$hL!=this.$iR.y||g.$DI!=this.$iR.width||g.$EI!=this.$iR.height)this.$cR(),this.$iR.set(g.$gL,
g.$hL,g.$DI,g.$EI);return this.$bR(a,b,c,d,e,this.$WR(g.$fL,e))},$WR:function(a,b){return b?this.$4R:null!=a.$US&&a.$US.separateAlpha?this.$5R:this.$3R},$XR:function(a,b,c,d,e){return this.$bR(a,b,c,d,e,this.$6R)},$YR:function(a,b,c,d,e,g){return this.$aR(a,b,c,d,e,this.$6R,g)},$ZR:function(a,b,c,d,e,g,f){g.$fL!=this.$3I&&(this.$cR(),this.$3I=g.$fL);if(g.$gL!=this.$iR.x||g.$hL!=this.$iR.y||g.$DI!=this.$iR.width||g.$EI!=this.$iR.height)this.$cR(),this.$iR.set(g.$gL,g.$hL,g.$DI,g.$EI);return this.$aR(a,
b,c,d,e,this.$WR(g.$fL,e),f)},$2I:function(a,b,c,d,e,g,f){a!=this.$jR&&(this.$cR(),this.$jR=a);b!=this.$fR&&(this.$cR(),this.$fR=b);d!=this.$hR&&(this.$cR(),this.$hR=d);e!=this.$kR&&(this.$cR(),this.$kR=e);g!=this.$mR&&(this.$cR(),g.$2I(),this.$mR=g);f!=this.$gR&&(this.$cR(),this.$gR=f);if(null!=c||null!=this.$lR)null!=c&&null!=this.$lR&&this.$lR.equals(c)||(this.$cR(),this.$lR=null!=c?c.clone(this.$lR):null,this.$uR=!0)},$aR:function(a,b,c,d,e,g,f){this.$2I(a,b,c,d,e,g,this.$yR);a=this.$ER.length;
g=a/g.$cZ|0;for(b=0;b<f.length;)c=f[b],++b,this.$zR.push(c+g);return a},$bR:function(a,b,c,d,e,g){this.$2I(a,b,c,d,e,g,this.$xR);this.$7R>=this.$8R&&this.$dR(2*this.$8R);++this.$7R;a=this.$9R;this.$9R+=4*g.$cZ;return a},$XM:function(a,b,c,d){var e=b.$_I(),g=this.$CS,g=null!=u[e]?g.getReserved(e):g.h[e];if(null==g){var g=new pe(this.$eR,this,b.$CJ,b.$BJ),f=this.$CS;null!=u[e]?f.setReserved(e,g):f.h[e]=g}e=this.$bR(a,X.Copy,null,0,!1,g);f=this.$DR;this.$3I=null;var h=c/a.$6O,k=d/a.$7O,m=2*h-1,n=2*k-
1;f[e]=-1;f[++e]=-1;f[++e]=0;f[++e]=0;f[++e]=m;f[++e]=-1;f[++e]=h;f[++e]=0;f[++e]=m;f[++e]=n;f[++e]=h;f[++e]=k;f[++e]=-1;f[++e]=n;f[++e]=0;f[++e]=k;this.$RR(a);this.$PR(g);g.$yZ(b,a,c,d);this.$cR()},$cR:function(){if(this.$gR==this.$xR){if(1>this.$7R)return}else if(1>this.$zR.length)return;this.$RR(this.$jR);if(this.$fR!=this.$nR){switch(this.$fR[1]){case 0:A.$eR.blendFunc(1,771);break;case 1:A.$eR.blendFunc(1,1);break;case 2:A.$eR.blendFunc(774,771);break;case 3:A.$eR.blendFunc(1,769);break;case 4:A.$eR.blendFunc(0,
770);break;case 5:A.$eR.blendFunc(1,0)}this.$nR=this.$fR}if(this.$hR!=this.$pR){if(0<this.$hR)if(0==this.$pR&&A.$eR.enable(2960),this.$kR){var a=1<<this.$hR-1;A.$eR.stencilMask(a);this.$pR<this.$hR&&A.$eR.clear(1024);A.$eR.stencilFunc(514,a-1,255)}else a=(1<<this.$hR)-1,A.$eR.stencilFunc(514,a,a);else A.$eR.disable(2960);this.$pR=this.$hR}this.$kR!=this.$rR&&(this.$kR?(A.$eR.stencilMask(1<<this.$hR-1),A.$eR.clear(1024),A.$eR.colorMask(!1,!1,!1,!1),A.$eR.stencilFunc(514,(1<<this.$hR-1)-1,255),A.$eR.stencilOp(7680,
7680,7682)):(A.$eR.colorMask(!0,!0,!0,!0),a=(1<<this.$hR)-1,A.$eR.stencilFunc(514,a,a),A.$eR.stencilOp(7680,7680,7680)),this.$rR=this.$kR);this.$uR&&(null!=this.$lR?(A.$eR.enable(3089),A.$eR.scissor(this.$lR.x|0,this.$lR.y|0,this.$lR.width|0,this.$lR.height|0)):A.$eR.disable(3089),this.$uR=!1);null!=this.$3I&&(a=this.$NR(this.$3I),null!=a.$YK?(A.$eR.activeTexture(33985),this.$OR(a.$SS),A.$eR.activeTexture(33984),this.$OR(a.$YK)):this.$OR(a.$SS));this.$PR(this.$mR);this.$mR!=this.$3R&&this.$mR!=this.$4R&&
this.$mR!=this.$5R||this.$mR.$pZ(this.$iR.x/this.$3I.$6O,this.$iR.y/this.$3I.$7O,this.$iR.width/this.$3I.$6O,this.$iR.height/this.$3I.$7O);this.$gR!=this.$oR&&(A.$eR.bindBuffer(34963,this.$gR),this.$oR=this.$gR);if(this.$oR==this.$xR){if(this.$wR){this.$wR=!1;for(var a=new Uint16Array(6*this.$8R),b=0,c=this.$8R;b<c;){var d=b++,e=6*d,d=4*d;a[e]=d&65535;a[e+1]=d+1&65535;a[e+2]=d+2&65535;a[e+3]=d+2&65535;a[e+4]=d+3&65535;a[e+5]=d&65535}A.$eR.bufferData(34963,a,35044)}this.$eR.bufferData(34962,this.$DR.subarray(0,
this.$9R),35048);A.$eR.drawElements(4,6*this.$7R,5123,0);this.$9R=this.$7R=0}else a=Pf.fromArray(this.$zR),A.$eR.bufferData(34963,a,35048),this.$zR.length=0,b=Of.fromArray(this.$ER),A.$eR.bufferData(34962,b,35048),this.$ER.length=0,A.$eR.drawElements(4,a.length,5123,0)},$dR:function(a){1024<a?this.$cR():(this.$8R=a,a=new Float32Array(32*a),null!=this.$DR&&a.set(this.$DR,0),this.$DR=a,this.$wR=!0)},__class__:Cf};var A=function(){};h.$CPC=A;A.__name__=["$CPC"];A.$HJ=function(a){A.$eR=a};A.prototype=
{__class__:A};var Ma=function(a,b){this.$IS=this.$uO=null;null==Ma.$JS&&(Ma.$JS=new Float32Array(8));this.$HS=a;this.$CP=b};h.$CQC=Ma;Ma.__name__=["$CQC"];Ma.__interfaces__=[rc];Ma.prototype={save:function(){var a=this.$uO,b=this.$uO.next;null==b&&(b=new qe,b.$yO=a,a.next=b);a.$KS.clone(b.$KS);b.$aK=a.$aK;b.$cK=a.$cK;b.$eK=a.$eK;b.$YK=a.$YK;b.$sI=a.$sI;b.$tI=null!=a.$tI?a.$tI.clone(b.$tI):null;b.$LS=a.$LS;b.$MS=a.$MS;this.$uO=b},translate:function(a,b){var c=this.$uO.$KS;c.m02+=c.m00*a+c.m01*b;c.m12+=
c.m10*a+c.m11*b},scale:function(a,b){var c=this.$uO.$KS;c.m00*=a;c.m10*=a;c.m01*=b;c.m11*=b},rotate:function(a){var b=this.$uO.$KS;a=3.141592653589793*a/180;var c=Math.sin(a);a=Math.cos(a);var d=b.m00,e=b.m10,g=b.m01,f=b.m11;b.m00=d*a+g*c;b.m10=e*a+f*c;b.m01=g*a-d*c;b.m11=f*a-e*c},transform:function(a,b,c,d,e,g){var f=this.$uO;Ma.$PH.set(a,b,c,d,e,g);Aa.multiply(f.$KS,Ma.$PH,f.$KS)},restore:function(){this.$uO=this.$uO.$yO},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},
drawSubTexture:function(a,b,c,d,e,g,f){var h=this.$uO,k=a.$fL;b=this.$GS(b,c,g,f);c=k.$6O;k=k.$7O;d=(a.$gL+d)/c;e=(a.$hL+e)/k;g=d+g/c;f=e+f/k;c=h.$aK;var k=h.$cK,m=h.$eK,n=h.$YK;a=this.$HS.$TR(this.$CP,h.$sI,h.$tI,h.$LS,h.$MS,a);h=this.$HS.$DR;h[a]=b[0];h[++a]=b[1];h[++a]=d;h[++a]=e;h[++a]=c;h[++a]=k;h[++a]=m;h[++a]=n;h[++a]=b[2];h[++a]=b[3];h[++a]=g;h[++a]=e;h[++a]=c;h[++a]=k;h[++a]=m;h[++a]=n;h[++a]=b[4];h[++a]=b[5];h[++a]=g;h[++a]=f;h[++a]=c;h[++a]=k;h[++a]=m;h[++a]=n;h[++a]=b[6];h[++a]=b[7];h[++a]=
d;h[++a]=f;h[++a]=c;h[++a]=k;h[++a]=m;h[++a]=n},drawPattern:function(a,b,c,d,e){var g=this.$uO,f=a.$fL;b=this.$GS(b,c,d,e);d/=f.$6O;e/=f.$7O;f=g.$aK;c=g.$cK;var h=g.$eK,k=g.$YK;a=this.$HS.$VR(this.$CP,g.$sI,g.$tI,g.$LS,g.$MS,a);g=this.$HS.$DR;g[a]=b[0];g[++a]=b[1];g[++a]=0;g[++a]=0;g[++a]=f;g[++a]=c;g[++a]=h;g[++a]=k;g[++a]=b[2];g[++a]=b[3];g[++a]=d;g[++a]=0;g[++a]=f;g[++a]=c;g[++a]=h;g[++a]=k;g[++a]=b[4];g[++a]=b[5];g[++a]=d;g[++a]=e;g[++a]=f;g[++a]=c;g[++a]=h;g[++a]=k;g[++a]=b[6];g[++a]=b[7];g[++a]=
0;g[++a]=e;g[++a]=f;g[++a]=c;g[++a]=h;g[++a]=k},fillRect:function(a,b,c,d,e){var g=this.$uO;b=this.$GS(b,c,d,e);c=g.$aK*(a&16711680)/16711680;d=g.$cK*(a&65280)/65280;a=g.$eK*(a&255)/255;e=g.$YK;var g=this.$HS.$XR(this.$CP,g.$sI,g.$tI,g.$LS,g.$MS),f=this.$HS.$DR;f[g]=b[0];f[++g]=b[1];f[++g]=c;f[++g]=d;f[++g]=a;f[++g]=e;f[++g]=b[2];f[++g]=b[3];f[++g]=c;f[++g]=d;f[++g]=a;f[++g]=e;f[++g]=b[4];f[++g]=b[5];f[++g]=c;f[++g]=d;f[++g]=a;f[++g]=e;f[++g]=b[6];f[++g]=b[7];f[++g]=c;f[++g]=d;f[++g]=a;f[++g]=e},
fillTriangles:function(a,b,c){var d=this.$uO,e=d.$KS,g=e.m00,f=e.m01,h=e.m02,k=e.m10,m=e.m11,e=e.m12,n=d.$aK*(a&16711680)/16711680,p=d.$cK*(a&65280)/65280;a=d.$eK*(a&255)/255;var r=d.$YK;c=this.$HS.$YR(this.$CP,d.$sI,d.$tI,d.$LS,d.$MS,c);for(var d=this.$HS.$ER,s=0,u=b.length;s<u;){var v=b[s++],w=b[s++];d[c++]=v*g+w*f+h;d[c++]=v*k+w*m+e;d[c++]=n;d[c++]=p;d[c++]=a;d[c++]=r}},drawTriangles:function(a,b,c,d){var e=this.$uO,g=a.$fL,f=e.$KS,h=f.m00,k=f.m01,m=f.m02,n=f.m10,p=f.m11,f=f.m12,r=e.$aK,s=e.$cK,
u=e.$eK,v=e.$YK;c=this.$HS.$ZR(this.$CP,e.$sI,e.$tI,e.$LS,e.$MS,a,c);var e=this.$HS.$ER,w=a.$DI/g.$6O;a=a.$EI/g.$7O;for(var x=0,y=0,z=b.length;y<z;){var A=b[y++],B=b[y++];e[c++]=A*h+B*k+m;e[c++]=A*n+B*p+f;null!=d?(A=d[x++],B=d[x++],e[c++]=w*A,e[c++]=a*B):(e[c++]=A/g.$6O,e[c++]=B/g.$7O);e[c++]=r;e[c++]=s;e[c++]=u;e[c++]=v}},fillPolygon:function(a,b){var c=ca.$VO(b);null!=c&&this.fillTriangles(a,b,c)},drawPolygon:function(a,b){var c=ca.$VO(b);null!=c&&this.drawTriangles(a,b,c)},drawCircle:function(a,
b,c,d,e){null==e&&(e=50);var g=[],f=[];ca.$QO(g,f,b,c,d,d,e)&&this.drawTriangles(a,g,f)},fillCircle:function(a,b,c,d,e){null==e&&(e=50);var g=[],f=[];ca.$QO(g,f,b,c,d,d,e)&&this.fillTriangles(a,g,f)},strokeCircle:function(a,b,c,d,e,g){null==g&&(g=50);var f=[],h=[];ca.$TO(f,h,b,c,d,d,e,g)&&this.fillTriangles(a,f,h)},drawEllipse:function(a,b,c,d,e,g){null==g&&(g=50);var f=[],h=[];ca.$QO(f,h,b,c,d,e,g)&&this.drawTriangles(a,f,h)},fillEllipse:function(a,b,c,d,e,g){null==g&&(g=50);var f=[],h=[];ca.$QO(f,
h,b,c,d,e,g)&&this.fillTriangles(a,f,h)},strokeEllipse:function(a,b,c,d,e,g,f){null==f&&(f=50);var h=[],k=[];ca.$TO(h,k,b,c,d,e,g,f)&&this.fillTriangles(a,h,k)},fillArc:function(a,b,c,d,e,g,f){null==f&&(f=50);var h=[],k=[];ca.$RO(h,k,b,c,d,3.141592653589793*e/180,3.141592653589793*g/180,f)&&this.fillTriangles(a,h,k)},strokeArc:function(a,b,c,d,e,g,f,h){null==h&&(h=50);var k=[],m=[];ca.$SO(k,m,b,c,d,3.141592653589793*e/180,3.141592653589793*g/180,f,h)&&this.fillTriangles(a,k,m)},strokeLines:function(a,
b,c){var d=[],e=[];ca.$UO(d,e,b,c)&&this.fillTriangles(a,d,e)},drawLines:function(a,b,c){var d=[],e=[];ca.$UO(d,e,b,c)&&this.drawTriangles(a,d,e)},multiplyAlpha:function(a){this.$uO.$YK*=a},setAlpha:function(a){this.$uO.$YK=a},tint:function(a,b,c){var d=this.$uO;d.$aK*=a;d.$cK*=b;d.$eK*=c},setBlendMode:function(a){this.$uO.$sI=a},beginMask:function(){var a=this.$uO;++a.$LS;a.$MS=!0},endMask:function(){this.$uO.$MS=!1},applyScissor:function(a,b,c,d){var e=this.$uO,g=Ma.$JS;g[0]=a;g[1]=b;g[2]=a+c;g[3]=
b+d;e.$KS.transformArray(g,4,g);this.$IS.transformArray(g,4,g);a=g[0];b=g[1];c=g[2]-a;d=g[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);e.$NS(a,b,c,d)},willRender:function(){this.$HS.$GR()},didRender:function(){this.$HS.$HR()},onResize:function(a,b){this.$uO=new qe;var c=null!=this.$CP?-1:1;this.$uO.$KS.set(2/a,0,0,-2*c/b,-1,c);this.$IS=new Aa;this.$IS.set(2/a,0,0,2/b,-1,-1);this.$IS.invert()},$GS:function(a,b,c,d){c=a+c;d=b+d;var e=Ma.$JS;e[0]=a;e[1]=b;e[2]=c;e[3]=b;e[4]=c;e[5]=d;e[6]=a;e[7]=d;this.$uO.$KS.transformArray(e,
8,e);return e},__class__:Ma};var qe=function(){this.$yO=this.next=null;this.$MS=!1;this.$LS=0;this.$aK=this.$cK=this.$eK=this.$YK=1;this.$tI=null;this.$sI=X.Normal;this.$KS=new Aa};h.$CRC=qe;qe.__name__=["$CRC"];qe.prototype={$NS:function(a,b,c,d){if(null!=this.$tI){var e=this.$tI.x,e=e>a?e:a,g=this.$tI.y,g=g>b?g:b,f=this.$tI.x+this.$tI.width;c=a+c;var h=this.$tI.y+this.$tI.height;d=b+d;a=e;b=g;c=(f<c?f:c)-e;c=0>c?0:c;d=(h<d?h:d)-g;d=0>d?0:d}else this.$tI=new wa;this.$tI.set(Math.round(a),Math.round(b),
Math.round(c),Math.round(d))},__class__:qe};var bd=function(a,b){this.$QS=!1;var c=this;this.$0O=new ia(!0);this.$OS=b;this.$HJ();if(0==b.getError()){this.$QS=!0;var d=b.canvas;d.addEventListener("webglcontextlost",function(a){a.preventDefault();c.graphics=null;c.$0O.set__(!1)},!1);d.addEventListener("webglcontextrestored",function(a){c.$HJ();c.$0O.set__(!0)},!1);a.resize.connect(Ga(this,this.$RS))}};h.$CSC=bd;bd.__name__=["$CSC"];bd.__interfaces__=[sc];bd.prototype={get_filterSupported:function(){return!0},
createTextureFromImage:function(a,b,c){null==c&&(c=1);var d=a.width,e=a.height,g=new Rb(this,d,e,c);null!=b&&b!=ha.COMPRESSED&&(g.$aS=b);g.$TS=a;return g.createTexture(d/c,e/c)},createTexture:function(a,b,c,d){null==d&&(d=1);var e=new Rb(this,a,b,d);null!=c&&c!=ha.COMPRESSED&&(e.$aS=c);return e.createTexture(a/d,b/d)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},$RS:function(){if(null!=this.graphics){var a=
this.$OS.canvas,b=a.width,a=a.height;this.$PS.$FR(b,a);this.graphics.onResize(b,a)}},$HJ:function(){this.$PS=new Cf(this.$OS);this.graphics=new Ma(this.$PS,null);this.$RS()},__class__:bd,__properties__:{get_filterSupported:"get_filterSupported"}};var Df=function(a){this.$YK=null;this.$SS=a};h.$CTC=Df;Df.__name__=["$CTC"];Df.prototype={__class__:Df};var re=function(a,b,c){Ya.call(this,a,b,c)};h.$CUC=re;re.__name__=["$CUC"];re.__super__=Ya;re.prototype=m(Ya.prototype,{__class__:re});var Rb=function(a,
b,c,d){this.$BP=null;this.$aS=ha.RGBA;this.$YS=null;this.$XS=!0;this.$WS=-1;this.$TS=this.$US=this.$VS=null;this.$6K=!1;this.$kF=a;b=2>b?2:b;c=2>c?2:c;this.$4O=b;this.$5O=c;this.$pG=d;this.$6O=b/d;this.$7O=c/d};h.$CVC=Rb;Rb.__name__=["$CVC"];Rb.__interfaces__=[ke];Rb.__super__=Z;Rb.prototype=m(Z.prototype,{createTexture:function(a,b){return new re(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$BP&&(this.$BP=new Ma(this.$kF.$PS,this),this.$BP.onResize(this.$4O,this.$5O));return this.$BP},
clear:function(){this.$kF.$PS.$MR(this)},renderFilter:function(a,b,c){this.$kF.$PS.$XM(this,a,b,c)},$ZS:function(){var a;switch(this.$aS[1]){case 1:a=2;break;case 2:a=3;break;case 3:a=2;break;default:a=4}return a*this.$4O*this.$5O},$4K:function(){this.$kF.$PS.$JR(this);null!=this.$TS&&URL.revokeObjectURL(this.$TS.src);this.$BP=this.$YS=this.$VS=this.$US=this.$TS=null},__class__:Rb});var hg=function(){};h.$CbC=hg;hg.__name__=["$CbC"];var pa=function(a){this.$nZ=!0;this.$mZ=-1;this.$lZ=[];this.$iZ=
this.$jZ=this.$kZ=null;this.$cZ=0;this.$eR=a};h.$CfC=pa;pa.__name__=["$CfC"];pa.$oZ=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};pa.prototype={$dZ:function(){},$2I:function(){null==this.$iZ&&(this.$iZ=this.$eR.createProgram(),this.$dZ(),this.$nZ&&(this.$eR.detachShader(this.$iZ,this.$jZ),this.$eR.deleteShader(this.$jZ),this.$jZ=null,this.$eR.detachShader(this.$iZ,this.$kZ),this.$eR.deleteShader(this.$kZ),this.$kZ=null))},$eZ:function(a){this.$eR.useProgram(this.$iZ);
if(0>this.$mZ){for(var b=this.$mZ=0,c=this.$lZ;b<c.length;){var d=c[b];++b;var e=d.$$Z();d.$9Z=this.$mZ;this.$mZ+=e}this.$lZ=this.$lZ.filter(function(a){return 0<=a.$8Z});this.$lZ.sort(function(a,b){return a.$8Z-b.$8Z})}if(null!=a){b=a.$lZ.length;for(c=this.$lZ.length;b<c;)d=b++,this.$eR.enableVertexAttribArray(d);b=this.$lZ.length;for(c=a.$lZ.length;b<c;)d=b++,this.$eR.disableVertexAttribArray(d)}else for(b=0,c=this.$lZ.length;b<c;)d=b++,this.$eR.enableVertexAttribArray(d);b=0;for(c=this.$lZ.length;b<
c;){var d=b++,e=this.$lZ[d],g=null!=a?a.$lZ[d]:null;null!=g&&g.$wL==e.$wL&&g.$GJ==e.$GJ&&a.$mZ==this.$mZ&&g.$9Z==e.$9Z||this.$eR.vertexAttribPointer(d,e.$wL,e.$GJ,!1,this.$mZ,e.$9Z)}},$fZ:function(a,b){b="precision mediump float;\n"+b;this.$jZ=pa.$oZ(this.$eR,35633,a);this.$kZ=pa.$oZ(this.$eR,35632,b);this.$eR.attachShader(this.$iZ,this.$jZ);this.$eR.attachShader(this.$iZ,this.$kZ);this.$eR.linkProgram(this.$iZ);this.$eR.useProgram(this.$iZ)},$gZ:function(a,b,c){a=this.$eR.getAttribLocation(this.$iZ,
a);this.$lZ.push(new Ef(a,b,c));this.$cZ+=b},$hZ:function(a){return this.$eR.getUniformLocation(this.$iZ,a)},__class__:pa};var Qb=function(a,b){this.$qZ=this.$rZ=this.$sZ=this.$tZ=-1;pa.call(this,a);this.$xZ=b};h.$CgC=Qb;Qb.__name__=["$CgC"];Qb.__super__=pa;Qb.prototype=m(pa.prototype,{$dZ:function(){var a;switch(this.$xZ){case 0:case 1:a="texture2D(u_texture, pos);";break;case 2:a="vec4(texture2D(u_textureRGB, pos).rgb, texture2D(u_texture, pos).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;",
2==this.$xZ?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {\nmediump vec2 pos = u_region.xy + mod(v_uv, u_region.zw);","lowp vec4 color = "+a,1==this.$xZ?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$fZ("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",
a);this.$gZ("a_pos",2,5126);this.$gZ("a_uv",2,5126);this.$gZ("a_color",4,5126);this.$uZ=this.$hZ("u_texture");this.$wZ=this.$hZ("u_region");this.$eR.uniform1i(this.$uZ,0);2==this.$xZ&&(this.$vZ=this.$hZ("u_textureRGB"),this.$eR.uniform1i(this.$vZ,1))},$pZ:function(a,b,c,d){if(a!=this.$qZ||b!=this.$rZ||c!=this.$sZ||d!=this.$tZ)this.$qZ=a,this.$rZ=b,this.$sZ=c,this.$tZ=d,this.$eR.uniform4f(this.$wZ,a,b,c,d)},__class__:Qb});var Pb=function(a,b){pa.call(this,a);this.$xZ=b};h.$CiC=Pb;Pb.__name__=["$CiC"];
Pb.__super__=pa;Pb.prototype=m(pa.prototype,{$dZ:function(){var a;switch(this.$xZ){case 0:case 1:a="texture2D(u_texture, v_uv);";break;case 2:a="vec4(texture2D(u_textureRGB, v_uv).rgb, texture2D(u_texture, v_uv).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;",2==this.$xZ?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {","lowp vec4 color = "+a,1==this.$xZ?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");
this.$fZ("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$gZ("a_pos",2,5126);this.$gZ("a_uv",2,5126);this.$gZ("a_color",4,5126);this.$uZ=this.$hZ("u_texture");this.$zZ(0);2==this.$xZ&&(this.$vZ=this.$hZ("u_textureRGB"),this.$eR.uniform1i(this.$vZ,1))},$zZ:function(a){this.$eR.uniform1i(this.$uZ,
a)},__class__:Pb});var oe=function(a){pa.call(this,a)};h.$CjC=oe;oe.__name__=["$CjC"];oe.__super__=pa;oe.prototype=m(pa.prototype,{$dZ:function(){this.$fZ("attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.$gZ("a_pos",2,5126);this.$gZ("a_rgb",3,5126);this.$gZ("a_alpha",
1,5126)},__class__:oe});var pe=function(a,b,c,d){this.$6Z=new R;this.$4Z=this.$5Z=null;pa.call(this,a);this.$HS=b;null==c&&(c="void main () {\nvTextureCoord = aTextureCoord;\nvFilterCoord = aTextureCoord * uTextureSize/uFilterSize;\ngl_Position = vec4(aVertexPosition, 0, 1);\n}");this.$CJ=c;this.$BJ=d;this.$nZ=!1};h.$CkC=pe;pe.__name__=["$CkC"];pe.__super__=pa;pe.prototype=m(pa.prototype,{$dZ:function(){var a=["precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\nattribute highp vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n#line 0",
this.$CJ].join("\n"),b=["varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\n#line 0",this.$BJ].join("\n");this.$fZ(a,b);this.$gZ("aVertexPosition",2,5126);this.$gZ("aTextureCoord",2,5126);this.$5Z=this.$eR.getUniformLocation(this.$iZ,"uTextureSize");this.$4Z=this.$eR.getUniformLocation(this.$iZ,"uFilterSize");this.$CJ=this.$BJ=null},$yZ:function(a,b,c,d){null!=this.$5Z&&this.$eR.uniform2f(this.$5Z,
b.$4O,b.$5O);null!=this.$4Z&&this.$eR.uniform2f(this.$4Z,c,d);b=0;a=a.$AJ;for(a=new Ia(a,a.arrayKeys());a.hasNext();){c=a.next();d=c.$EJ;var e=this.$6Z;d=null!=u[d]?e.getReserved(d):e.h[d];if(null==d){d=new Ff(this.$eR.getUniformLocation(this.$iZ,c.$EJ));var e=c.$EJ,g=this.$6Z;null!=u[e]?g.setReserved(e,d):g.h[e]=d}d=d.$7Z;if(null!=d)switch(c.$GJ){case 0:this.$eR.uniform1f(d,c.$FJ);break;case 1:this.$eR.uniform2fv(d,c.$FJ);break;case 2:this.$eR.uniform3fv(d,c.$FJ);break;case 3:this.$eR.uniform4fv(d,
c.$FJ);break;case 4:this.$eR.uniform1i(d,c.$FJ);break;case 5:this.$eR.uniform2iv(d,c.$FJ);break;case 6:this.$eR.uniform3iv(d,c.$FJ);break;case 7:this.$eR.uniform4iv(d,c.$FJ);break;case 8:this.$eR.uniformMatrix2fv(d,!1,c.$FJ);break;case 9:this.$eR.uniformMatrix3fv(d,!1,c.$FJ);break;case 10:this.$eR.uniformMatrix4fv(d,!1,c.$FJ);break;case 11:this.$eR.uniform1i(d,b),0!=b&&this.$eR.activeTexture(33984+b),++b,c=this.$HS.$NR(c.$FJ.$fL),this.$HS.$OR(c.$SS)}}1<b&&this.$eR.activeTexture(33984)},__class__:pe});
var Ff=function(a){this.$7Z=a};h.$ClC=Ff;Ff.__name__=["$ClC"];Ff.prototype={__class__:Ff};var Ef=function(a,b,c){this.$9Z=0;this.$8Z=a;this.$wL=b;this.$GJ=c};h.$CmC=Ef;Ef.__name__=["$CmC"];Ef.prototype={$$Z:function(){return this.$wL*(5126==this.$GJ?4:1)},__class__:Ef};var Nc=function(){this.$Ha=null;G.call(this);this.scenes=[];this.occludedScenes=[];this.$UJ=new S};h["kit.scene.Director"]=Nc;Nc.__name__=["kit","scene","Director"];Nc.__super__=G;Nc.prototype=m(G.prototype,{get_entitySlot:function(){return 7},
$_Z:function(a,b){var c=this;this.$Fa();var d=this.get_topScene();null!=d?this.$Ga(d,a,b,function(){c.$Ba(d)}):(this.$xH(a),this.$Ea())},unwindToScene:function(a,b){var c=null!=a.owner?a.owner:(new S).add(a);this.$Aa(c,b)},$Aa:function(a,b){var c=this;this.$Fa();var d=this.get_topScene();if(null!=d){if(d!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.$Ga(d,a,b,function(){c.$Ca(d)})}}else this.$_Z(a,b)},onAdded:function(){this.owner.addChild(this.$UJ)},
onRemoved:function(){this.$Fa();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this.$UJ.dispose()},onUpdate:function(a){null!=this.$Ha&&this.$Ha.$eF(a)&&this.$Fa()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},$xH:function(a){var b=this.get_topScene();null!=b&&this.$UJ.removeChild(b);M.remove(this.scenes,a);this.scenes.push(a);this.$UJ.addChild(a)},$Ba:function(a){a=a.$aF[8];null!=a&&a.hidden.emit()},$Ca:function(a){this.$Ba(a);
a.dispose()},$Da:function(a){a=a.$aF[8];null!=a&&a.shown.emit()},$Ea:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a].$aF[8];if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.$Da(a)},$Fa:function(){null!=this.$Ha&&(this.$Ha.$Ia(),this.$Ha=null,this.$Ea())},$Ga:function(a,b,c,d){this.$Fa();this.$xH(b);null!=c?(this.occludedScenes.push(a),this.$Ha=new Gf(a,b,c,d),this.$Ha.$HJ(this)):
(d(),this.$Ea())},__class__:Nc,__properties__:m(G.prototype.__properties__,{get_topScene:"get_topScene"})});var Gf=function(a,b,c,d){this.$fG=a;this.$gG=b;this.$Ja=c;this.$Ka=d};h.$CnC=Gf;Gf.__name__=["$CnC"];Gf.prototype={$HJ:function(a){this.$Ja.init(a,this.$fG,this.$gG)},$eF:function(a){return this.$Ja.update(a)},$Ia:function(){this.$Ja.complete();this.$Ka()},__class__:Gf};var Yf=function(){};h["kit.scene.Transition"]=Yf;Yf.__name__=["kit","scene","Transition"];Yf.prototype={init:function(a,b,
c){this.$La=a;this.$fG=b;this.$gG=c},update:function(a){return!0},complete:function(){},__class__:Yf};var jc=function(){};h["kit.util.BitSets"]=jc;jc.__name__=["kit","util","BitSets"];jc.set=function(a,b,c){return c?a|b:a&~b};var mg=function(){};h["kit.util.LogHandler"]=mg;mg.__name__=["kit","util","LogHandler"];var Bf=function(a){this.$9L=2147483647;this.$Sa=a;this.$Ta=[]};h["kit.util.Pool"]=Bf;Bf.__name__=["kit","util","Pool"];Bf.prototype={put:function(a){this.$Ta.length<this.$9L&&this.$Ta.push(a)},
setCapacity:function(a){this.$Ta.length>a&&(this.$Ta.length=a);this.$9L=a;return this},__class__:Bf};var ea=function(){this.$Za=this.$aa=null;this.$Ya=0;this.$Xa=null};h["kit.util.Promise"]=ea;ea.__name__=["kit","util","Promise"];ea.all=function(a){if(1>a.length)return(new ea).success([]);for(var b=a.length,c=new ea,d=function(a){c.failure(a)},e=Array(b),g=function(){for(var a=0,d=0;d<e.length;){var g=e[d];++d;a+=g}c.emitProgress(a/b)},f=Array(b),h=0,k=0;k<b;){var m=[k++];e[m[0]]=0;var n=m[0],p=function(a){return function(d){h+=
1;f[a[0]]=d;1>e[a[0]]&&(e[a[0]]=1,g());h==b&&c.success(f)}}(m);a[n].then(p).progress(function(a){return function(b){e[a[0]]=b;g()}}(m)).catchError(d)}return c};ea.prototype={then:function(a){var b=this;if(2==this.$Ya)return this;var c=new ea;this.$BG(c,function(){if(1==b.$Ya){var d=a(b.$Xa);c.$Va(d)}else c.failure(b.$Xa)});return c},catchError:function(a){var b=this;if(1==this.$Ya)return this;var c=new ea;this.$BG(c,function(){if(2==b.$Ya){var d=a(b.$Xa);c.$Va(d)}else c.success(b.$Xa)});return c},
failure:function(a){return this.$Wa(2,a)},success:function(a){return this.$Wa(1,a)},progress:function(a){0==this.$Ya&&(null==this.$aa&&(this.$aa=new V),this.$aa.connect(a));return this},emitProgress:function(a){0==this.$Ya&&null!=this.$aa&&this.$aa.emit(a)},$BG:function(a,b){0==this.$Ya?null==this.$Za?this.$Za=[b]:this.$Za.push(b):v.$OG.$dF.$KO(b);this.progress(function(b){a.emitProgress(b)})},$Va:function(a){var b=this;W.__instanceof(a,ea)?a.then(function(a){b.success(a)}).catchError(function(a){b.failure(a)}):
this.success(a)},$Wa:function(a,b){if(0==this.$Ya&&(this.$Xa=b,this.$Ya=a,null!=this.$Za)){for(var c=0,d=this.$Za;c<d.length;){var e=d[c];++c;e()}this.$Za=null}return this},__class__:ea};var Te=function(a){this.next=null;this.$ea=a};h.$CpC=Te;Te.__name__=["$CpC"];Te.prototype={__class__:Te};var Ea=function(){};h["kit.util.Strings"]=Ea;Ea.__name__=["kit","util","Strings"];Ea.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?M.substr(a,b+1,null):null};Ea.removeFileExtension=function(a){var b=
a.lastIndexOf(".");return 0<b?M.substr(a,0,b):a};Ea.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=M.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=M.substr(a,b+1,null));return Ea.getFileExtension(a)};Ea.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Ea.withFields=function(a,b){var c=b.length;if(0<c){a+=0<a.length?" [":"[";for(var d=0;d<c;){0<d&&(a+=", ");var e=b[d],g=b[d+1];if(W.__instanceof(g,Error)){var f=g.stack;null!=f&&(g=f)}a+=e+"="+fa.string(g);
d+=2}a+="]"}return a};var Cb=function(){};h.$CqC=Cb;Cb.__name__=["$CqC"];Cb.prototype={__class__:Cb};var yf=function(){};h["kit.util.Triangulator"]=yf;yf.__name__=["kit","util","Triangulator"];yf.prototype={triangulate:function(a){var b=a.length;if(6>b)return[];var c=this.$ma;null==c?(c=new Cb,c.$ha=this.$na,this.$na=c):this.$ma=c.next;c.$ia=-1;c.$ja=-1;c.$KK=0;c.$MK=0;c.next=null;c.$yO=null;c.$ka=!1;c.$ga=null;c.$fa=null;for(var d=c,e=0,g=0,f=b-2;g<b;)e+=(a[f]-a[g])*(a[g+1]+a[f+1]),f=g,g+=2;if(0<
e)for(e=g=0;g<b;){var f=a[g],h=a[g+1],k=e++,m=this.$ma;null==m?(m=new Cb,m.$ha=this.$na,this.$na=m):this.$ma=m.next;m.$ia=k;m.$ja=-1;m.$KK=f;m.$MK=h;m.next=null;m.$yO=c;m.$ka=!1;m.$ga=null;m.$fa=null;null!=c&&(c.next=m);c=m;g+=2}else for(g=b-2,e=g/2|0;0<=g;)f=a[g],h=a[g+1],k=e--,m=this.$ma,null==m?(m=new Cb,m.$ha=this.$na,this.$na=m):this.$ma=m.next,m.$ia=k,m.$ja=-1,m.$KK=f,m.$MK=h,m.next=null,m.$yO=c,m.$ka=!1,m.$ga=null,m.$fa=null,null!=c&&(c.next=m),c=m,g-=2;c.next=d.next;c.next.$yO=c;return this.$ra(c,
160<b)},$ra:function(a,b){this.$la=[];a=this.$wa(a);if(b&&null!=a){var c,d;this.$oa=c=a.$KK;this.$pa=d=a.$MK;for(var e=a.next;e!=a;){var g=e.$KK,f=e.$MK;g<this.$oa&&(this.$oa=g);f<this.$pa&&(this.$pa=f);g>c&&(c=g);f>d&&(d=f);e=e.next}this.$wL=Math.max(c-this.$oa,d-this.$pa);this.$qa=!0}else this.$qa=!1;this.$za(a);c=this.$la;this.$la=null;d=this.$na;if(null!=this.$ma){for(;d!=this.$ma;)d=d.$ha;d=d.$ha}for(;null!=d;)d.next=this.$ma,this.$ma=d,d=d.$ha;return c},$wa:function(a,b){if(null==a)return a;
null==b&&(b=a);for(var c=a,d;;){d=!1;var e;if(c.$ka)e=!1;else if(e=c.next,c.$KK!=e.$KK||c.$MK!=e.$MK){e=c.$yO;var g=c.next;e=0==(c.$MK-e.$MK)*(g.$KK-c.$KK)-(c.$KK-e.$KK)*(g.$MK-c.$MK)}else e=!0;if(e){c.next.$yO=c.$yO;c.$yO.next=c.next;null!=c.$ga&&(c.$ga.$fa=c.$fa);null!=c.$fa&&(c.$fa.$ga=c.$ga);c=b=c.$yO;if(c==c.next)return null;d=!0}else c=c.next;if(!d&&c==b)break}return b},$za:function(a,b){null==b&&(b=0);if(null!=a){0==b&&this.$qa&&this.$$a(a);for(var c=a,d,e;a.$yO!=a.next;)if(d=a.$yO,e=a.next,
this.$qa?this.$1a(a):this.$0a(a))this.$la.push(d.$ia),this.$la.push(a.$ia),this.$la.push(e.$ia),a.next.$yO=a.$yO,a.$yO.next=a.next,null!=a.$ga&&(a.$ga.$fa=a.$fa),null!=a.$fa&&(a.$fa.$ga=a.$ga),c=a=e.next;else if(a=e,a==c){switch(b){case 0:this.$za(this.$wa(a),1);break;case 1:a=this.$2a(a);this.$za(a,2);break;case 2:this.$3a(a)}break}}},$0a:function(a){var b=a.$yO,c=a.next;if(0<=(a.$MK-b.$MK)*(c.$KK-a.$KK)-(a.$KK-b.$KK)*(c.$MK-a.$MK))return!1;for(var d=a.next.next;d!=a.$yO;){var e;e=b.$KK;var g=b.$MK,
f=a.$KK,h=a.$MK,k=c.$KK,m=c.$MK,n=d.$KK,p=d.$MK;0<=(k-n)*(g-p)-(e-n)*(m-p)&&0<=(e-n)*(h-p)-(f-n)*(g-p)&&0<=(f-n)*(m-p)-(k-n)*(h-p)?(e=d.$yO,g=d.next,e=0<=(d.$MK-e.$MK)*(g.$KK-d.$KK)-(d.$KK-e.$KK)*(g.$MK-d.$MK)):e=!1;if(e)return!1;d=d.next}return!0},$1a:function(a){var b=a.$yO,c=a.next;if(0<=(a.$MK-b.$MK)*(c.$KK-a.$KK)-(a.$KK-b.$KK)*(c.$MK-a.$MK))return!1;for(var d=b.$KK>a.$KK?b.$KK>c.$KK?b.$KK:c.$KK:a.$KK>c.$KK?a.$KK:c.$KK,e=b.$MK>a.$MK?b.$MK>c.$MK?b.$MK:c.$MK:a.$MK>c.$MK?a.$MK:c.$MK,g=32767*((b.$KK<
a.$KK?b.$KK<c.$KK?b.$KK:c.$KK:a.$KK<c.$KK?a.$KK:c.$KK)-this.$oa)/this.$wL|0,f=32767*((b.$MK<a.$MK?b.$MK<c.$MK?b.$MK:c.$MK:a.$MK<c.$MK?a.$MK:c.$MK)-this.$pa)/this.$wL|0,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,g=(g|g<<1)&1431655765|((f|f<<1)&1431655765)<<1,d=32767*(d-this.$oa)/this.$wL|0,e=32767*(e-this.$pa)/this.$wL|0,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,
e=(e|e<<2)&858993459,d=(d|d<<1)&1431655765|((e|e<<1)&1431655765)<<1,e=a.$fa;null!=e&&e.$ja<=d;){if(e!=a.$yO&&e!=a.next)var f=b.$KK,h=b.$MK,k=a.$KK,m=a.$MK,n=c.$KK,p=c.$MK,r=e.$KK,s=e.$MK,f=0<=(n-r)*(h-s)-(f-r)*(p-s)&&0<=(f-r)*(m-s)-(k-r)*(h-s)?0<=(k-r)*(p-s)-(n-r)*(m-s):!1;else f=!1;f?(f=e.$yO,h=e.next,f=0<=(e.$MK-f.$MK)*(h.$KK-e.$KK)-(e.$KK-f.$KK)*(h.$MK-e.$MK)):f=!1;if(f)return!1;e=e.$fa}for(e=a.$ga;null!=e&&e.$ja>=g;){e!=a.$yO&&e!=a.next?(d=b.$KK,f=b.$MK,h=a.$KK,k=a.$MK,m=c.$KK,n=c.$MK,p=e.$KK,
r=e.$MK,d=0<=(m-p)*(f-r)-(d-p)*(n-r)&&0<=(d-p)*(k-r)-(h-p)*(f-r)?0<=(h-p)*(n-r)-(m-p)*(k-r):!1):d=!1;d?(d=e.$yO,f=e.next,d=0<=(e.$MK-d.$MK)*(f.$KK-e.$KK)-(e.$KK-d.$KK)*(f.$MK-e.$MK)):d=!1;if(d)return!1;e=e.$ga}return!0},$2a:function(a){for(var b=a;;){var c=b.$yO,d=b.next.next,e;e=b.next;if(0<(b.$MK-c.$MK)*(e.$KK-b.$KK)-(b.$KK-c.$KK)*(e.$MK-b.$MK)!=0<(b.$MK-c.$MK)*(d.$KK-b.$KK)-(b.$KK-c.$KK)*(d.$MK-b.$MK)&&0<(d.$MK-e.$MK)*(c.$KK-d.$KK)-(d.$KK-e.$KK)*(c.$MK-d.$MK)!=0<(d.$MK-e.$MK)*(b.$KK-d.$KK)-(d.$KK-
e.$KK)*(b.$MK-d.$MK)){e=c.$yO;var g=c.next;0>(c.$MK-e.$MK)*(g.$KK-c.$KK)-(c.$KK-e.$KK)*(g.$MK-c.$MK)?(e=c.next,0<=(d.$MK-c.$MK)*(e.$KK-d.$KK)-(d.$KK-c.$KK)*(e.$MK-d.$MK)?(e=c.$yO,e=0<=(e.$MK-c.$MK)*(d.$KK-e.$KK)-(e.$KK-c.$KK)*(d.$MK-e.$MK)):e=!1):(e=c.$yO,0>(d.$MK-c.$MK)*(e.$KK-d.$KK)-(d.$KK-c.$KK)*(e.$MK-d.$MK)?e=!0:(e=c.next,e=0>(e.$MK-c.$MK)*(d.$KK-e.$KK)-(e.$KK-c.$KK)*(d.$MK-e.$MK)))}else e=!1;e?(e=d.$yO,g=d.next,0>(d.$MK-e.$MK)*(g.$KK-d.$KK)-(d.$KK-e.$KK)*(g.$MK-d.$MK)?(e=d.next,0<=(c.$MK-d.$MK)*
(e.$KK-c.$KK)-(c.$KK-d.$KK)*(e.$MK-c.$MK)?(e=d.$yO,e=0<=(e.$MK-d.$MK)*(c.$KK-e.$KK)-(e.$KK-d.$KK)*(c.$MK-e.$MK)):e=!1):(e=d.$yO,0>(c.$MK-d.$MK)*(e.$KK-c.$KK)-(c.$KK-d.$KK)*(e.$MK-c.$MK)?e=!0:(e=d.next,e=0>(e.$MK-d.$MK)*(c.$KK-e.$KK)-(e.$KK-d.$KK)*(c.$MK-e.$MK)))):e=!1;e&&(this.$la.push(c.$ia),this.$la.push(b.$ia),this.$la.push(d.$ia),b.next.$yO=b.$yO,b.$yO.next=b.next,null!=b.$ga&&(b.$ga.$fa=b.$fa),null!=b.$fa&&(b.$fa.$ga=b.$ga),a=b.next,a.next.$yO=a.$yO,a.$yO.next=a.next,null!=a.$ga&&(a.$ga.$fa=
a.$fa),null!=a.$fa&&(a.$fa.$ga=a.$ga),b=a=d);b=b.next;if(b==a)break}return b},$3a:function(a){for(var b=a;;){for(var c=b.next.next;c!=b.$yO;){if(b.$ia!=c.$ia&&this.$6a(b,c)){a=this.$4a(b,c);b=this.$wa(b,b.next);a=this.$wa(a,a.next);this.$za(b);this.$za(a);return}c=c.next}b=b.next;if(b==a)break}},$4a:function(a,b){var c=a.$ia,d=a.$KK,e=a.$MK,g=this.$ma;null==g?(g=new Cb,g.$ha=this.$na,this.$na=g):this.$ma=g.next;g.$ia=c;g.$ja=-1;g.$KK=d;g.$MK=e;g.next=null;g.$yO=null;g.$ka=!1;g.$ga=null;g.$fa=null;
var c=g,d=b.$ia,e=b.$KK,g=b.$MK,f=this.$ma;null==f?(f=new Cb,f.$ha=this.$na,this.$na=f):this.$ma=f.next;f.$ia=d;f.$ja=-1;f.$KK=e;f.$MK=g;f.next=null;f.$yO=null;f.$ka=!1;f.$ga=null;f.$fa=null;d=f;e=a.next;g=b.$yO;a.next=b;b.$yO=a;c.next=e;e.$yO=c;d.next=c;c.$yO=d;g.next=d;d.$yO=g;return d},$6a:function(a,b){if(a.$KK!=b.$KK||a.$MK!=b.$MK){var c;if(a.next.$ia==b.$ia||a.$yO.$ia==b.$ia||this.$8a(a,b))c=!1;else{c=a.$yO;var d=a.next;0>(a.$MK-c.$MK)*(d.$KK-a.$KK)-(a.$KK-c.$KK)*(d.$MK-a.$MK)?(c=a.next,0<=
(b.$MK-a.$MK)*(c.$KK-b.$KK)-(b.$KK-a.$KK)*(c.$MK-b.$MK)?(c=a.$yO,c=0<=(c.$MK-a.$MK)*(b.$KK-c.$KK)-(c.$KK-a.$KK)*(b.$MK-c.$MK)):c=!1):(c=a.$yO,0>(b.$MK-a.$MK)*(c.$KK-b.$KK)-(b.$KK-a.$KK)*(c.$MK-b.$MK)?c=!0:(c=a.next,c=0>(c.$MK-a.$MK)*(b.$KK-c.$KK)-(c.$KK-a.$KK)*(b.$MK-c.$MK)))}c?(c=b.$yO,d=b.next,0>(b.$MK-c.$MK)*(d.$KK-b.$KK)-(b.$KK-c.$KK)*(d.$MK-b.$MK)?(c=b.next,0<=(a.$MK-b.$MK)*(c.$KK-a.$KK)-(a.$KK-b.$KK)*(c.$MK-a.$MK)?(c=b.$yO,c=0<=(c.$MK-b.$MK)*(a.$KK-c.$KK)-(c.$KK-b.$KK)*(a.$MK-c.$MK)):c=!1):
(c=b.$yO,0>(a.$MK-b.$MK)*(c.$KK-a.$KK)-(a.$KK-b.$KK)*(c.$MK-a.$MK)?c=!0:(c=b.next,c=0>(c.$MK-b.$MK)*(a.$KK-c.$KK)-(c.$KK-b.$KK)*(a.$MK-c.$MK)))):c=!1;return c?this.$7a(a,b):!1}return!0},$7a:function(a,b){for(var c=a,d=!1,e=(a.$KK+b.$KK)/2,f=(a.$MK+b.$MK)/2;c.$MK>f!=c.next.$MK>f&&e<(c.next.$KK-c.$KK)*(f-c.$MK)/(c.next.$MK-c.$MK)+c.$KK&&(d=!d),c=c.next,c!=a;);return d},$8a:function(a,b){for(var c=a;;){var d;c.$ia!=a.$ia&&c.next.$ia!=a.$ia&&c.$ia!=b.$ia&&c.next.$ia!=b.$ia?(d=c.next,d=0<(d.$MK-c.$MK)*
(a.$KK-d.$KK)-(d.$KK-c.$KK)*(a.$MK-d.$MK)!=0<(d.$MK-c.$MK)*(b.$KK-d.$KK)-(d.$KK-c.$KK)*(b.$MK-d.$MK)?0<(b.$MK-a.$MK)*(c.$KK-b.$KK)-(b.$KK-a.$KK)*(c.$MK-b.$MK)!=0<(b.$MK-a.$MK)*(d.$KK-b.$KK)-(b.$KK-a.$KK)*(d.$MK-b.$MK):!1):d=!1;if(d)return!0;c=c.next;if(c==a)break}return!1},$$a:function(a){for(var b=a;;){if(0>b.$ja){var c=32767*(b.$KK-this.$oa)/this.$wL|0,d=32767*(b.$MK-this.$pa)/this.$wL|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,d=(d|d<<8)&16711935,d=(d|
d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765;b.$ja=c|d<<1}b.$ga=b.$yO;b=b.$fa=b.next;if(b==a)break}b.$ga.$fa=null;b.$ga=null;this.$_a(b)},$_a:function(a){for(var b,c,d,e,f,h,k,m=1;;){b=a;e=a=null;for(f=0;null!=b;){++f;c=b;d=h=0;for(k=m;d<k&&(d++,++h,c=c.$fa,null!=c););for(k=m;0<h||0<k&&null!=c;)0==h?(d=c,c=c.$fa,--k):0==k||null==c?(d=b,b=b.$fa,--h):b.$ja<=c.$ja?(d=b,b=b.$fa,--h):(d=c,c=c.$fa,--k),null!=e?e.$fa=d:a=d,d.$ga=e,e=d;b=c}e.$fa=null;m*=2;if(!(1<f))break}return a},__class__:yf};
var ig=function(){};h["spine.Updatable"]=ig;ig.__name__=["spine","Updatable"];var Hf=function(){};h["spine.Bone"]=Hf;Hf.__name__=["spine","Bone"];Hf.__interfaces__=[ig];Hf.prototype={__class__:Hf};var Zf=function(){};h["spine.BoneData"]=Zf;Zf.__name__=["spine","BoneData"];Zf.prototype={__class__:Zf};var ng=function(){};h["spine.EventData"]=ng;ng.__name__=["spine","EventData"];var $f=function(){};h["spine.IkConstraintData"]=$f;$f.__name__=["spine","IkConstraintData"];$f.prototype={__class__:$f};var ag=
function(){};h["spine.PathConstraintData"]=ag;ag.__name__=["spine","PathConstraintData"];ag.prototype={__class__:ag};var bg=function(){};h["spine.Skeleton"]=bg;bg.__name__=["spine","Skeleton"];bg.prototype={__class__:bg};var og=function(){};h["spine.SkeletonData"]=og;og.__name__=["spine","SkeletonData"];var pg=function(){};h["spine.Skin"]=pg;pg.__name__=["spine","Skin"];var cg=function(){};h["spine.SlotData"]=cg;cg.__name__=["spine","SlotData"];cg.prototype={__class__:cg};var dg=function(){};h["spine.TransformConstraintData"]=
dg;dg.__name__=["spine","TransformConstraintData"];dg.prototype={__class__:dg};var eg=function(){};h["spine.attachments.Attachment"]=eg;eg.__name__=["spine","attachments","Attachment"];var zc=function(){};h["spine.attachments.VertexAttachment"]=zc;zc.__name__=["spine","attachments","VertexAttachment"];zc.__super__=eg;zc.prototype=m(eg.prototype,{__class__:zc});var If=function(){};h["spine.attachments.MeshAttachment"]=If;If.__name__=["spine","attachments","MeshAttachment"];If.__super__=zc;If.prototype=
m(zc.prototype,{__class__:If});var ge=function(){G.call(this)};h["yourproject.YourProject"]=ge;ge.__name__=["yourproject","YourProject"];ge.__super__=G;ge.prototype=m(G.prototype,{get_entitySlot:function(){return 14},onStart:function(){this.owner.add(new Mc("Home"))},__class__:ge});var gg,rg=0;h.Math=Math;String.prototype.__class__=h.String=String;String.__name__=["String"];h.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=h.Date=Date;Date.__name__=["Date"];var tg=h.Int={__name__:["Int"]},
sg=h.Dynamic={__name__:["Dynamic"]},lg=h.Float=Number;lg.__name__=["Float"];var kg=Boolean;kg.__ename__=["Bool"];var ug=h.Class={__name__:["Class"]},vg={},u={};XMLHttpRequest.prototype.send=__XMLHttpRequest_send;window.document.createElement=__document_createElement;var jg=window.observer;null!=jg&&null!=jg.disconnect&&jg.disconnect();ra.__creator={spawned:s.CBool,onStarted:s.CString,onUpdated:s.CString,onStopped:s.CString};Pa.ENTITY_SLOT=0;Pa.__creator={pointerEnabled:s.CBool,onPointerDown:s.CString,
onPointerIn:s.CString,onPointerOut:s.CString,onPointerUp:s.CString,physicsEnabled:s.CBool,density:s.CFloat,fixedRotation:s.CBool,gravityScale:s.CFloat,friction:s.CFloat,restitution:s.CFloat,sensor:s.CBool,collisionGroup:s.CArray(s.CString),collidesWith:s.CArray(s.CString),onBeginContact:s.CString,onEndContact:s.CString,physicsType:s.CEnum(Oa),chromaKeyEnabled:s.CBool};Tb.ENTITY_SLOT=0;Tb.__creator={lineDiffX:s.CFloat,lineChangeTime:s.CFloat};H.$O=H.$N();H.$P=H.$N();H.$Q=H.$N();H.$R=[];H.$S=[];H.$T=
new z;H.$U=new z;H.$V=new z;H.$W=new z;H.$X=new z;H.$Y=new z;H.$Z=new z;H.$a=new z;Ca.$k=new ue;Ca.$l=[];Ca.$m=[];Wb.$5=0;I.$FB=0;I.$GB=0;I.$HB=0;I.$IB=0;I.$JB=0;I.$KB=new Gc;I.$LB=new Cc;I.$MB=new tb;I.$NB=new tb;I.$OB=new ze;I.$PB=new Dc;Zb.$DC=new tb;ac.defaultFilter=new ac;ib.defaultListener=new ib;ub.$lC=new Fe;ja.$yC=new cc;ja.$0C=new sb;ja.$1C=new sb;ja.$2C=new cc;ja.$3C=[];U.$KD=new Ae;sa.$TD=new Be;sa.$UD=new Le;pb.$uE="@State:";O.__creator={target:s.CClass(pb)};Kc.__creator={duration:s.CFloat};
Fb.ENTITY_SLOT=8;Pc.__creator={count:s.CInt};Qc.__creator={x:s.CFloat,y:s.CFloat,duration:s.CFloat,ease:s.CEnum(n)};Rc.__creator={"with":s.CArray(s.CString)};Sc.__creator={speed:s.CFloat,forwardAngle:s.CFloat};Tc.__creator={x:s.CFloat,y:s.CFloat,rotation:s.CFloat};vb.__creator={property:s.CString,location:s.CEnum(Ra)};Uc.__creator={value:s.CFloat};Ta.count=0;W.__toStr={}.toString;S.$cF=new Re;db.$4F=new db;la.$JG=new Ib(null,null);v.root=new S;v.uncaughtError=new V;v.lowMemoryWarning=new ab;v.hidden=
new ia(!1);v.volume=new P(1);v.$OG=db.$4F;ed.logger=new Ue(v.$OG.createLogHandler("2DKit"));Va.$nG=!0;hd.__creator={following:s.CClass(S),zoom:s.CClass(P),active:s.CBool,offsetX:s.CFloat,offsetY:s.CFloat};x.$OH=new Qa;x.$PH=new Aa;x.$QH=new jd;na.ENTITY_SLOT=3;na.$qH=new wa;oa.$qH=new wa;oa.__creator={pointerEnabled:s.CBool,onPointerDown:s.CString,onPointerIn:s.CString,onPointerOut:s.CString,onPointerUp:s.CString,onClick:s.CString,dockX:s.CEnum(Ja),dockY:s.CEnum(Ka)};kc.ENTITY_SLOT=0;kc.__creator=
{textAlign:s.CEnum(Fa),font:s.CString,letterSpacing:s.CFloat,lineSpacing:s.CFloat,text:s.CString,textScale:s.CFloat};lc.ENTITY_SLOT=0;lc.__creator={pressDistance:s.CFloat};nd.ENTITY_SLOT=0;Hb.$dI=new Ud(10);Ua.$ZL=new jf;Ba.$ZL=new kf;ta.$ZL=new lf;ba.__meta__={obj:{injected:[{scenes:{Home:["bootstrap"]},maxHeight:1920,scaleMode:1,height:960,id:"com.yourdomain.yourproject",orientation:"portrait",fullscreen:!0,maxWidth:1080,assets:{bootstrap:[{bytes:8262,name:"Home.scene.__gz.txt"},{bytes:1229,name:"_2DKit/atlas.json"},
{bytes:10445,name:"fonts/Arial-hd.fnt.__gz.txt"},{bytes:1980,name:"particles/explode.pex.__gz.txt"},{bytes:3135,name:"sounds/Explode.mp3"},{bytes:2473,name:"movies/321_countdown/library.json"},{bytes:1571,name:"movies/BackLightsanim/BackGroundPart.json"},{bytes:750,name:"movies/BackLightsanim2/BackGroundTest2.json"},{bytes:401,name:"movies/Character/TestAnim.json"},{bytes:464,name:"movies/Enemy/MacronLeft.json"},{bytes:470,name:"movies/Enemy/MacronRight.json"},{bytes:273227,name:"_2DKit/texture0.png"}]},
width:540}]}};T.$SP=0;T.$TP=0;K.$9P=["webkit","moz","ms"];K.$$P=function(a){a=window.navigator.userAgent;return(new Ha("(iPhone|iPod|iPad)","")).match(a)?!0:(new Ha("\\bSafari/","")).match(a)&&(new Ha("\\bVersion/","")).match(a)?2<window.navigator.maxTouchPoints:!1}(this);K.$AQ=(new Ha("\\b(Trident|Edge)\\b","")).match(window.navigator.userAgent);Za.$uQ=(new qc).$yL(1E6).$0L(function(a,b){return b.numberOfChannels*b.length});L.$3Q=!0;Ma.$PH=new Aa;hg.$XZ=new A;ea.$ba=0;ea.$ca=1;ea.$da=2;Xf.$mL()})("undefined"!=
typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
