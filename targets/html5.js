/** Built with 2DKit, http://2dkit.com */
'use strict';(function(Xd){function p(a,b){function c(){}c.prototype=a;var d=new c,f;for(f in b)d[f]=b[f];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function Od(a){return a instanceof Array?function(){return A.iter(a)}:"function"==typeof a.iterator?Qa(a,a.iterator):a.iterator}function Qa(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Yd++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var h={},k=function(){return D.__string_rec(this,"")},xa=function(a,b){this.r=RegExp(a,b.split("u").join(""))};h.EReg=xa;xa.__name__=["EReg"];xa.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new Y("EReg::matched");},__class__:xa};var A=function(){};h.HxOverrides=A;
A.__name__=["HxOverrides"];A.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new Y("Invalid date format : "+a);}};A.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};A.substr=function(a,b,c){if(null==
c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};A.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};A.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Ra=function(){};h.Lambda=Ra;Ra.__name__=["Lambda"];Ra.array=function(a){var b=[];for(a=Od(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Ra.count=function(a,b){var c=0;if(null==b)for(var d=
Od(a)();d.hasNext();)d.next(),++c;else for(d=Od(a)();d.hasNext();){var f=d.next();b(f)&&++c}return c};Math.__name__=["Math"];var E=function(){};h.Reflect=E;E.__name__=["Reflect"];E.field=function(a,b){try{return a[b]}catch(c){return null}};E.setProperty=function(a,b,c){var d,f;f=a.__properties__?d=a.__properties__["set_"+b]:!1;if(f)a[d](c);else a[b]=c};E.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};
E.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};E.compare=function(a,b){return a==b?0:a>b?1:-1};var Z=function(){};h.Std=Z;Z.__name__=["Std"];Z.string=function(a){return D.__string_rec(a,"")};Z.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=A.cca(a,1)&&88!=A.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var O=function(){};h.StringTools=O;O.__name__=["StringTools"];O.startsWith=function(a,b){return a.length>=b.length?A.substr(a,0,b.length)==b:!1};O.endsWith=
function(a,b){var c=b.length,d=a.length;return d>=c?A.substr(a,d-c,c)==b:!1};O.isSpace=function(a,b){var c=A.cca(a,b);return 8<c&&14>c?!0:32==c};O.ltrim=function(a){for(var b=a.length,c=0;c<b&&O.isSpace(a,c);)++c;return 0<c?A.substr(a,c,b-c):a};O.rtrim=function(a){for(var b=a.length,c=0;c<b&&O.isSpace(a,b-c-1);)++c;return 0<c?A.substr(a,0,b-c):a};O.trim=function(a){return O.ltrim(O.rtrim(a))};O.replace=function(a,b,c){return a.split(b).join(c)};var ba=function(){};h.Type=ba;ba.__name__=["Type"];ba.getSuperClass=
function(a){return a.__super__};ba.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};ba.resolveClass=function(a){a=h[a];return null!=a&&a.__name__?a:null};ba.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new Y("Too many arguments");}};ba.createEnum=function(a,b,c){var d=E.field(a,b);if(null==d)throw new Y("No such constructor "+b);if(E.isFunction(d)){if(null==c)throw new Y("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new Y("Constructor "+b+" does not need parameters");return d};var ca=function(){};h["kit.util.Disposable"]=ca;ca.__name__=["kit","util","Disposable"];ca.prototype=
{__class__:ca};var y=function(){this.$oE=null;this.$nE=0;this.owner=this.next=null};h["kit.Component"]=y;y.__name__=["kit","Component"];y.__interfaces__=[ca];y.prototype={onAdded:function(){},onRemoved:function(){null!=this.$oE&&this.$oE.$JF()},onStart:function(){},onStop:function(){},onUpdate:function(a){},onMessage:function(a,b){if(null!=this.$oE){var c=this.$oE.$HF;if(null!=c&&(c=null!=v[a]?c.getReserved(a):c.h[a],null!=c&&null!=c.$$F))return c.emit(b),!0}return!1},connect0:function(a,b,c){null==
c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},connect1:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},connect2:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},registerDisposable:function(a){null==this.$oE&&(this.$oE=new Ic);null==this.$oE.$IF&&(this.$oE.$IF=[]);this.$oE.$IF.push(a)},dispose:function(){null!=this.owner?this.owner.remove(this):null!=this.$oE&&this.$oE.$JF()},get_entitySlot:function(){return-1},
$mE:function(){},__class__:y,__properties__:{get_entitySlot:"get_entitySlot"}};var fb=function(a){this.callInitPlatformSDK=!0;this.loaded=new qa;y.call(this);this.$rE=a};h["ez.EzApp"]=fb;fb.__name__=["ez","EzApp"];fb.__super__=y;fb.prototype=p(y.prototype,{get_entitySlot:function(){return 13},onStart:function(){var a=this,b=this.owner.$RF[8];if(null==b){var c=this.owner,b=new gb;c.add(b)}var d=this.owner.$RF[2];null==d&&(c=this.owner,d=new Sa,c.add(d));c=this.owner.$RF[14];if(null==c){var f=this.owner,
c=new Ta;f.add(c)}c=N.getRequiredAssetPacks(this.$rE).map(function(a){return d.load(a)});c=R.all(c);this.callInitPlatformSDK&&(c=s.$FG.initPlatformSDK(c));c.then(function(c){b.unwindToScene(new hb(a.$rE));a.loaded.emit()})},__class__:fb});var ra=function(a){null==a&&(a=!0);y.call(this);this.opaque=a;this.shown=new qa;this.hidden=new qa};h["kit.scene.Scene"]=ra;ra.__name__=["kit","scene","Scene"];ra.__super__=y;ra.prototype=p(y.prototype,{get_entitySlot:function(){return 9},__class__:ra});var hb=function(a,
b){null==b&&(b=!0);this.onStarted=this.onStopped=this.onUpdated=this.onPropertyChanged=this.onKeyDown=this.onKeyUp=this.onPointerDown=this.onPointerUp=this.onResized=this.$uE=null;ra.call(this,b);this.$tE=a};h["ez.EzScene"]=hb;hb.__name__=["ez","EzScene"];hb.__super__=ra;hb.prototype=p(ra.prototype,{onStart:function(){var a=this;ra.prototype.onStart.call(this);var b=this.owner._internal_getFromParents(2).getScene(this.$tE),c=[];this.registerDisposable(b.reloadCount.watch(function(d,f){var g=b.properties,
g=null!=v.onStarted?g.getReserved("onStarted"):g.h.onStarted;a.onStarted=g;g=b.properties;g=null!=v.onStopped?g.getReserved("onStopped"):g.h.onStopped;a.onStopped=g;g=b.properties;g=null!=v.onUpdated?g.getReserved("onUpdated"):g.h.onUpdated;a.onUpdated=g;g=b.properties;g=null!=v.onPropertyChanged?g.getReserved("onPropertyChanged"):g.h.onPropertyChanged;a.onPropertyChanged=g;g=b.properties;g=null!=v.onKeyDown?g.getReserved("onKeyDown"):g.h.onKeyDown;a.onKeyDown=g;g=b.properties;g=null!=v.onKeyUp?g.getReserved("onKeyUp"):
g.h.onKeyUp;a.onKeyUp=g;g=b.properties;g=null!=v.onPointerDown?g.getReserved("onPointerDown"):g.h.onPointerDown;a.onPointerDown=g;g=b.properties;g=null!=v.onPointerUp?g.getReserved("onPointerUp"):g.h.onPointerUp;a.onPointerUp=g;g=b.properties;g=null!=v.onResized?g.getReserved("onResized"):g.h.onResized;a.onResized=g;for(g=0;g<c.length;){var e=c[g];++g;e.dispose()}c=[];null!=a.onKeyDown&&(g=a.connect1(s.$FG.getKeyboard().down,function(b){a.$sE(a.onKeyDown)}),c.push(g));null!=a.onKeyUp&&(g=a.connect1(s.$FG.getKeyboard().up,
function(b){a.$sE(a.onKeyUp)}),c.push(g));null!=a.onPointerDown&&(g=a.connect1(s.$FG.$aF.down,function(b){a.$sE(a.onPointerDown)}),c.push(g));null!=a.onPointerUp&&(g=a.connect1(s.$FG.$aF.up,function(b){a.$sE(a.onPointerUp)}),c.push(g));null!=a.onResized&&(g=a.connect0(s.$FG.$cF.resize,function(){a.$sE(a.onResized)}),c.push(g))}));var d=b.createSprite(),f=I.$cL("width"),g=I.$cL("height");d.setCamera(0,0,f,g);d.drawBackgroundColor=this.opaque;this.$uE=(new F).add(d);this.owner.addChild(this.$uE);f=
new Ta;this.owner.add(f);if(null!=this.onPropertyChanged){for(var g=[f],e=this.owner.parent;null!=e;){var q=e.$RF[14];null!=q&&g.push(q);e=e.parent}for(e=0;e<g.length;)q=g[e],++e,this.connect2(q.changed,function(b,c){a.$sE(a.onPropertyChanged)})}for(g=b.properties.keys();g.hasNext();)e=g.next(),q=b.properties,q=parseFloat(null!=v[e]?q.getReserved(e):q.h[e]),isNaN(q)||f.set(e,q);1!=I.$cL("scaleMode")&&(f=function(){var a=Math.min(s.$FG.$cF.get_width()/d.cameraWidth.$xF,s.$FG.$cF.get_height()/d.cameraHeight.$xF),
b=s.$FG.$cF.get_width()/2-a*d.cameraWidth.$xF/2,c=s.$FG.$cF.get_height()/2;d.setXY(b,c-a*d.cameraHeight.$xF/2);d.setScale(a)},f(),this.connect0(s.$FG.$cF.resize,f));f=b.createScript();this.$uE.add(f);this.owner.yieldForStart();null!=this.onStarted&&this.$sE(this.onStarted);null!=this.onResized&&this.$sE(this.onResized)},onUpdate:function(a){ra.prototype.onUpdate.call(this,a);null!=this.onUpdated&&this.$sE(this.onUpdated)},onStop:function(){ra.prototype.onStop.call(this);null!=this.onStopped&&this.$sE(this.onStopped)},
$sE:function(a){this.$uE.emitMessageToParents(a,this.owner)},__class__:hb});var z={__ename__:!0,__constructs__:"CString CBool CFloat CInt CArray CEnum CClass".split(" "),CString:["CString",0]};z.CString.toString=k;z.CString.__enum__=z;z.CBool=["CBool",1];z.CBool.toString=k;z.CBool.__enum__=z;z.CFloat=["CFloat",2];z.CFloat.toString=k;z.CFloat.__enum__=z;z.CInt=["CInt",3];z.CInt.toString=k;z.CInt.__enum__=z;z.CArray=function(a){a=["CArray",4,a];a.__enum__=z;a.toString=k;return a};z.CEnum=function(a){a=
["CEnum",5,a];a.__enum__=z;a.toString=k;return a};z.CClass=function(a){a=["CClass",6,a];a.__enum__=z;a.toString=k;return a};var ua=function(a,b){this.states=new H;this.properties=new H;this.tile=this.points=null;this.layer=a;this.name=N.$eH(b.name);this.type=N.$eH(b.type);this.x=b.x;this.y=b.y;this.anchorX=N.$fH(b.anchorX,0);this.anchorY=N.$fH(b.anchorY,0);this.rotation=b.rotation;this.width=b.width;this.height=b.height;this.visible=b.visible;this.tint=null!=b.tintcolor?Z.parseInt(O.replace(b.tintcolor,
"#","0x")):16777215;b.ellipse?this.shape=J.Ellipse:null!=b.polygon?(this.shape=J.Polygon,this.points=b.polygon.map(function(a){return new ha(a.x,a.y)})):null!=b.polyline?(this.shape=J.Polyline,this.points=b.polyline.map(function(a){return new ha(a.x,a.y)})):null!=b.gid?(this.shape=J.Tile,this.tile=a.scene.tiles.h[b.gid]):this.shape=J.Rectangle;var c=null!=this.tile?-this.height:0;if(0==this.rotation)this.x+=this.anchorX,this.y+=this.anchorY+c;else{var d=new X;d.compose(this.x,this.y,1,1,3.141592653589793*
this.rotation/180);d.translate(this.anchorX,this.anchorY+c);this.x=d.m02;this.y=d.m12}null!=this.tile&&(this.anchorX*=this.tile.get_width()/this.width,this.anchorY*=this.tile.get_height()/this.height);c=N.$dH(b.properties);for(d=c.keys();d.hasNext();){var f=d.next(),g=null!=v[f]?c.getReserved(f):c.h[f];if(O.startsWith(f,"@State:"))var e=this.states,f=A.substr(f,7,null);else e=this.properties;null!=v[f]?e.setReserved(f,g):e.h[f]=g}};h["kit.creator.ObjectInfo"]=ua;ua.__name__=["kit","creator","ObjectInfo"];
ua.prototype={createSprite:function(){var a;null!=this.tile?(a=this.tile.properties,a=!(null!=v.noSprite?a.existsReserved("noSprite"):a.h.hasOwnProperty("noSprite"))):a=!1;a?(a=this.tile.texture,a=null!=a&&2>Ra.count(this.states)?new Fa(a):new jb(this)):a=new u;this.transformSprite(a);return a},transformSprite:function(a){null!=this.tile?(a.setXY(this.x+this.tile.tileset.offsetX,this.y+this.tile.tileset.offsetY),a.setScaleXY(this.width/this.tile.get_width(),this.height/this.tile.get_height())):a.setXY(this.x,
this.y);a.setAnchor(this.anchorX,this.anchorY);a.rotation.set__(this.rotation);a.set_visible(this.visible);a.setTint(this.tint)},__class__:ua};var da=function(){this.target=this.script=null};h["kit.creator.CreatorAction"]=da;da.__name__=["kit","creator","CreatorAction"];da.runSequence=function(a,b){for(var c=null,d=0;d<a.length;){var f=[a[d]];++d;c=null!=c?c.then(function(a){return function(c){return a[0].$yE(b)}}(f)):f[0].$yE(b)}return c};da.prototype={$wE:function(a){},$xE:function(a){return null},
$yE:function(a){if(null==this.script||null==this.script.owner)return(new R).failure();if(null!=this.target){var b=this.script.owner._internal_getFromParents(3,$);a=null;for(var c=b.objects.keys();c.hasNext();){var d=c.next();if(this.target.name==d.name){a=b.objects.h[d.__id__];break}}if(null==a)return(new R).failure()}this.$wE(a);return this.$xE(a)},__class__:da};var Ua=function(){da.call(this)};h["ez.TweenAction"]=Ua;Ua.__name__=["ez","TweenAction"];Ua.__super__=da;Ua.prototype=p(da.prototype,{$0E:function(a,
b,c,d,f,g,e){if(0>=g)return b.set__(c),d.set__(f),null;e=this.$1E(e);b.animateTo(c,g,e);d.animateTo(f,g,e);return Ga.on(a,b)},$1E:function(a){switch(a[1]){case 0:return t.linear;case 1:return t.quadIn;case 2:return t.quadOut;case 3:return t.quadInOut;case 4:return t.cubeIn;case 5:return t.cubeOut;case 6:return t.cubeInOut;case 7:return t.quartIn;case 8:return t.quartOut;case 9:return t.quartInOut;case 10:return t.quintIn;case 11:return t.quintOut;case 12:return t.quintInOut;case 13:return t.sineIn;
case 14:return t.sineOut;case 15:return t.sineInOut;case 16:return t.bounceIn;case 17:return t.bounceOut;case 18:return t.bounceInOut;case 19:return t.circIn;case 20:return t.circOut;case 21:return t.circInOut;case 22:return t.expoIn;case 23:return t.expoOut;case 24:return t.expoInOut;case 25:return t.backIn;case 26:return t.backOut;case 27:return t.backInOut;case 28:return t.elasticIn;case 29:return t.elasticOut;case 30:return t.elasticInOut}},$2E:function(a){},__class__:Ua});var Ga=function(a,b){y.call(this);
this.$3E=a;this.$4E=a.$4E;this.$5E=b};h.$CH=Ga;Ga.__name__=["$CH"];Ga.on=function(a,b){var c=new R;a.addChild((new F).add(new Ga(b,c)));return c};Ga.__super__=y;Ga.prototype=p(y.prototype,{get_entitySlot:function(){return 1},onUpdate:function(a){this.$3E.$4E!=this.$4E&&(this.owner.dispose(),this.$5E.success(null))},__class__:Ga});var l={__ename__:!0,__constructs__:"Linear QuadIn QuadOut QuadInOut CubeIn CubeOut CubeInOut QuartIn QuartOut QuartInOut QuintIn QuintOut QuintInOut SineIn SineOut SineInOut BounceIn BounceOut BounceInOut CircIn CircOut CircInOut ExpoIn ExpoOut ExpoInOut BackIn BackOut BackInOut ElasticIn ElasticOut ElasticInOut".split(" "),
Linear:["Linear",0]};l.Linear.toString=k;l.Linear.__enum__=l;l.QuadIn=["QuadIn",1];l.QuadIn.toString=k;l.QuadIn.__enum__=l;l.QuadOut=["QuadOut",2];l.QuadOut.toString=k;l.QuadOut.__enum__=l;l.QuadInOut=["QuadInOut",3];l.QuadInOut.toString=k;l.QuadInOut.__enum__=l;l.CubeIn=["CubeIn",4];l.CubeIn.toString=k;l.CubeIn.__enum__=l;l.CubeOut=["CubeOut",5];l.CubeOut.toString=k;l.CubeOut.__enum__=l;l.CubeInOut=["CubeInOut",6];l.CubeInOut.toString=k;l.CubeInOut.__enum__=l;l.QuartIn=["QuartIn",7];l.QuartIn.toString=
k;l.QuartIn.__enum__=l;l.QuartOut=["QuartOut",8];l.QuartOut.toString=k;l.QuartOut.__enum__=l;l.QuartInOut=["QuartInOut",9];l.QuartInOut.toString=k;l.QuartInOut.__enum__=l;l.QuintIn=["QuintIn",10];l.QuintIn.toString=k;l.QuintIn.__enum__=l;l.QuintOut=["QuintOut",11];l.QuintOut.toString=k;l.QuintOut.__enum__=l;l.QuintInOut=["QuintInOut",12];l.QuintInOut.toString=k;l.QuintInOut.__enum__=l;l.SineIn=["SineIn",13];l.SineIn.toString=k;l.SineIn.__enum__=l;l.SineOut=["SineOut",14];l.SineOut.toString=k;l.SineOut.__enum__=
l;l.SineInOut=["SineInOut",15];l.SineInOut.toString=k;l.SineInOut.__enum__=l;l.BounceIn=["BounceIn",16];l.BounceIn.toString=k;l.BounceIn.__enum__=l;l.BounceOut=["BounceOut",17];l.BounceOut.toString=k;l.BounceOut.__enum__=l;l.BounceInOut=["BounceInOut",18];l.BounceInOut.toString=k;l.BounceInOut.__enum__=l;l.CircIn=["CircIn",19];l.CircIn.toString=k;l.CircIn.__enum__=l;l.CircOut=["CircOut",20];l.CircOut.toString=k;l.CircOut.__enum__=l;l.CircInOut=["CircInOut",21];l.CircInOut.toString=k;l.CircInOut.__enum__=
l;l.ExpoIn=["ExpoIn",22];l.ExpoIn.toString=k;l.ExpoIn.__enum__=l;l.ExpoOut=["ExpoOut",23];l.ExpoOut.toString=k;l.ExpoOut.__enum__=l;l.ExpoInOut=["ExpoInOut",24];l.ExpoInOut.toString=k;l.ExpoInOut.__enum__=l;l.BackIn=["BackIn",25];l.BackIn.toString=k;l.BackIn.__enum__=l;l.BackOut=["BackOut",26];l.BackOut.toString=k;l.BackOut.__enum__=l;l.BackInOut=["BackInOut",27];l.BackInOut.toString=k;l.BackInOut.__enum__=l;l.ElasticIn=["ElasticIn",28];l.ElasticIn.toString=k;l.ElasticIn.__enum__=l;l.ElasticOut=["ElasticOut",
29];l.ElasticOut.toString=k;l.ElasticOut.__enum__=l;l.ElasticInOut=["ElasticInOut",30];l.ElasticInOut.toString=k;l.ElasticInOut.__enum__=l;var kb=function(){this.ease=l.Linear;this.x=this.y=this.duration=0;da.call(this)};h["ez.display.MoveBy"]=kb;kb.__name__=["ez","display","MoveBy"];kb.__super__=Ua;kb.prototype=p(Ua.prototype,{$xE:function(a){this.$2E(a);var b=a.$RF[3];return this.$0E(a,b.x,b.x.$xF+this.x,b.y,b.y.$xF+this.y,this.duration,this.ease)},__class__:kb});var Va=function(){};h["haxe.IMap"]=
Va;Va.__name__=["haxe","IMap"];Va.prototype={__class__:Va};var va=function(){this.h={}};h["haxe.ds.IntMap"]=va;va.__name__=["haxe","ds","IntMap"];va.__interfaces__=[Va];va.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:va};var ia=function(){this.h={__keys__:{}}};h["haxe.ds.ObjectMap"]=ia;ia.__name__=["haxe","ds","ObjectMap"];
ia.__interfaces__=[Va];ia.assignId=function(a){return a.__id__=++ia.count};ia.getId=function(a){return a.__id__};ia.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++ia.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&
a.push(this.h.__keys__[b]);return A.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:ia};var ja=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};h["haxe.ds._StringMap.StringMapIterator"]=ja;ja.__name__=["haxe","ds","_StringMap","StringMapIterator"];ja.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=
this.keys[this.index++];return null!=v[b]?a.getReserved(b):a.h[b]},__class__:ja};var H=function(){this.h={}};h["haxe.ds.StringMap"]=H;H.__name__=["haxe","ds","StringMap"];H.__interfaces__=[Va];H.prototype={set:function(a,b){null!=v[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=v[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=v[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==
this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},keys:function(){return A.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new ja(this,this.arrayKeys())},__class__:H};var xd=function(){};h["haxe.io.FPHelper"]=xd;xd.__name__=["haxe","io","FPHelper"];xd.i32ToFloat=function(a){var b=
a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};xd.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};var lb=function(){};h["haxe.rtti.Meta"]=lb;lb.__name__=["haxe","rtti","Meta"];lb.getType=function(a){a=lb.getMeta(a);return null==a||null==a.obj?{}:a.obj};lb.getMeta=
function(a){return a.__meta__};var Y=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,Y)};h["js._Boot.HaxeError"]=Y;Y.__name__=["js","_Boot","HaxeError"];Y.wrap=function(a){return a instanceof Error?a:new Y(a)};Y.__super__=Error;Y.prototype=p(Error.prototype,{__class__:Y});var D=function(){};h["js.Boot"]=D;D.__name__=["js","Boot"];D.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=
b)return b;a=D.__nativeClassName(a);return null!=a?D.__resolveNativeClass(a):null};D.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var g=d++,c=2!=g?c+(","+D.__string_rec(a[g],b)):c+D.__string_rec(a[g],b);return c+")"}c=a.length;
d="[";b+="\t";for(f=0;f<c;)g=f++,d+=(0<g?",":"")+D.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(e){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";f=null!=a.hasOwnProperty;for(c in a)f&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+D.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;
default:return String(a)}};D.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var g=d++,g=c[g];if(g==b||D.__interfLoop(g,b))return!0}return D.__interfLoop(a.__super__,b)};D.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case Rd:return"boolean"==typeof a;case Zd:return!0;case Sd:return"number"==typeof a;case $d:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==
typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||D.__interfLoop(D.getClass(a),b))return!0}else{if("object"==typeof b&&D.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==ae&&null!=a.__name__||b==be&&null!=a.__ename__?!0:a.__enum__==b}};D.__nativeClassName=function(a){a=D.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};D.__isNativeObj=function(a){return null!=D.__nativeClassName(a)};D.__resolveNativeClass=function(a){return Xd[a]};
var yd=function(){};h["js.html._CanvasElement.CanvasUtil"]=yd;yd.__name__=["js","html","_CanvasElement","CanvasUtil"];yd.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var f=d[c];++c;f=a.getContext(f,b);if(null!=f)return f}return null};var Wa=function(){};h["kit.asset.AssetPack"]=Wa;Wa.__name__=["kit","asset","AssetPack"];Wa.__interfaces__=[ca];Wa.prototype={__class__:Wa};var Sa=function(){this.$9E=new H;this.$8E=[];this.preferredPixelScale=-1;this.localBase=
this.remoteBase=null;y.call(this)};h["kit.Assets"]=Sa;Sa.__name__=["kit","Assets"];Sa.__interfaces__=[Wa];Sa.__super__=y;Sa.prototype=p(y.prototype,{get_entitySlot:function(){return 2},load:function(a,b){null==b&&(b=-1);0>=b&&(b=this.preferredPixelScale);var c=ka.fromAssets(a,b);null!=this.localBase&&(c.$aG=this.localBase);null!=this.remoteBase&&(c.$bG=this.remoteBase);return this.loadManifest(c,a)},loadManifest:function(a,b){var c=this;if(null!=b){var d=this.$9E,f=null!=v[b]?d.getReserved(b):d.h[b];
if(null==f){var d=this.$9E,g=f=new Jc;null!=v[b]?d.setReserved(b,g):d.h[b]=g;f.$GF=s.$FG.loadAssetPack(a).then(function(a){var d=c.$9E;(null!=v[b]?d.getReserved(b):d.h[b])==f&&c.$8E.push(new mb(a));return f.$$E=a})}return f.$GF}return s.$FG.loadAssetPack(a).then(function(a){c.addPack(a);return a})},addPack:function(a){this.$8E.push(new mb(a));return this},getTexture:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$8E;c<d.length;){var f=d[c];++c;f=f.$$E.getTexture(a,!1);if(null!=f)return f}c=this.$7E();
return null!=c?c.getTexture(a,b):null},getFile:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$8E;c<d.length;){var f=d[c];++c;f=f.$$E.getFile(a,!1);if(null!=f)return f}c=this.$7E();return null!=c?c.getFile(a,b):null},getScene:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$8E;c<d.length;){var f=d[c];++c;var g=f.$CF,g=null!=v[a]?g.getReserved(a):g.h[a];if(null!=g)return g;if(null!=f.$$E.getFile(a+".scene",!1))return c=new N(this,a),f=f.$CF,null!=v[a]?f.setReserved(a,c):f.h[a]=c,c.disposeFiles()}f=
this.$7E();return null!=f?f.getScene(a,b):null},getSceneSymbol:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$8E;c<d.length;){var f=d[c];++c;var g=f.$DF,g=null!=v[a]?g.getReserved(a):g.h[a];if(null!=g)return g;if(null!=f.$$E.getFile(a+".symbol",!1))return c=new N(this,a,!0),f=f.$DF,null!=v[a]?f.setReserved(a,c):f.h[a]=c,c.disposeFiles()}f=this.$7E();return null!=f?f.getSceneSymbol(a,b):null},$7E:function(){return null==this.owner||null==this.owner.parent?null:this.owner.parent._internal_getFromParents(2)},
dispose:function(){y.prototype.dispose.call(this);var a=this.$8E;this.$8E=[];this.$9E=new H;for(var b=0;b<a.length;){var c=a[b];++b;c.$$E.dispose()}},__class__:Sa});var mb=function(a){this.$DF=new H;this.$CF=new H;this.$$E=a};h.$CI=mb;mb.__name__=["$CI"];mb.prototype={__class__:mb};var Jc=function(){};h.$CJ=Jc;Jc.__name__=["$CJ"];Jc.prototype={__class__:Jc};var Ic=function(){this.$HF=this.$IF=null};h.$CL=Ic;Ic.__name__=["$CL"];Ic.prototype={$JF:function(){var a=this.$IF;if(null!=a){this.$IF=null;
for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}}this.$HF=null},__class__:Ic};var Kc=function(){};h["kit.MessageResult"]=Kc;Kc.__name__=["kit","MessageResult"];Kc.prototype={__class__:Kc};var F=function(){this.$RF={};this.active=!0;this.parent=this.firstChild=this.next=this.firstComponent=null};h["kit.Entity"]=F;F.__name__=["kit","Entity"];F.__interfaces__=[ca];F.$SF=function(a){for(var b=null;null!=a;)b=a,a=a.next;return b};F.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=
a.get_entitySlot(),c=this.$RF[b];null!=c&&this.remove(c);this.$RF[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),a=c.get_entitySlot(),delete this.$RF[a],0!=(c.$nE&1)&&(c.onStop(),c.$nE&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,
b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;b?this.$NF(F.$SF(this.firstChild),a):this.$OF(a);return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){if(c==a){this.$MF(b);c.parent=null;c.next=null;break}b=c;c=c.next}},emitMessage:function(a,b){for(var c=!1,d=this.firstComponent;null!=d;){var f=d.next;d.onMessage(a,b)&&(c=!0);d=f}F.$TF.handled=c;return F.$TF},emitMessageToParents:function(a,b){for(var c=!1,d=this;;){var f=d.parent;d.emitMessage(a,
b).handled&&(c=!0);d=f;if(null==d)break}F.$TF.handled=c;return F.$TF},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},yieldForStart:function(){for(var a=this.firstComponent;null!=a;){var b=a.next;0==(a.$nE&1)&&(a.$nE|=1,a.$mE(),a.onStart());a=b}for(a=this.firstChild;null!=a;)b=a.next,a.yieldForStart(),a=b},_internal_getFromParents:function(a,
b){for(var c=this;;){var d=c.$RF[a];null!=b&&(d=d instanceof b?d:null);if(null!=d)return d;c=c.parent;if(null==c)break}return null},$MF:function(a){null!=a?a.next=a.next.next:this.$PF()},$NF:function(a,b){null!=a?(b.next=a.next,a.next=b):this.$OF(b)},$OF:function(a){a.next=this.firstChild;this.firstChild=a},$PF:function(){this.firstChild=this.firstChild.next},__class__:F};var zd=function(){};h["kit.util.PackageLog"]=zd;zd.__name__=["kit","util","PackageLog"];var Lc=function(){};h.$CM=Lc;Lc.__name__=
["$CM"];Lc.prototype={__class__:Lc};var ya=function(){this.$tF=!0};h.$CN=ya;ya.__name__=["$CN"];ya.__interfaces__=[Lc];ya.prototype={init:function(){var a=this,b=null;try{b=window.kit.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";w.$4P(b,"tap-highlight-color","transparent");b.setAttribute("moz-opaque","");this.$cF=new nb(b);this.$aF=new V;this.$ZF=new ob(this.$aF,b);this.$bF=this.$YF(b);this.$UF=new za;this.$pF=b;this.$qF=b.parentElement;this.$qF.style.overflow="hidden";
this.$qF.style.position="relative";w.$4P(this.$qF,"touch-action","none");var d=0,f=function(c){if(!(1E3>c.timeStamp-d)){var f=b.getBoundingClientRect(),g=a.$WF(c,f),f=a.$XF(c,f);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a.$ZF.$GL(g,f,c.button),b.focus());break;case "mousemove":a.$ZF.$KL(g,f);break;case "mouseup":a.$ZF.$HL(g,f,c.button);break;case "DOMMouseScroll":case "mousewheel":a.$ZF.$LL(g,f,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",
f,!1);window.addEventListener("mousemove",f,!1);window.addEventListener("mouseup",f,!1);b.addEventListener("mousewheel",f,!1);b.addEventListener("DOMMouseScroll",f,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var g="undefined"!=typeof window.ontouchstart,f=w.$1P("maxTouchPoints",window.navigator).value|0;if(g||1<f){var e=new pb(this.$aF,g?4:f);this.$dF=e;f=function(b){var c=g?b.changedTouches:[b],f=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "MSPointerMove":case "pointermove":case "touchmove":b.preventDefault();
for(b=0;b<c.length;){var q=c[b];++b;var h=a.$WF(q,f),k=a.$XF(q,f);e.$KL((g?q.identifier:q.pointerId)|0,h,k)}break;case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":for(b=0;b<c.length;)q=c[b],++b,h=a.$WF(q,f),k=a.$XF(q,f),e.$HL((g?q.identifier:q.pointerId)|0,h,k);break;case "MSPointerDown":case "pointerdown":case "touchstart":for(b.preventDefault(),b=0;b<c.length;)q=c[b],++b,h=a.$WF(q,f),k=a.$XF(q,f),e.$GL((g?q.identifier:q.pointerId)|0,h,k)}};g?(b.addEventListener("touchstart",
f,!1),b.addEventListener("touchmove",f,!1),b.addEventListener("touchend",f,!1),b.addEventListener("touchcancel",f,!1)):(b.addEventListener("MSPointerDown",f,!1),b.addEventListener("MSPointerMove",f,!1),b.addEventListener("MSPointerUp",f,!1))}else this.$dF=new qb;var q=window.onerror;window.onerror=function(a,b,c){s.uncaughtError.emit(a);return null!=q?q(a,b,c):!1};var h=w.$1P("hidden",window.document);null!=h.value?(f=function(a){s.hidden.set__(E.field(window.document,h.field))},f(null),window.document.addEventListener(h.prefix+
"visibilitychange",f,!1)):(f=function(a){s.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",f,!1),window.addEventListener("pagehide",f,!1));s.hidden.get_changed().connect(function(b,c){b||(a.$sF=!0)});this.$sF=!1;this.$rF=Date.now();var k=w.$1P("requestAnimationFrame").value;if(null!=k){var l=window.performance,n=null!=l&&w.$3P("now",l);n&&(this.$rF=l.now());var m=null,m=function(c){k(m,b);c=n?l.now():c;a.$VF(c)};k(m,b)}else window.setInterval(function(){var b=Date.now();a.$VF(b)},
16);I.$cL("fullscreen")&&this.$dF.get_supported()&&this.$cF.get_fullscreenSupported()&&this.$dF.up.connect(function(b){a.$cF.fullscreen.$xF||a.$cF.requestFullscreen()});var p=I.$dL();null!=p&&(this.$cF.fullscreen.get_changed().connect(function(b,c){b&&a.$cF.lockOrientation(p)}),this.$cF.lockOrientation(p));this.$UF.$3N.add(new rb);this.$UF.$5I();return(new R).success(null)},loadAssetPack:function(a){return(new B(this,a)).$GF},createLogHandler:function(a){return null},initPlatformSDK:function(a){return a},
$VF:function(a){var b=(a-this.$rF)/1E3;this.$rF=a;s.hidden.$xF||(this.$sF?this.$sF=!1:(this.$tF&&(this.$tF=!1,this.$cF.$oP(null)),this.$UF.$VF(b),this.$UF.$qH(this.$bF)))},getKeyboard:function(){var a=this;if(null==this.$jF){this.$jF=new la;var b=function(b){switch(b.type){case "keydown":a.$jF.$GL(b.keyCode)&&b.preventDefault();break;case "keyup":a.$jF.$HL(b.keyCode)}};this.$pF.addEventListener("keydown",b,!1);this.$pF.addEventListener("keyup",b,!1);if(null!=window.history&&null!=(Pd=window.history,
Qa(Pd,Pd.pushState))){var c=!1,d=function(){window.history.pushState("2DKitBack",null);c=!0};window.addEventListener("popstate",function(b){c&&(null!=a.$jF.backButton.$$F?(d(),a.$jF.backButton.emit()):window.history.back())});if(w.$wP)this.$aF.down.connect(function(a){d()}).once();else d()}}return this.$jF},getExternal:function(){null==this.$hF&&(this.$hF=new sb);return this.$hF},getRenderer:function(){return this.$bF},$WF:function(a,b){return(a.clientX-b.left)*this.$cF.get_width()/b.width},$XF:function(a,
b){return(a.clientY-b.top)*this.$cF.get_height()/b.height},$YF:function(a){try{var b=yd.getContextWebGL(a,{alpha:!1,depth:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});if(null!=b){n.$5I(b);var c=new tb(this.$cF);if(c.$uS)return c}}catch(d){}return new ub(a)},__class__:ya};var S=function(a,b){this.$xF=a;this.$yF=null!=b?new Ha(b):null};h["kit.util.Value"]=S;S.__name__=["kit","util","Value"];S.prototype={watch:function(a){a(this.$xF,this.$xF);return this.get_changed().connect(a)},set__:function(a){var b=
this.$xF;a!=b&&(this.$xF=a,null!=this.$yF&&this.$yF.emit(a,b));return a},get_changed:function(){null==this.$yF&&(this.$yF=new Ha);return this.$yF},__class__:S,__properties__:{get_changed:"get_changed",set__:"set__"}};var Ia=function(a,b){this.$zF=null;this.$1F=a;this.$0F=b;this.stayInList=!0};h["kit.util.SignalConnection"]=Ia;Ia.__name__=["kit","util","SignalConnection"];Ia.__interfaces__=[ca];Ia.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this.$1F&&(this.$1F.$3F(this),
this.$1F=null)},__class__:Ia};var T=function(a){this.$$F=null!=a?new Ia(this,a):null;this.$_F=null};h["kit.util.SignalBase"]=T;T.__name__=["kit","util","SignalBase"];T.prototype={$2F:function(a,b){var c=this,d=new Ia(this,a);this.$$F==T.$AG?this.$4F(function(){c.$7F(d,b)}):this.$7F(d,b);return d},$3F:function(a){var b=this;this.$$F==T.$AG?this.$4F(function(){b.$8F(a)}):this.$8F(a)},$4F:function(a){for(var b=null,c=this.$_F;null!=c;)b=c,c=c.next;a=new Mc(a);null!=b?b.next=a:this.$_F=a},$5F:function(){var a=
this.$$F;this.$$F=T.$AG;return a},$6F:function(a){this.$$F=a;a=this.$_F;for(this.$_F=null;null!=a;)a.$qb(),a=a.next},$7F:function(a,b){if(b)a.$zF=this.$$F,this.$$F=a;else{for(var c=null,d=this.$$F;null!=d;)c=d,d=d.$zF;null!=c?c.$zF=a:this.$$F=a}},$8F:function(a){for(var b=null,c=this.$$F;null!=c;){if(c==a){a=c.$zF;null==b?this.$$F=a:b.$zF=a;break}b=c;c=c.$zF}},__class__:T};var Ha=function(a){T.call(this,a)};h["kit.util.Signal2"]=Ha;Ha.__name__=["kit","util","Signal2"];Ha.__super__=T;Ha.prototype=
p(T.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$2F(a,b)},emit:function(a,b){var c=this;this.$$F==T.$AG?this.$4F(function(){c.$BG(a,b)}):this.$BG(a,b)},$BG:function(a,b){for(var c=this.$5F(),d=c;null!=d;)d.$0F(a,b),d.stayInList||d.dispose(),d=d.$zF;this.$6F(c)},__class__:Ha});var qa=function(a){T.call(this,a)};h["kit.util.Signal0"]=qa;qa.__name__=["kit","util","Signal0"];qa.__super__=T;qa.prototype=p(T.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$2F(a,b)},emit:function(){var a=
this;this.$$F==T.$AG?this.$4F(function(){a.$BG()}):this.$BG()},$BG:function(){for(var a=this.$5F(),b=a;null!=b;)b.$0F(),b.stayInList||b.dispose(),b=b.$zF;this.$6F(a)},__class__:qa});var P=function(a){T.call(this,a)};h["kit.util.Signal1"]=P;P.__name__=["kit","util","Signal1"];P.__super__=T;P.prototype=p(T.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$2F(a,b)},emit:function(a){var b=this;this.$$F==T.$AG?this.$4F(function(){b.$BG(a)}):this.$BG(a)},$BG:function(a){for(var b=this.$5F(),
c=b;null!=c;)c.$0F(a),c.stayInList||c.dispose(),c=c.$zF;this.$6F(b)},__class__:P});var C=function(a,b){this.$4E=null;S.call(this,a,b)};h["kit.animation.AnimatedFloat"]=C;C.__name__=["kit","animation","AnimatedFloat"];C.__super__=S;C.prototype=p(S.prototype,{set__:function(a){this.$4E=null;return S.prototype.set__.call(this,a)},update:function(a){null!=this.$4E&&(S.prototype.set__.call(this,this.$4E.update(a)),this.$4E.isComplete()&&(this.$4E=null))},animate:function(a,b,c,d){this.set__(a);this.animateTo(b,
c,d)},animateTo:function(a,b,c){this.set_behavior(new vb(this.$xF,a,b,c))},set_behavior:function(a){this.$4E=a;this.update(0);return a},__class__:C,__properties__:p(S.prototype.__properties__,{set_behavior:"set_behavior"})});var s=function(){};h["kit.System"]=s;s.__name__=["kit","System"];s.$CG=function(){null==s.$GG&&(s.$GG=s.$FG.init());return s.$GG};var Nc=function(a){this.$IG=a};h["kit.util.Logger"]=Nc;Nc.__name__=["kit","util","Logger"];Nc.prototype={__class__:Nc};var wb=function(){};h["kit.Log"]=
wb;wb.__name__=["kit","Log"];wb.__super__=zd;wb.prototype=p(zd.prototype,{__class__:wb});var Oc=function(){this.$JG=0};h["kit.SpeedAdjuster"]=Oc;Oc.__name__=["kit","SpeedAdjuster"];Oc.__super__=y;Oc.prototype=p(y.prototype,{get_entitySlot:function(){return 10},onUpdate:function(a){0<this.$JG&&(a=this.$JG,this.$JG=0);this.scale.update(a)},__class__:Oc});var Pc=function(){};h["kit.animation.Behavior"]=Pc;Pc.__name__=["kit","animation","Behavior"];Pc.prototype={__class__:Pc};var t=function(){};h["kit.animation.Ease"]=
t;t.__name__=["kit","animation","Ease"];t.linear=function(a){return a};t.quadIn=function(a){return a*a};t.quadOut=function(a){return a*(2-a)};t.quadInOut=function(a){return 0.5>=a?a*a*2:1- --a*a*2};t.cubeIn=function(a){return a*a*a};t.cubeOut=function(a){return 1+--a*a*a};t.cubeInOut=function(a){return 0.5>=a?a*a*a*4:1+--a*a*a*4};t.quartIn=function(a){return a*a*a*a};t.quartOut=function(a){return 1- --a*a*a*a};t.quartInOut=function(a){if(0.5>=a)return a*a*a*a*8;a=2*a-2;return(1-a*a*a*a)/2+0.5};t.quintIn=
function(a){return a*a*a*a*a};t.quintOut=function(a){return--a*a*a*a*a+1};t.quintInOut=function(a){return 1>(a*=2)?a*a*a*a*a/2:((a-=2)*a*a*a*a+2)/2};t.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};t.sineOut=function(a){return Math.sin(1.5707963267948966*a)};t.sineInOut=function(a){return 0.5-Math.cos(3.141592653589793*a)/2};t.bounceIn=function(a){a=1-a;return 0.36363636363636365>a?1-7.5625*a*a:0.7272727272727273>a?1-(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75):0.9090909090909091>
a?1-(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375):1-(7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375)};t.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};t.bounceInOut=function(a){if(0.5>a)return a=1-2*a,0.36363636363636365>a?(1-7.5625*
a*a)/2:0.7272727272727273>a?(1-(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75))/2:0.9090909090909091>a?(1-(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375))/2:(1-(7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375))/2;a=2*a-1;return 0.36363636363636365>a?7.5625*a*a/2+0.5:0.7272727272727273>a?(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75)/2+0.5:0.9090909090909091>a?(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375)/2+0.5:(7.5625*(a-0.9545454545454546)*
(a-0.9545454545454546)+0.984375)/2+0.5};t.circIn=function(a){return 1-Math.sqrt(1-a*a)};t.circOut=function(a){--a;return Math.sqrt(1-a*a)};t.circInOut=function(a){return 0.5>=a?(Math.sqrt(1-a*a*4)-1)/-2:(Math.sqrt(1-(2*a-2)*(2*a-2))+1)/2};t.expoIn=function(a){return Math.pow(2,10*(a-1))};t.expoOut=function(a){return-Math.pow(2,-10*a)+1};t.expoInOut=function(a){return 0.5>a?Math.pow(2,10*(2*a-1))/2:(-Math.pow(2,-10*(2*a-1))+2)/2};t.backIn=function(a){return a*a*(2.70158*a-1.70158)};t.backOut=function(a){return 1-
--a*a*(-2.70158*a-1.70158)};t.backInOut=function(a){a*=2;if(1>a)return a*a*(2.70158*a-1.70158)/2;a-=2;return(1-a*a*(-2.70158*a-1.70158))/2+0.5};t.elasticIn=function(a){return-(Math.pow(2,10*--a)*Math.sin(1.5707963267948966*(a-0.25464790894703254*Math.asin(1))/0.4))};t.elasticOut=function(a){return Math.pow(2,-10*a)*Math.sin(1.5707963267948966*(a-0.25464790894703254*Math.asin(1))/0.4)+1};t.elasticInOut=function(a){return 0.5>a?-0.5*Math.pow(2,10*(a-=0.5))*Math.sin(1.5707963267948966*(a-0.1)/0.4):Math.pow(2,
-10*(a-=0.5))*Math.sin(1.5707963267948966*(a-0.1)/0.4)*0.5+1};var vb=function(a,b,c,d){this.$WG=a;this.$XG=b;this.$YG=c;this.elapsed=0;this.$ZG=null!=d?d:t.linear};h["kit.animation.Tween"]=vb;vb.__name__=["kit","animation","Tween"];vb.__interfaces__=[Pc];vb.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this.$YG?this.$XG:this.$WG+(this.$XG-this.$WG)*this.$ZG(this.elapsed/this.$YG)},isComplete:function(){return this.elapsed>=this.$YG},__class__:vb};var sa=function(){};h["kit.asset.Asset"]=
sa;sa.__name__=["kit","asset","Asset"];sa.__interfaces__=[ca];sa.prototype={__class__:sa};var m={__ename__:!0,__constructs__:"WEBP PNG JPG GIF _2DKD _2DKP _2DKE MP3 M4A OPUS OGG WAV WOFF TTF OTF SWF MP4 WEBM MOV Data".split(" "),WEBP:["WEBP",0]};m.WEBP.toString=k;m.WEBP.__enum__=m;m.PNG=["PNG",1];m.PNG.toString=k;m.PNG.__enum__=m;m.JPG=["JPG",2];m.JPG.toString=k;m.JPG.__enum__=m;m.GIF=["GIF",3];m.GIF.toString=k;m.GIF.__enum__=m;m._2DKD=["_2DKD",4];m._2DKD.toString=k;m._2DKD.__enum__=m;m._2DKP=["_2DKP",
5];m._2DKP.toString=k;m._2DKP.__enum__=m;m._2DKE=["_2DKE",6];m._2DKE.toString=k;m._2DKE.__enum__=m;m.MP3=["MP3",7];m.MP3.toString=k;m.MP3.__enum__=m;m.M4A=["M4A",8];m.M4A.toString=k;m.M4A.__enum__=m;m.OPUS=["OPUS",9];m.OPUS.toString=k;m.OPUS.__enum__=m;m.OGG=["OGG",10];m.OGG.toString=k;m.OGG.__enum__=m;m.WAV=["WAV",11];m.WAV.toString=k;m.WAV.__enum__=m;m.WOFF=["WOFF",12];m.WOFF.toString=k;m.WOFF.__enum__=m;m.TTF=["TTF",13];m.TTF.toString=k;m.TTF.__enum__=m;m.OTF=["OTF",14];m.OTF.toString=k;m.OTF.__enum__=
m;m.SWF=["SWF",15];m.SWF.toString=k;m.SWF.__enum__=m;m.MP4=["MP4",16];m.MP4.toString=k;m.MP4.__enum__=m;m.WEBM=["WEBM",17];m.WEBM.toString=k;m.WEBM.__enum__=m;m.MOV=["MOV",18];m.MOV.toString=k;m.MOV.__enum__=m;m.Data=["Data",19];m.Data.toString=k;m.Data.__enum__=m;var Qc=function(a,b,c,d){this.cacheKey=null;this.name=a;this.url=b;this.format=c;this.bytes=d};h["kit.asset.AssetEntry"]=Qc;Qc.__name__=["kit","asset","AssetEntry"];Qc.prototype={__class__:Qc};var xb=function(){};h["kit.asset.File"]=xb;
xb.__name__=["kit","asset","File"];xb.__interfaces__=[sa];xb.prototype={__class__:xb};var ka=function(){this.$aG=this.$bG=null;this.pixelScale=1;this.$8E=[]};h["kit.asset.Manifest"]=ka;ka.__name__=["kit","asset","Manifest"];ka.fromAssets=function(a,b,c){null==c&&(c=!0);null==b&&(b=-1);b=1;c=[];for(var d=I.$cL("assets"),f=0,g=E.fields(d);f<g.length;){var e=g[f];++f;if(O.startsWith(e,a)){var q=A.substr(e,a.length,null);if(0<q.length){var h=new xa("^-([\\d\\.]+)%$","");h.match(q)&&(q=parseFloat(h.matched(1)),
c.push(new yb(e,q/100)))}else c.push(new yb(e,1))}}if(0==c.length)return null;c.sort(function(a,b){return E.compare(a.$gG,b.$gG)});a=null;for(f=0;f<c.length&&!(g=c[f],++f,a=g,g.$gG>=b););b=E.field(d,a.$fG);c=new ka;c.$aG="assets";c.pixelScale=a.$gG;d=encodeURIComponent(a.$fG);for(a=0;a<b.length;){f=b[a];++a;g=f.name;e=d;q=0;for(h=g.split("/");q<h.length;){var k=h[q];++q;e+="/"+encodeURIComponent(k)}O.endsWith(g,".__gz.txt")&&(g=A.substr(g,0,g.length-9));q=ka.$cG(g);q!=m.Data&&(g=ma.removeFileExtension(g));
g=c.add(g,e,f.bytes,q);null!=f.md5&&(g.cacheKey="assets:"+Z.string(f.md5))}return c};ka.$cG=function(a){a=ma.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "2dkd":return m._2DKD;case "2dke":return m._2DKE;case "2dkp":return m._2DKP;case "gif":return m.GIF;case "jpeg":case "jpg":return m.JPG;case "m4a":return m.M4A;case "mov":return m.MOV;case "mp3":return m.MP3;case "mp4":return m.MP4;case "ogg":return m.OGG;case "opus":return m.OPUS;case "otf":return m.OTF;case "png":return m.PNG;case "swf":return m.SWF;
case "ttf":return m.TTF;case "wav":return m.WAV;case "webm":return m.WEBM;case "webp":return m.WEBP;case "woff":return m.WOFF}return m.Data};ka.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=ka.$cG(b));a=new Qc(a,b,d,c);this.$8E.push(a);return a},iterator:function(){return A.iter(this.$8E)},getFullURL:function(a){var b=null!=this.$bG&&ka.$eG?this.$bG:this.$aG;return null!=b?ma.joinPath(b,a.url):a.url},__class__:ka};var yb=function(a,b){this.$fG=a;this.$gG=b};h.$CO=yb;yb.__name__=["$CO"];
yb.prototype={__class__:yb};var wa=function(){this.onStarted=this.onUpdated=this.onStopped=null;this.spawned=!0};h["kit.creator.CreatorObject"]=wa;wa.__name__=["kit","creator","CreatorObject"];wa.__super__=y;wa.prototype=p(y.prototype,{get_entitySlot:function(){return 4},onStart:function(){this.$nE|=2},onUpdate:function(a){0!=(this.$nE&2)&&(this.$nE&=-3,null!=this.onStarted&&(this.owner.yieldForStart(),this.owner.emitMessageToParents(this.onStarted,this.owner)));null!=this.onUpdated&&this.owner.emitMessageToParents(this.onUpdated,
this.owner)},onStop:function(){this.$nE&=-3;null!=this.onStopped&&this.owner.emitMessageToParents(this.onStopped,this.owner)},__class__:wa});var zb=function(){this.offsetX=this.offsetY=0;this.active=!0;this.following=null};h["kit.creator.Camera"]=zb;zb.__name__=["kit","creator","Camera"];zb.__super__=wa;zb.prototype=p(wa.prototype,{onStart:function(){wa.prototype.onStart.call(this);var a=this.owner.$RF[3];if(null==a){var b=this.owner,a=new u;b.add(a);this.info.transformSprite(a);a.set_visible(!1)}this.active&&
(this.owner._internal_getFromParents(3,$).camera=this)},onUpdate:function(a){wa.prototype.onUpdate.call(this,a);this.zoom.update(a)},$iG:function(a){var b=this.owner.$RF[3];if(null!=this.following){var c=this.following.$RF[3];null!=c&&b.setXY(c.x.$xF+this.offsetX,c.y.$xF+this.offsetY)}for(var c=this.zoom.$xF,d=b.y.$xF-0.5*a.cameraHeight.$xF/c,b=-Aa.clamp(b.x.$xF-0.5*a.cameraWidth.$xF/c,0,a.info.width*a.info.tileWidth-a.cameraWidth.$xF/c),d=-Aa.clamp(d,0,a.info.height*a.info.tileHeight-a.cameraHeight.$xF/
c),f=0,g=a.info.layers;f<g.length;){var e=g[f];++f;var q=e.name,h=a.layers,q=(null!=v[q]?h.getReserved(q):h.h[q]).$RF[3],h=e.parallaxX,k=e.parallaxY,h=(h>k?h:k)*(c-1)+1;q.setScale(h);q.x.set__(e.parallaxX*b*h);q.y.set__(e.parallaxY*d*h)}},__class__:zb});var Ab=function(a){this.$nG=new H;y.call(this);this.scene=a;this.$jG()};h["kit.creator.CreatorScript"]=Ab;Ab.__name__=["kit","creator","CreatorScript"];Ab.__super__=y;Ab.prototype=p(y.prototype,{get_entitySlot:function(){return 0},onMessage:function(a,
b){var c=!1,d=this.$nG,d=null!=v[a]?d.getReserved(a):d.h[a];if(null!=d){var f=b instanceof F?b:null;if(null!=f)for(var g=this.owner;null!=g;)g==s.root&&(da.runSequence(d.actions,f),c=!0),g=g.parent}return y.prototype.onMessage.call(this,a,b)?!0:c},$jG:function(){this.groups=[];for(var a=0,b=this.scene.script.groups;a<b.length;){var c=b[a];++a;var d=c.actions.map(Qa(this,this.$kG)).filter(function(a){return null!=a}),d=new Rc(c,d);this.groups.push(d);var c=c.name,f=this.$nG;null!=v[c]?f.setReserved(c,
d):f.h[c]=d}},$kG:function(a){var b=ba.resolveClass(a.type);if(null==b)return null;var c=ba.createInstance(b,[]);c.script=this;for(var d=a.properties.keys();d.hasNext();){var f=d.next(),g=Ba.$4L(b,f);if(null!=g){var e=a.properties,e=null!=v[f]?e.getReserved(f):e.h[f],g=this.$lG(g,e,a.type+"."+f);null!=g&&E.setProperty(c,f,g)}}b=c instanceof Bb?c:null;null!=b&&(b.subActions=a.subActions.map(Qa(this,this.$kG)).filter(function(a){return null!=a}));return c},$lG:function(a,b,c){var d=Ba.$lG(a,b);if(null!=
d)return d;switch(a[1]){case 4:a=a[2];var d=[],f=0;for(b=b.split(",");f<b.length;){var g=b[f];++f;d.push(this.$lG(a,O.trim(g),c))}return d;case 6:switch(a[2]){case Xa:return this.scene.getLayer(b,!1);case ua:return this.scene.getObject(b,!1)}}return null},__class__:Ab});var Rc=function(a,b){this.info=a;this.actions=b};h["kit.creator.Group"]=Rc;Rc.__name__=["kit","creator","Group"];Rc.prototype={__class__:Rc};var Bb=function(){this.subActions=[]};h["kit.creator.GroupAction"]=Bb;Bb.__name__=["kit",
"creator","GroupAction"];Bb.__super__=da;Bb.prototype=p(da.prototype,{$xE:function(a){return da.runSequence(this.subActions,a)},__class__:Bb});var Sc=function(){};h["kit.filter.FilterContext"]=Sc;Sc.__name__=["kit","filter","FilterContext"];Sc.prototype={__class__:Sc};var Cb=function(){this.$sG=[];this.$rG=[]};h.$CP=Cb;Cb.__name__=["$CP"];Cb.__interfaces__=[Sc];Cb.prototype={$pG:function(a,b,c,d){var f=this.$rG.pop();null!=f?f.$HM(c,d):f=new Tc(c,d);f.$DM=a;f.$EM=b;this.$sG.unshift(f);return f.$FM},
apply:function(a){a.active&&a.apply(this)},render:function(a){this.$sG[0].$IM(a)},$qG:function(){var a=this.$sG.shift();this.$rG.push(a);return a.$FM},__class__:Cb};var X=function(){this.identity()};h["kit.math.Matrix"]=X;X.__name__=["kit","math","Matrix"];X.multiply=function(a,b,c){null==c&&(c=new X);var d=a.m00,f=a.m01,g=a.m02,e=a.m10,q=a.m11;a=a.m12;var h=b.m00,k=b.m01,l=b.m02,n=b.m10,m=b.m11;b=b.m12;c.m00=d*h+f*n;c.m01=d*k+f*m;c.m02=d*l+f*b+g;c.m10=e*h+q*n;c.m11=e*k+q*m;c.m12=e*l+q*b+a;return c};
X.prototype={set:function(a,b,c,d,f,g){this.m00=a;this.m01=c;this.m02=f;this.m10=b;this.m11=d;this.m12=g},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,f){var g=Math.sin(f);f=Math.cos(f);this.set(f*c,g*c,-g*d,f*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m10/a,-this.m01/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-
this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new ha);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},$tG:function(a,b,c){for(var d=0;d<b;){var f=a[d],g=a[d+1];c[d++]=f*this.m00+g*this.m01+this.m02;c[d++]=f*this.m10+g*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-
a*this.m10)/d;return!0},clone:function(a){null==a&&(a=new X);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:X};var ha=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["kit.math.Point"]=ha;ha.__name__=["kit","math","Point"];ha.prototype={add:function(a,b){this.x+=a;this.y+=b},normalize:function(){var a=this.magnitude();this.x/=a;this.y/=a},dot:function(a,b){return this.x*a+this.y*b},multiply:function(a){this.x*=a;this.y*=a},magnitude:function(){return Math.sqrt(this.x*
this.x+this.y*this.y)},__class__:ha};var u=function(){this.$BH=null;this.$5G=this.$6G=0;this.$4G=null;var a=this;y.call(this);this.$nE|=150;this.$3G=new X;var b=function(b,d){a.$nE|=24};this.x=new C(0,b);this.y=new C(0,b);this.rotation=new C(0,b);this.scaleX=new C(1,b);this.scaleY=new C(1,b);this.anchorX=new C(0,b);this.anchorY=new C(0,b);this.alpha=new C(1)};h["kit.display.Sprite"]=u;u.__name__=["kit","display","Sprite"];u.hitTest=function(a,b,c){if(!a.active)return null;var d=a.$RF[3];if(null!=
d){if(6!=(d.$nE&6)||null!=d.$BH&&null!=d.$BH.$qI||!d.getLocalMatrix().inverseTransform(b,c,u.$IH))return null;b=u.$IH.x;c=u.$IH.y;var f=d.get_scissor();if(null!=f&&!f.contains(b,c))return null}a=u.$FH(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};u.getBounds=function(a,b){null==b&&(b=new ea);b.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);u.$GH(a,null,b);b.width-=b.x;b.height-=b.y;return b};u.render=function(a,b){u.$CH(a,b,!0)};
u.$CH=function(a,b,c){if(a.active){var d=null,f=null,g=a.$RF[3];if(null!=g){var e=g.alpha.$xF;if(0==(g.$nE&2)||0>=e)return;var q=g.$BH;if(c&&null!=q&&null!=q.$qI)return;b.save();null!=q&&null!=q.$pI&&0!=(g.$nE&128)&&(c=q.$pI.owner,null!=c&&(b.beginMask(),u.$CH(c,b,!1),b.endMask()));if(null!=q){var h=!1;c=!1;for(var k=0,l=0,n=0,m=0,p=0,r=q.$rI;p<r.length;){var t=r[p];++p;t.active&&(h=!0,c=c?!0:!t.outputOnly,k=Math.max(k,t.paddingTop),l=Math.max(l,t.paddingRight),n=Math.max(n,t.paddingBottom),m=Math.max(m,
t.paddingLeft))}if(h&&s.$FG.$bF.get_filterSupported()){f=g.$xG();h=null!=f?f.getViewMatrix():null;p=g.getViewMatrix();f=new ea;f.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);var v=q.$sI;if(null!=v){var r=v.x,t=v.y,w=r+v.width,v=t+v.height;w>r&&v>t&&(u.$HH(p,r,t,f),u.$HH(p,w,t,f),u.$HH(p,w,v,f),u.$HH(p,r,v,f))}else u.$GH(a,h,f);f.width-=f.x;f.height-=f.y;if(!f.get_empty()){f.x-=m;f.y-=k;f.width+=m+l;f.height+=k+n;d=u.$KH.$pG(f.x,f.y,Math.ceil(f.width),
Math.ceil(f.height));c&&(d=d.get_graphics(),d.save(),d.translate(-f.x,-f.y),d.transform(p.m00,p.m10,p.m01,p.m11,p.m02,p.m12),u.$EH(g,d),u.$DH(a,d),d.restore());d=0;for(c=q.$rI;d<c.length;)k=c[d],++d,u.$KH.apply(k);d=u.$KH.$qG();null!=h&&(c=h.clone(u.$JH),c.invert(),b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12))}}}1>e&&b.multiplyAlpha(e);null==d&&(e=g.getLocalMatrix(),b.transform(e.m00,e.m10,e.m01,e.m11,e.m02,e.m12));null!=q&&(1==q.$lI.$xF&&1==q.$mI.$xF&&1==q.$nI.$xF||b.tint(q.$lI.$xF,q.$mI.$xF,
q.$nI.$xF),null!=q.$jI&&b.setBlendMode(q.$jI),q=q.$kI,null!=q&&null==d&&b.applyScissor(q.x,q.y,q.width,q.height));null==d?u.$EH(g,b):b.drawSubTexture(d,f.x,f.y,0,0,f.width,f.height)}null==d&&u.$DH(a,b);null!=g&&b.restore()}};u.$DH=function(a,b){var c=a.$RF[8];if(null!=c)for(var c=c.occludedScenes,d=0;d<c.length;){var f=c[d];++d;u.render(f,b)}for(c=a.firstChild;null!=c;)d=c.next,u.render(c,b),c=d};u.$EH=function(a,b){a.draw(b);var c=a.$BH;null!=c&&null!=c.$oI&&c.$oI.render(b)};u.$FH=function(a,b,c){if(null!=
a){var d=u.$FH(a.next,b,c);return null!=d?d:u.hitTest(a,b,c)}return null};u.$GH=function(a,b,c){if(a.active){var d=a.$RF[3];if(null!=d){if(0==(d.$nE&2)||null!=d.$BH&&null!=d.$BH.$qI)return;b=null!=b?X.multiply(b,d.getLocalMatrix()):d.getLocalMatrix();var f=d.getNaturalWidth(),d=d.getNaturalHeight();0<f&&0<d&&(u.$HH(b,0,0,c),u.$HH(b,f,0,c),u.$HH(b,f,d,c),u.$HH(b,0,d,c))}f=a.$RF[8];if(null!=f)for(var f=f.occludedScenes,d=0,g=f.length;d<g;)u.$GH(f[d],b,c),++d;for(a=a.firstChild;null!=a;)f=a.next,u.$GH(a,
b,c),a=f}};u.$HH=function(a,b,c,d){a=a.transform(b,c,u.$IH);b=a.x;c=a.y;b<d.x&&(d.x=b);c<d.y&&(d.y=c);b>d.width&&(d.width=b);c>d.height&&(d.height=c)};u.__super__=y;u.prototype=p(y.prototype,{get_entitySlot:function(){return 3},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b?b<this.getNaturalHeight():!1},getLocalMatrix:function(){0!=(this.$nE&8)&&(this.$nE&=-9,this.$3G.compose(this.x.$xF,this.y.$xF,
this.scaleX.$xF,this.scaleY.$xF,3.141592653589793*this.rotation.$xF/180),this.$3G.translate(-this.anchorX.$xF,-this.anchorY.$xF));return this.$3G},getViewMatrix:function(){if(this.$wG()){var a=this.$xG();this.$4G=null!=a?X.multiply(a.getViewMatrix(),this.getLocalMatrix(),this.$4G):this.getLocalMatrix().clone(this.$4G);this.$nE&=-17;null!=a&&(this.$6G=a.$5G);++this.$5G}return this.$4G},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/
2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setTint:function(a){if(null!=this.$BH||16777215!=a)this.get_tintR().set__((a&16711680)/16711680),this.get_tintG().set__((a&65280)/65280),this.get_tintB().set__((a&255)/255);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},onAdded:function(){0!=(this.$nE&
64)&&this.$yG()},onRemoved:function(){null!=this.$AH&&(this.$AH.dispose(),this.$AH=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a);var b=this.$BH;if(null!=b){b.$lI.update(a);b.$mI.update(a);b.$nI.update(a);for(var c=0,b=b.$rI;c<b.length;){var d=b[c];++c;d.active&&d.update(a)}}},draw:function(a){},$wG:function(){if(0!=(this.$nE&16))return!0;var a=this.$xG();
return null==a?!1:this.$6G==a.$5G?a.$wG():!0},$xG:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a.$RF[3];if(null!=b)return b;a=a.parent}return null},$yG:function(){var a=this;null==this.$AH&&s.$FG.$UF.$6N(function(){a.$AH=s.$FG.$aF.move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.$xG()}null!=a.$_G&&0!=(a.$nE&64)&&a.$_G.emit(b);a.$nE&=-65;null!=a.$AH&&(a.$AH.dispose(),a.$AH=null)})})},get_scissor:function(){return null!=this.$BH?this.$BH.$kI:
null},set_scissor:function(a){if(null==this.$BH){if(null==a)return null;this.$BH=new Ja}return this.$BH.$kI=a},get_tintR:function(){null==this.$BH&&(this.$BH=new Ja);return this.$BH.$lI},get_tintG:function(){null==this.$BH&&(this.$BH=new Ja);return this.$BH.$mI},get_tintB:function(){null==this.$BH&&(this.$BH=new Ja);return this.$BH.$nI},set_visible:function(a){this.$nE=Ad.set(this.$nE,2,a);return a},$zG:function(a){this.$1G(a);null!=this.$7G&&this.$7G.emit(a)},$0G:function(a){this.$1G(a);null!=this.$8G&&
this.$8G.emit(a)},$1G:function(a){0==(this.$nE&64)&&(this.$nE|=64,null!=this.$$G||null!=this.$_G)&&(null!=this.$$G&&this.$$G.emit(a),this.$yG())},$2G:function(a){1==a.source[1]&&(null!=this.$_G&&0!=(this.$nE&64)&&this.$_G.emit(a),this.$nE&=-65,null!=this.$AH&&(this.$AH.dispose(),this.$AH=null));null!=this.$9G&&this.$9G.emit(a)},__class__:u,__properties__:p(y.prototype.__properties__,{get_tintB:"get_tintB",get_tintG:"get_tintG",get_tintR:"get_tintR",set_visible:"set_visible",set_scissor:"set_scissor",
get_scissor:"get_scissor"})});var jb=function(a){this.$VH=new F;this.state=new S(null);u.call(this);this.$UH=a};h["kit.creator.ObjectSprite"]=jb;jb.__name__=["kit","creator","ObjectSprite"];jb.__super__=u;jb.prototype=p(u.prototype,{$TH:function(a,b){var c=this.$UH.tile;if(null==c.texture){var d=c.properties;a.x.set__(-parseFloat(null!=v.boundsX?d.getReserved("boundsX"):d.h.boundsX));c=c.properties;a.y.set__(-parseFloat(null!=v.boundsY?c.getReserved("boundsY"):c.h.boundsY))}this.$VH.add(a);this.state.set__(b)},
onStart:function(){u.prototype.onStart.call(this);if(null!=this.owner&&(this.owner.addChild(this.$VH),null==this.state.$xF)){var a=null,b=this.$UH.tile,c=!1;if(null!=b.texture)a=new Fa(b.texture);else{var d=this.owner._internal_getFromParents(2),f=b.properties,f=null!=v.symbol?f.getReserved("symbol"):f.h.symbol,g=b.properties;null!=(null!=v.scene?g.getReserved("scene"):g.h.scene)?(d=d.getSceneSymbol(f),a=d.createSprite(),this.$VH.add(d.createScript()),b=b.properties,2<=parseFloat(null!=v.version?
b.getReserved("version"):b.h.version)&&(c=!0)):(d=b.tileset.properties,null==(null!=v.library?d.getReserved("library"):d.h.library)&&(d=b.tileset.properties,null==(null!=v.texturepacker?d.getReserved("texturepacker"):d.h.texturepacker)&&(d=b.properties,null==(null!=v.spine?d.getReserved("spine"):d.h.spine)&&(b=b.properties,null!=v.video&&b.getReserved("video")))))}this.$TH(a,null);c&&(this.$VH.yieldForStart(),a.setXY(0,0),c=u.getBounds(this.$VH),c.get_empty()||a.setXY(-c.x+0,-c.y+(this.$UH.height-
c.height)),this.setScale(1))}},__class__:jb});var Ta=function(){this.$XH=new H;this.changed=new Ha;y.call(this)};h["kit.creator.PropertyBag"]=Ta;Ta.__name__=["kit","creator","PropertyBag"];Ta.__super__=y;Ta.prototype=p(y.prototype,{get_entitySlot:function(){return 14},set:function(a,b){var c=this.$WH(a);null!=c?c.$xF!=b&&(c.set__(b),this.changed.emit(a,b)):(c=this.$XH,(null!=v[a]?c.getReserved(a):c.h[a])!=b&&(c=this.$XH,null!=v[a]?c.setReserved(a,b):c.h[a]=b,this.changed.emit(a,b)));return this},
$WH:function(a){switch(a){case "alpha":case "anchorX":case "anchorY":case "rotation":case "scaleX":case "scaleY":case "x":case "y":var b=this.owner.$RF[3];if(null!=b&&(a=E.field(b,a),a instanceof C))return a}return null},__class__:Ta});var N=function(a,b,c){null==c&&(c=!1);this.$aH=a;this.$mG=a.getFile(b+(c?".symbol":".scene"));this.symbol=c;a=b.lastIndexOf("/");this.$bH=0<=a?A.substr(b,0,a+1):"";this.$jG();this.reloadCount=new S(0)};h["kit.creator.SceneInfo"]=N;N.__name__=["kit","creator","SceneInfo"];
N.getRequiredAssetPacks=function(a){var b=I.$cL("scenes");a=E.field(b,a);return null!=a?a:[]};N.$dH=function(a){var b=new H;if(null!=a)for(var c=0,d=E.fields(a);c<d.length;){var f=d[c];++c;if(!O.startsWith(f,"//")){var g=N.$eH(E.field(a,f));null!=g&&(null!=v[f]?b.setReserved(f,g):b.h[f]=g)}}return b};N.$eH=function(a){null!=a&&(a=O.trim(a),0==a.length&&(a=null));return a};N.$fH=function(a,b){return null!=a?a:b};N.prototype={disposeFiles:function(){this.$mG.dispose();return this},createSprite:function(){return new $(this)},
createScript:function(){return new Ab(this)},getLayer:function(a,b){for(var c=0,d=this.layers;c<d.length;){var f=d[c];++c;if(f.name==a)return f}return null},getObject:function(a,b){var c=this.$cH;return null!=v[a]?c.getReserved(a):c.h[a]},$YH:function(a){return this.$aH.getTexture(this.$bH+ma.removeFileExtension(a),!1)},$ZH:function(a){return this.$aH.getTexture(a)},$jG:function(){var a=this,b=this.$mG.toJson();this.width=b.width;this.height=b.height;this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;
this.tilesets=b.tilesets.map(function(b){return new Uc(a,b)});this.backgroundColor=null!=b.backgroundcolor?Z.parseInt(O.replace(b.backgroundcolor,"#","0x")):8421504;this.tiles=new va;for(var c=0,d=this.tilesets;c<d.length;){var f=d[c];++c;for(var g=0,f=f.tiles;g<f.length;){var e=f[g];++g;this.tiles.h[e.id]=e}}this.layers=b.layers.map(function(b){return new Xa(a,b)});this.properties=N.$dH(b.properties);this.script=new Vc(b.script);this.$cH=new H;b=0;for(c=this.layers;b<c.length;)if(g=c[b],++b,null!=
g.objects)for(d=0,g=g.objects;d<g.length;)if(f=g[d],++d,null!=f.name){var e=f.name,q=this.$cH;null!=v[e]?q.setReserved(e,f):q.h[e]=f}},__class__:N};var Ca={__ename__:!0,__constructs__:["Tile","Object"],Tile:["Tile",0]};Ca.Tile.toString=k;Ca.Tile.__enum__=Ca;Ca.Object=["Object",1];Ca.Object.toString=k;Ca.Object.__enum__=Ca;var Xa=function(a,b){this.parallaxX=this.parallaxY=1;this.tiles=this.objects=null;var c=this;this.scene=a;this.name=N.$eH(b.name);var d;switch(b.type){case "objectgroup":d=Ca.Object;
break;case "tilelayer":d=Ca.Tile;break;default:d=null}this.type=d;this.width=b.width;this.height=b.height;this.opacity=b.opacity;this.visible=b.visible;null!=b.data&&(this.tiles=b.data.map(function(b){return 0!=b?a.tiles.h[b]:null}));null!=b.objects&&(this.objects=b.objects.map(function(a){return new ua(c,a)}),"index"!=b.draworder&&this.objects.sort(function(a,b){return E.compare(a.y+a.height,b.y+b.height)}));null!=b.parallaxX&&(this.parallaxX=b.parallaxX,this.parallaxY=b.parallaxY);this.tileCollisions=
b.collisions;this.properties=N.$dH(b.properties)};h["kit.creator.LayerInfo"]=Xa;Xa.__name__=["kit","creator","LayerInfo"];Xa.prototype={__class__:Xa};var J={__ename__:!0,__constructs__:["Rectangle","Ellipse","Polygon","Polyline","Tile"],Rectangle:["Rectangle",0]};J.Rectangle.toString=k;J.Rectangle.__enum__=J;J.Ellipse=["Ellipse",1];J.Ellipse.toString=k;J.Ellipse.__enum__=J;J.Polygon=["Polygon",2];J.Polygon.toString=k;J.Polygon.__enum__=J;J.Polyline=["Polyline",3];J.Polyline.toString=k;J.Polyline.__enum__=
J;J.Tile=["Tile",4];J.Tile.toString=k;J.Tile.__enum__=J;var Uc=function(a,b){this.offsetX=this.offsetY=0;this.atlas=null;this.scene=a;this.name=N.$eH(b.name);this.spacing=b.spacing;this.margin=b.margin;var c=b.tileoffset;null!=c&&(this.offsetX=c.x,this.offsetY=c.y);this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;if(null!=b.image){this.atlas=a.$YH(b.image);null==this.atlas&&(this.atlas=a.$ZH(this.name));var c=this.atlas.get_width()-2*this.margin,d=this.atlas.get_height()-2*this.margin,c=(c+
this.spacing)/(this.tileWidth+this.spacing)|0,d=(d+this.spacing)/(this.tileHeight+this.spacing)|0;this.tiles=Array(c*d);for(var f=0,g=0;g<d;)for(var e=g++,q=0,h=c;q<h;){var k=q++,l=new Db(this,b,f);l.texture=this.atlas.subTexture(k*(this.tileWidth+this.spacing)+this.margin,e*(this.tileHeight+this.spacing)+this.margin,this.tileWidth,this.tileHeight);this.tiles[f]=l;++f}}else this.tiles=[];if(null!=b.tiles)for(c=0,d=E.fields(b.tiles);c<d.length;)if(f=d[c],++c,g=E.field(b.tiles,f),e=Z.parseInt(f),f=
this.tiles[e],null==f&&(f=this.tiles[e]=new Db(this,b,e)),null!=g.image&&(e=f.properties,"true"!=(null!=v.previewImage?e.getReserved("previewImage"):e.h.previewImage)&&(f.texture=a.$YH(g.image),null==f.texture&&(f.texture=a.$ZH(this.name)))),null!=g.objectgroup)for(e=0,g=g.objectgroup.objects;e<g.length;)q=g[e],++e,f.collision.push(new ua(null,q));this.properties=N.$dH(b.properties)};h["kit.creator.TilesetInfo"]=Uc;Uc.__name__=["kit","creator","TilesetInfo"];Uc.prototype={__class__:Uc};var Db=function(a,
b,c){this.collision=[];this.texture=null;this.id=b.firstgid+c;this.tileset=a;this.properties=N.$dH(null!=b.tileproperties?E.field(b.tileproperties,""+c):null)};h["kit.creator.TileInfo"]=Db;Db.__name__=["kit","creator","TileInfo"];Db.prototype={get_width:function(){if(null!=this.texture)return this.texture.get_width();var a=this.properties;return Z.parseInt(null!=v.boundsWidth?a.getReserved("boundsWidth"):a.h.boundsWidth)},get_height:function(){if(null!=this.texture)return this.texture.get_height();
var a=this.properties;return Z.parseInt(null!=v.boundsHeight?a.getReserved("boundsHeight"):a.h.boundsHeight)},__class__:Db,__properties__:{get_height:"get_height",get_width:"get_width"}};var Vc=function(a){this.groups=null!=a?a.groups.map(function(a){return new Wc(a)}):[]};h["kit.creator.ScriptInfo"]=Vc;Vc.__name__=["kit","creator","ScriptInfo"];Vc.prototype={__class__:Vc};var Wc=function(a){this.actions=[];this.name=a.name;this.actions=a.actions.map(function(a){return new Eb(a)})};h["kit.creator.GroupInfo"]=
Wc;Wc.__name__=["kit","creator","GroupInfo"];Wc.prototype={__class__:Wc};var Eb=function(a){this.type=a.type;this.subActions=null!=a.subActions?a.subActions.map(function(a){return new Eb(a)}):[];this.properties=N.$dH(a.properties)};h["kit.creator.ActionInfo"]=Eb;Eb.__name__=["kit","creator","ActionInfo"];Eb.prototype={__class__:Eb};var ea=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};h["kit.math.Rectangle"]=ea;ea.__name__=["kit","math","Rectangle"];
ea.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new ea);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},get_empty:function(){return 0>=
this.width?!0:0>=this.height},__class__:ea,__properties__:{get_empty:"get_empty"}};var $=function(a){this.drawBackgroundColor=!1;this.objects=new ia;this.layers=new H;this.camera=null;u.call(this);this.info=a;var b=new u;this.cameraX=new C(0,function(a,d){b.x.set__(-a)});this.cameraY=new C(0,function(a,d){b.y.set__(-a)});this.cameraWidth=new C(a.tileWidth*a.width);this.cameraHeight=new C(a.tileHeight*a.height);this.content=(new F).add(b)};h["kit.creator.SceneSprite"]=$;$.__name__=["kit","creator",
"SceneSprite"];$.$jH=function(a){null==a&&(a=new ea);var b=I.$cL("width"),c=I.$cL("height"),d=Math.min(s.$FG.$cF.get_width()/b,s.$FG.$cF.get_height()/c);if(1==I.$cL("scaleMode")){var f=Math.max(b,I.$cL("maxWidth")|0),g=Math.max(c,I.$cL("maxHeight")|0);a.width=Math.min(s.$FG.$cF.get_width()/d,f);a.height=Math.min(s.$FG.$cF.get_height()/d,g)}else a.width=s.$FG.$cF.get_width()/d,a.height=s.$FG.$cF.get_height()/d;a.x=-(a.width/2-b/2);a.y=-(a.height/2-c/2);return a};$.__super__=u;$.prototype=p(u.prototype,
{onStart:function(){u.prototype.onStart.call(this);for(var a=0,b=this.info.layers;a<b.length;){var c=b[a];++a;var d=new F;this.$gH(c,d);this.content.addChild(d)}},setCamera:function(a,b,c,d){this.cameraX.set__(a);this.cameraY.set__(b);this.cameraWidth.set__(c);this.cameraHeight.set__(d);return this},onAdded:function(){u.prototype.onAdded.call(this);this.owner.addChild(this.content)},draw:function(a){null!=this.camera&&this.camera.$iG(this);if(this.drawBackgroundColor){var b=$.$jH($.$kH);a.fillRect(this.info.backgroundColor,
b.x,b.y,b.width,b.height)}},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.cameraX.update(a);this.cameraY.update(a);this.cameraWidth.update(a);this.cameraHeight.update(a)},$gH:function(a,b){var c;switch(a.type[1]){case 0:c=new Fb(this,this.info,a);break;case 1:c=new u}c.alpha.set__(a.opacity);c.set_visible(a.visible);b.add(c);switch(a.type[1]){case 1:c=0;for(var d=a.objects;c<d.length;){var f=d[c];++c;var g=this.$hH(f,!0);if(null==g||g.spawned){var e=this.objects.get(f);if(f.shape==J.Tile){if(null==
e){var q=this.objects,e=new F;q.set(f,e)}e.add(f.createSprite());null!=g&&e.add(g)}null!=e&&b.addChild(e)}}}c=a.name;d=this.layers;null!=v[c]?d.setReserved(c,b):d.h[c]=b},getNaturalWidth:function(){return this.info.symbol?0:this.cameraWidth.$xF},getNaturalHeight:function(){return this.info.symbol?0:this.cameraHeight.$xF},$hH:function(a,b){if(null==a.type)return null;if(b){var c=this.objects.h[a.__id__];if(null!=c&&(c=c.$RF[4],null!=c))return c}c=ba.resolveClass(a.type);if(null==c)return null;var d=
ba.createInstance(c,[]);b&&this.objects.set(a,(new F).add(d));this.$iH(a,d,c);return d},$iH:function(a,b,c){for(var d=a.properties.keys();d.hasNext();){var f=d.next(),g=a.properties,g=null!=v[f]?g.getReserved(f):g.h[f],e=Ba.$4L(c,f);null!=e&&(g=this.$lG(e,g,a.type+"."+f),null!=g&&E.setProperty(b,f,g))}b.info=a},$lG:function(a,b,c){var d=Ba.$lG(a,b);if(null!=d)return d;switch(a[1]){case 4:a=a[2];var d=[],f=0;for(b=b.split(",");f<b.length;){var g=b[f];++f;d.push(this.$lG(a,O.trim(g),c))}return d;case 6:switch(a[2]){case F:c=
this.info.getObject(b,!1);if(null==c)break;c=this.$hH(c,!0);return null!=c?c.owner:null;case Xa:return this.info.getLayer(b,!1);case ua:return this.info.getObject(b,!1);default:c=a[2];b=this.info.getObject(b,!1);if(null==b)break;b=this.$hH(b,!0);if(null!=b){if(D.__instanceof(b,c))return b;ba.getClassName(c)}}}return null},__class__:$});var Fb=function(a,b,c){u.call(this);this.$lH=a;this.$mH=b;this.$nH=c};h.$CQ=Fb;Fb.__name__=["$CQ"];Fb.__super__=u;Fb.prototype=p(u.prototype,{getNaturalWidth:function(){return this.$mH.tileWidth*
this.$nH.width},getNaturalHeight:function(){return this.$mH.tileHeight*this.$nH.height},containsLocal:function(a,b){var c=a/this.$mH.tileWidth|0;if(0>c||c>=this.$nH.width)return!1;var d=b/this.$mH.tileHeight|0;return 0>d||d>=this.$nH.height?!1:null!=this.$nH.tiles[d*this.$nH.width+c]},draw:function(a){var b=this.$mH.tileWidth,c=this.$mH.tileHeight,d=this.$nH.width,f=this.$nH.height,g=$.$jH($.$kH);g.x=(g.x-this.x.$xF)/this.scaleX.$xF;g.y=(g.y-this.y.$xF)/this.scaleY.$xF;g.width/=this.scaleX.$xF;g.height/=
this.scaleY.$xF;for(var e=Aa.clamp(g.x/b|0,0,d),q=Aa.clamp(g.y/c|0,0,f),h=Aa.clamp(e+Math.ceil(g.width/b)+1,0,d),f=Aa.clamp(q+Math.ceil(g.height/c)+1,0,f);q<f;)for(var g=q++,k=e,l=h;k<l;){var n=k++,m=this.$nH.tiles[g*d+n];if(null!=m){var p=m.tileset;a.drawTexture(m.texture,n*b+p.offsetX,g*c+p.offsetY-p.tileHeight+c)}}},__class__:Fb});var K={__ename__:!0,__constructs__:"Normal Add Multiply Screen Mask Copy".split(" "),Normal:["Normal",0]};K.Normal.toString=k;K.Normal.__enum__=K;K.Add=["Add",1];K.Add.toString=
k;K.Add.__enum__=K;K.Multiply=["Multiply",2];K.Multiply.toString=k;K.Multiply.__enum__=K;K.Screen=["Screen",3];K.Screen.toString=k;K.Screen.__enum__=K;K.Mask=["Mask",4];K.Mask.toString=k;K.Mask.__enum__=K;K.Copy=["Copy",5];K.Copy.toString=k;K.Copy.__enum__=K;var Gb=function(){};h["kit.display.Graphics"]=Gb;Gb.__name__=["kit","display","Graphics"];Gb.prototype={__class__:Gb};var Xc=function(){this.$pH=[]};h["kit.display.BufferedGraphics"]=Xc;Xc.__name__=["kit","display","BufferedGraphics"];Xc.__interfaces__=
[Gb];Xc.prototype={save:function(){this.$oH(new Hb)},translate:function(a,b){this.$oH(new Ib(a,b))},scale:function(a,b){this.$oH(new Jb(a,b))},rotate:function(a){this.$oH(new Kb(a))},transform:function(a,b,c,d,f,g){this.$oH(new Lb(a,b,c,d,f,g))},multiplyAlpha:function(a){this.$oH(new Mb(a))},setAlpha:function(a){this.$oH(new Nb(a))},tint:function(a,b,c){this.$oH(new Ob(a,b,c))},setBlendMode:function(a){this.$oH(new Pb(a))},beginMask:function(){this.$oH(new Qb)},endMask:function(){this.$oH(new Rb)},
applyScissor:function(a,b,c,d){this.$oH(new Sb(a,b,c,d))},restore:function(){this.$oH(new Tb)},drawTexture:function(a,b,c){this.$oH(new Ub(a,b,c))},drawSubTexture:function(a,b,c,d,f,g,e){this.$oH(new Vb(a,b,c,d,f,g,e))},drawPattern:function(a,b,c,d,f){this.$oH(new Wb(a,b,c,d,f))},fillRect:function(a,b,c,d,f){this.$oH(new Xb(a,b,c,d,f))},fillTriangles:function(a,b,c){this.$oH(new Yb(a,b.slice(),c.slice()))},drawTriangles:function(a,b,c,d){this.$oH(new Zb(a,b.slice(),c.slice(),null!=d?d.slice():null))},
fillPolygon:function(a,b){this.$oH(new $b(a,b.slice()))},drawPolygon:function(a,b){this.$oH(new ac(a,b.slice()))},drawCircle:function(a,b,c,d,f){null==f&&(f=50);this.$oH(new bc(a,b,c,d,f))},fillCircle:function(a,b,c,d,f){null==f&&(f=50);this.$oH(new cc(a,b,c,d,f))},strokeCircle:function(a,b,c,d,f,g){null==g&&(g=50);this.$oH(new dc(a,b,c,d,f,g))},drawEllipse:function(a,b,c,d,f,g){null==g&&(g=50);this.$oH(new ec(a,b,c,d,f,g))},fillEllipse:function(a,b,c,d,f,g){null==g&&(g=50);this.$oH(new fc(a,b,c,
d,f,g))},strokeEllipse:function(a,b,c,d,f,g,e){null==e&&(e=50);this.$oH(new gc(a,b,c,d,f,g,e))},fillArc:function(a,b,c,d,f,g,e){null==e&&(e=50);this.$oH(new hc(a,b,c,d,f,g,e))},strokeArc:function(a,b,c,d,f,g,e,q){null==q&&(q=50);this.$oH(new ic(a,b,c,d,f,g,e,q))},strokeLines:function(a,b,c){this.$oH(new jc(a,b.slice(),c))},drawLines:function(a,b,c){this.$oH(new kc(a,b.slice(),c))},render:function(a){for(var b=0,c=this.$pH.length;b<c;){var d=b++;this.$pH[d].$qH(a)}},$oH:function(a){this.$pH.push(a)},
__class__:Xc};var r=function(){};h.$CR=r;r.__name__=["$CR"];r.prototype={$qH:function(a){},__class__:r};var Hb=function(){};h.$CS=Hb;Hb.__name__=["$CS"];Hb.__super__=r;Hb.prototype=p(r.prototype,{$qH:function(a){a.save()},__class__:Hb});var Ib=function(a,b){this.$rH=a;this.$sH=b};h.$CT=Ib;Ib.__name__=["$CT"];Ib.__super__=r;Ib.prototype=p(r.prototype,{$qH:function(a){a.translate(this.$rH,this.$sH)},__class__:Ib});var Jb=function(a,b){this.$rH=a;this.$sH=b};h.$CU=Jb;Jb.__name__=["$CU"];Jb.__super__=
r;Jb.prototype=p(r.prototype,{$qH:function(a){a.scale(this.$rH,this.$sH)},__class__:Jb});var Kb=function(a){this.$tH=a};h.$CV=Kb;Kb.__name__=["$CV"];Kb.__super__=r;Kb.prototype=p(r.prototype,{$qH:function(a){a.rotate(this.$tH)},__class__:Kb});var Lb=function(a,b,c,d,f,g){this.$uH=a;this.$vH=b;this.$wH=c;this.$xH=d;this.$yH=f;this.$zH=g};h.$CW=Lb;Lb.__name__=["$CW"];Lb.__super__=r;Lb.prototype=p(r.prototype,{$qH:function(a){a.transform(this.$uH,this.$vH,this.$wH,this.$xH,this.$yH,this.$zH)},__class__:Lb});
var Mb=function(a){this.$0H=a};h.$CX=Mb;Mb.__name__=["$CX"];Mb.__super__=r;Mb.prototype=p(r.prototype,{$qH:function(a){a.multiplyAlpha(this.$0H)},__class__:Mb});var Nb=function(a){this.$1H=a};h.$CY=Nb;Nb.__name__=["$CY"];Nb.__super__=r;Nb.prototype=p(r.prototype,{$qH:function(a){a.setAlpha(this.$1H)},__class__:Nb});var Ob=function(a,b,c){this.$2H=a;this.$3H=b;this.$4H=c};h.$CZ=Ob;Ob.__name__=["$CZ"];Ob.__super__=r;Ob.prototype=p(r.prototype,{$qH:function(a){a.tint(this.$2H,this.$3H,this.$4H)},__class__:Ob});
var Pb=function(a){this.$5H=a};h.$Ca=Pb;Pb.__name__=["$Ca"];Pb.__super__=r;Pb.prototype=p(r.prototype,{$qH:function(a){a.setBlendMode(this.$5H)},__class__:Pb});var Sb=function(a,b,c,d){this.$rH=a;this.$sH=b;this.$6H=c;this.$7H=d};h.$Cb=Sb;Sb.__name__=["$Cb"];Sb.__super__=r;Sb.prototype=p(r.prototype,{$qH:function(a){a.applyScissor(this.$rH,this.$sH,this.$6H,this.$7H)},__class__:Sb});var Qb=function(){};h.$Cc=Qb;Qb.__name__=["$Cc"];Qb.__super__=r;Qb.prototype=p(r.prototype,{$qH:function(a){a.beginMask()},
__class__:Qb});var Rb=function(){};h.$Cd=Rb;Rb.__name__=["$Cd"];Rb.__super__=r;Rb.prototype=p(r.prototype,{$qH:function(a){a.endMask()},__class__:Rb});var Tb=function(){};h.$Ce=Tb;Tb.__name__=["$Ce"];Tb.__super__=r;Tb.prototype=p(r.prototype,{$qH:function(a){a.restore()},__class__:Tb});var Ub=function(a,b,c){this.$8H=a;this.$9H=b;this.$$H=c};h.$Cf=Ub;Ub.__name__=["$Cf"];Ub.__super__=r;Ub.prototype=p(r.prototype,{$qH:function(a){a.drawTexture(this.$8H,this.$9H,this.$$H)},__class__:Ub});var Vb=function(a,
b,c,d,f,g,e){this.$8H=a;this.$9H=b;this.$$H=c;this.$_H=d;this.$AI=f;this.$BI=g;this.$CI=e};h.$Cg=Vb;Vb.__name__=["$Cg"];Vb.__super__=r;Vb.prototype=p(r.prototype,{$qH:function(a){a.drawSubTexture(this.$8H,this.$9H,this.$$H,this.$_H,this.$AI,this.$BI,this.$CI)},__class__:Vb});var Wb=function(a,b,c,d,f){this.$8H=a;this.$9H=b;this.$$H=c;this.$6H=d;this.$7H=f};h.$Ch=Wb;Wb.__name__=["$Ch"];Wb.__super__=r;Wb.prototype=p(r.prototype,{$qH:function(a){a.drawPattern(this.$8H,this.$9H,this.$$H,this.$6H,this.$7H)},
__class__:Wb});var Yb=function(a,b,c){this.$DI=a;this.$EI=b;this.$FI=c};h.$Ci=Yb;Yb.__name__=["$Ci"];Yb.__super__=r;Yb.prototype=p(r.prototype,{$qH:function(a){a.fillTriangles(this.$DI,this.$EI,this.$FI)},__class__:Yb});var Zb=function(a,b,c,d){this.$8H=a;this.$EI=b;this.$FI=c;this.$GI=d};h.$Cj=Zb;Zb.__name__=["$Cj"];Zb.__super__=r;Zb.prototype=p(r.prototype,{$qH:function(a){a.drawTriangles(this.$8H,this.$EI,this.$FI,this.$GI)},__class__:Zb});var $b=function(a,b){this.$DI=a;this.$EI=b};h.$Ck=$b;$b.__name__=
["$Ck"];$b.__super__=r;$b.prototype=p(r.prototype,{$qH:function(a){a.fillPolygon(this.$DI,this.$EI)},__class__:$b});var ac=function(a,b){this.$8H=a;this.$EI=b};h.$Cl=ac;ac.__name__=["$Cl"];ac.__super__=r;ac.prototype=p(r.prototype,{$qH:function(a){a.drawPolygon(this.$8H,this.$EI)},__class__:ac});var bc=function(a,b,c,d,f){this.$8H=a;this.$HI=b;this.$II=c;this.$JI=d;this.$KI=f};h.$Cm=bc;bc.__name__=["$Cm"];bc.__super__=r;bc.prototype=p(r.prototype,{$qH:function(a){a.drawCircle(this.$8H,this.$HI,this.$II,
this.$JI,this.$KI)},__class__:bc});var cc=function(a,b,c,d,f){this.$DI=a;this.$HI=b;this.$II=c;this.$JI=d;this.$KI=f};h.$Cn=cc;cc.__name__=["$Cn"];cc.__super__=r;cc.prototype=p(r.prototype,{$qH:function(a){a.fillCircle(this.$DI,this.$HI,this.$II,this.$JI,this.$KI)},__class__:cc});var dc=function(a,b,c,d,f,g){this.$DI=a;this.$HI=b;this.$II=c;this.$JI=d;this.$LI=f;this.$KI=g};h.$Co=dc;dc.__name__=["$Co"];dc.__super__=r;dc.prototype=p(r.prototype,{$qH:function(a){a.strokeCircle(this.$DI,this.$HI,this.$II,
this.$JI,this.$LI,this.$KI)},__class__:dc});var fc=function(a,b,c,d,f,g){this.$DI=a;this.$HI=b;this.$II=c;this.$MI=d;this.$NI=f;this.$KI=g};h.$Cp=fc;fc.__name__=["$Cp"];fc.__super__=r;fc.prototype=p(r.prototype,{$qH:function(a){a.fillEllipse(this.$DI,this.$HI,this.$II,this.$MI,this.$NI,this.$KI)},__class__:fc});var ec=function(a,b,c,d,f,g){this.$8H=a;this.$HI=b;this.$II=c;this.$MI=d;this.$NI=f;this.$KI=g};h.$Cq=ec;ec.__name__=["$Cq"];ec.__super__=r;ec.prototype=p(r.prototype,{$qH:function(a){a.drawEllipse(this.$8H,
this.$HI,this.$II,this.$MI,this.$NI,this.$KI)},__class__:ec});var gc=function(a,b,c,d,f,g,e){this.$DI=a;this.$HI=b;this.$II=c;this.$MI=d;this.$NI=f;this.$LI=g;this.$KI=e};h.$Cr=gc;gc.__name__=["$Cr"];gc.__super__=r;gc.prototype=p(r.prototype,{$qH:function(a){a.strokeEllipse(this.$DI,this.$HI,this.$II,this.$MI,this.$NI,this.$LI,this.$KI)},__class__:gc});var hc=function(a,b,c,d,f,g,e){this.$DI=a;this.$HI=b;this.$II=c;this.$JI=d;this.$OI=f;this.$PI=g;this.$KI=e};h.$Cs=hc;hc.__name__=["$Cs"];hc.__super__=
r;hc.prototype=p(r.prototype,{$qH:function(a){a.fillArc(this.$DI,this.$HI,this.$II,this.$JI,this.$OI,this.$PI,this.$KI)},__class__:hc});var ic=function(a,b,c,d,f,g,e,q){this.$DI=a;this.$HI=b;this.$II=c;this.$JI=d;this.$OI=f;this.$PI=g;this.$LI=e;this.$KI=q};h.$Ct=ic;ic.__name__=["$Ct"];ic.__super__=r;ic.prototype=p(r.prototype,{$qH:function(a){a.strokeArc(this.$DI,this.$HI,this.$II,this.$JI,this.$OI,this.$PI,this.$LI,this.$KI)},__class__:ic});var jc=function(a,b,c){this.$DI=a;this.$EI=b;this.$QI=
c};h.$Cu=jc;jc.__name__=["$Cu"];jc.__super__=r;jc.prototype=p(r.prototype,{$qH:function(a){a.strokeLines(this.$DI,this.$EI,this.$QI)},__class__:jc});var kc=function(a,b,c){this.$8H=a;this.$EI=b;this.$QI=c};h.$Cv=kc;kc.__name__=["$Cv"];kc.__super__=r;kc.prototype=p(r.prototype,{$qH:function(a){a.drawLines(this.$8H,this.$EI,this.$QI)},__class__:kc});var Xb=function(a,b,c,d,f){this.$DI=a;this.$rH=b;this.$sH=c;this.$6H=d;this.$7H=f};h.$Cw=Xb;Xb.__name__=["$Cw"];Xb.__super__=r;Xb.prototype=p(r.prototype,
{$qH:function(a){a.fillRect(this.$DI,this.$rH,this.$sH,this.$6H,this.$7H)},__class__:Xb});var lc=function(a,b,c){u.call(this);this.color=a;this.width=new C(b);this.height=new C(c)};h["kit.display.FillSprite"]=lc;lc.__name__=["kit","display","FillSprite"];lc.__super__=u;lc.prototype=p(u.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width.$xF,this.height.$xF)},getNaturalWidth:function(){return this.width.$xF},getNaturalHeight:function(){return this.height.$xF},setSize:function(a,b){this.width.set__(a);
this.height.set__(b);return this},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:lc});var Fa=function(a){u.call(this);this.texture=a};h["kit.display.ImageSprite"]=Fa;Fa.__name__=["kit","display","ImageSprite"];Fa.__super__=u;Fa.prototype=p(u.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=
this.texture?this.texture.get_height():0},__class__:Fa});var ta={__ename__:!0,__constructs__:["Portrait","Landscape"],Portrait:["Portrait",0]};ta.Portrait.toString=k;ta.Portrait.__enum__=ta;ta.Landscape=["Landscape",1];ta.Landscape.toString=k;ta.Landscape.__enum__=ta;var Ja=function(){this.$sI=null;this.$rI=[];this.$oI=this.$pI=this.$qI=null;this.$nI=new C(1);this.$mI=new C(1);this.$lI=new C(1);this.$jI=this.$kI=null};h.$Cz=Ja;Ja.__name__=["$Cz"];Ja.prototype={__class__:Ja};var mc=function(){};h["kit.display.Texture"]=
mc;mc.__name__=["kit","display","Texture"];mc.__interfaces__=[sa];mc.prototype={__class__:mc,__properties__:{get_graphics:"get_graphics",get_height:"get_height",get_width:"get_width"}};var Bd=function(){};h["kit.display.SubTexture"]=Bd;Bd.__name__=["kit","display","SubTexture"];Bd.__interfaces__=[mc];var Q={__ename__:!0,__constructs__:["RGBA","RGBA_4444","RGB","RGB_565","COMPRESSED"],RGBA:["RGBA",0]};Q.RGBA.toString=k;Q.RGBA.__enum__=Q;Q.RGBA_4444=["RGBA_4444",1];Q.RGBA_4444.toString=k;Q.RGBA_4444.__enum__=
Q;Q.RGB=["RGB",2];Q.RGB.toString=k;Q.RGB.__enum__=Q;Q.RGB_565=["RGB_565",3];Q.RGB_565.toString=k;Q.RGB_565.__enum__=Q;Q.COMPRESSED=["COMPRESSED",4];Q.COMPRESSED.toString=k;Q.COMPRESSED.__enum__=Q;var Cd=function(){};h["kit.display.VectorFont"]=Cd;Cd.__name__=["kit","display","VectorFont"];Cd.__interfaces__=[sa];var Dd=function(){this.$zI=this.$0I=this.$1I=null;this.$yI=new H;this.paddingTop=this.paddingRight=this.paddingBottom=this.paddingLeft=0;this.outputOnly=!1;this.active=!0};h["kit.filter.Filter"]=
Dd;Dd.__name__=["kit","filter","Filter"];Dd.prototype={apply:function(a){a.render(this)},setUniformVec2:function(a,b,c){this.$wI(a,1,[b,c])},setUniformSampler2D:function(a,b){this.$wI(a,11,b)},update:function(a){},$wI:function(a,b,c){var d=this.$yI,d=null!=v[a]?d.getReserved(a):d.h[a];if(null==d){var f=this.$yI,g=d=new Yc(a);null!=v[a]?f.setReserved(a,g):f.h[a]=g}d.$4I=b;d.$3I=c},$xI:function(){null==this.$1I&&(this.$1I=null!=this.$0I?this.$0I+"@"+this.$zI:this.$zI);return this.$1I},__class__:Dd};
var Yc=function(a){this.$4I=0;this.$3I=null;this.$2I=a};h.$C1=Yc;Yc.__name__=["$C1"];Yc.prototype={__class__:Yc};var e={__ename__:!0,__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Number0 Number1 Number2 Number3 Number4 Number5 Number6 Number7 Number8 Number9 Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadDecimal NumpadDivide NumpadEnter NumpadMultiply NumpadSubtract F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 Left Up Right Down Alt Backquote Backslash Backspace CapsLock Comma Command Control Delete End Enter Equals Escape Home Insert LeftBracket Minus PageDown PageUp Period Quote RightBracket Semicolon Shift Slash Space Tab Menu Search Unknown".split(" "),
A:["A",0]};e.A.toString=k;e.A.__enum__=e;e.B=["B",1];e.B.toString=k;e.B.__enum__=e;e.C=["C",2];e.C.toString=k;e.C.__enum__=e;e.D=["D",3];e.D.toString=k;e.D.__enum__=e;e.E=["E",4];e.E.toString=k;e.E.__enum__=e;e.F=["F",5];e.F.toString=k;e.F.__enum__=e;e.G=["G",6];e.G.toString=k;e.G.__enum__=e;e.H=["H",7];e.H.toString=k;e.H.__enum__=e;e.I=["I",8];e.I.toString=k;e.I.__enum__=e;e.J=["J",9];e.J.toString=k;e.J.__enum__=e;e.K=["K",10];e.K.toString=k;e.K.__enum__=e;e.L=["L",11];e.L.toString=k;e.L.__enum__=
e;e.M=["M",12];e.M.toString=k;e.M.__enum__=e;e.N=["N",13];e.N.toString=k;e.N.__enum__=e;e.O=["O",14];e.O.toString=k;e.O.__enum__=e;e.P=["P",15];e.P.toString=k;e.P.__enum__=e;e.Q=["Q",16];e.Q.toString=k;e.Q.__enum__=e;e.R=["R",17];e.R.toString=k;e.R.__enum__=e;e.S=["S",18];e.S.toString=k;e.S.__enum__=e;e.T=["T",19];e.T.toString=k;e.T.__enum__=e;e.U=["U",20];e.U.toString=k;e.U.__enum__=e;e.V=["V",21];e.V.toString=k;e.V.__enum__=e;e.W=["W",22];e.W.toString=k;e.W.__enum__=e;e.X=["X",23];e.X.toString=
k;e.X.__enum__=e;e.Y=["Y",24];e.Y.toString=k;e.Y.__enum__=e;e.Z=["Z",25];e.Z.toString=k;e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.toString=k;e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.toString=k;e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.toString=k;e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.toString=k;e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.toString=k;e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.toString=k;e.Number5.__enum__=
e;e.Number6=["Number6",32];e.Number6.toString=k;e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.toString=k;e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.toString=k;e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.toString=k;e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.toString=k;e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.toString=k;e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.toString=k;e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.toString=
k;e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.toString=k;e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.toString=k;e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.toString=k;e.Numpad6.__enum__=e;e.Numpad7=["Numpad7",43];e.Numpad7.toString=k;e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.toString=k;e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.toString=k;e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.toString=k;e.NumpadAdd.__enum__=e;e.NumpadDecimal=
["NumpadDecimal",47];e.NumpadDecimal.toString=k;e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.toString=k;e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.toString=k;e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.toString=k;e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.toString=k;e.NumpadSubtract.__enum__=e;e.F1=["F1",52];e.F1.toString=k;e.F1.__enum__=e;e.F2=["F2",53];e.F2.toString=
k;e.F2.__enum__=e;e.F3=["F3",54];e.F3.toString=k;e.F3.__enum__=e;e.F4=["F4",55];e.F4.toString=k;e.F4.__enum__=e;e.F5=["F5",56];e.F5.toString=k;e.F5.__enum__=e;e.F6=["F6",57];e.F6.toString=k;e.F6.__enum__=e;e.F7=["F7",58];e.F7.toString=k;e.F7.__enum__=e;e.F8=["F8",59];e.F8.toString=k;e.F8.__enum__=e;e.F9=["F9",60];e.F9.toString=k;e.F9.__enum__=e;e.F10=["F10",61];e.F10.toString=k;e.F10.__enum__=e;e.F11=["F11",62];e.F11.toString=k;e.F11.__enum__=e;e.F12=["F12",63];e.F12.toString=k;e.F12.__enum__=e;e.F13=
["F13",64];e.F13.toString=k;e.F13.__enum__=e;e.F14=["F14",65];e.F14.toString=k;e.F14.__enum__=e;e.F15=["F15",66];e.F15.toString=k;e.F15.__enum__=e;e.Left=["Left",67];e.Left.toString=k;e.Left.__enum__=e;e.Up=["Up",68];e.Up.toString=k;e.Up.__enum__=e;e.Right=["Right",69];e.Right.toString=k;e.Right.__enum__=e;e.Down=["Down",70];e.Down.toString=k;e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.toString=k;e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.toString=k;e.Backquote.__enum__=e;e.Backslash=
["Backslash",73];e.Backslash.toString=k;e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.toString=k;e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.toString=k;e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.toString=k;e.Comma.__enum__=e;e.Command=["Command",77];e.Command.toString=k;e.Command.__enum__=e;e.Control=["Control",78];e.Control.toString=k;e.Control.__enum__=e;e.Delete=["Delete",79];e.Delete.toString=k;e.Delete.__enum__=e;e.End=["End",80];e.End.toString=k;e.End.__enum__=
e;e.Enter=["Enter",81];e.Enter.toString=k;e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.toString=k;e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.toString=k;e.Escape.__enum__=e;e.Home=["Home",84];e.Home.toString=k;e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.toString=k;e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.toString=k;e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.toString=k;e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.toString=k;e.PageDown.__enum__=
e;e.PageUp=["PageUp",89];e.PageUp.toString=k;e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.toString=k;e.Period.__enum__=e;e.Quote=["Quote",91];e.Quote.toString=k;e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.toString=k;e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.toString=k;e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.toString=k;e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.toString=k;e.Slash.__enum__=e;e.Space=["Space",96];e.Space.toString=
k;e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.toString=k;e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.toString=k;e.Menu.__enum__=e;e.Search=["Search",99];e.Search.toString=k;e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;a.toString=k;return a};var Zc=function(){this.$5I(0,null)};h["kit.input.KeyboardEvent"]=Zc;Zc.__name__=["kit","input","KeyboardEvent"];Zc.prototype={$5I:function(a,b){this.id=a;this.key=b},__class__:Zc};var W={__ename__:!0,__constructs__:["Left","Middle","Right",
"Unknown"],Left:["Left",0]};W.Left.toString=k;W.Left.__enum__=W;W.Middle=["Middle",1];W.Middle.toString=k;W.Middle.__enum__=W;W.Right=["Right",2];W.Right.toString=k;W.Right.__enum__=W;W.Unknown=function(a){a=["Unknown",3,a];a.__enum__=W;a.toString=k;return a};var na={__ename__:!0,__constructs__:["Default","Button","None"],Default:["Default",0]};na.Default.toString=k;na.Default.__enum__=na;na.Button=["Button",1];na.Button.toString=k;na.Button.__enum__=na;na.None=["None",2];na.None.toString=k;na.None.__enum__=
na;var $c=function(){this.$5I(0,0,0,null)};h["kit.input.MouseEvent"]=$c;$c.__name__=["kit","input","MouseEvent"];$c.prototype={$5I:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:$c};var Ed={__ename__:!0,__constructs__:["Mouse","Touch"],Mouse:function(a){a=["Mouse",0,a];a.__enum__=Ed;a.toString=k;return a},Touch:function(a){a=["Touch",1,a];a.__enum__=Ed;a.toString=k;return a}},ad=function(){this.$5I(0,0,0,null,null)};h["kit.input.PointerEvent"]=ad;ad.__name__=["kit",
"input","PointerEvent"];ad.prototype={$5I:function(a,b,c,d,f){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=f;this.$6I=!1},__class__:ad};var bd=function(a){this.id=a;this.$7I=Ed.Touch(this)};h["kit.input.TouchPoint"]=bd;bd.__name__=["kit","input","TouchPoint"];bd.prototype={$5I:function(a,b){this.viewX=a;this.viewY=b},__class__:bd};var Aa=function(){};h["kit.math.FMath"]=Aa;Aa.__name__=["kit","math","FMath"];Aa.clamp=function(a,b,c){return a<b?b:a>c?c:a};var L=function(){this.$qK=!1};
h.$C9=L;L.__name__=["$C9"];L.__interfaces__=[sa];L.prototype={dispose:function(){this.$qK||(this.$qK=!0,this.$oK())},$oK:function(){},__class__:L};var Ya=function(a,b){this.$5K=0;var c=this;this.$tK=b;this.$FG=a;this.$GF=new R;this.$aH=new nc(b,this);this.$4K=new H;var d=Ra.array(b);if(0==d.length)this.$0K();else{for(var f=new H,g=0;g<d.length;){var e=d[g];++g;var q=e.name,q=null!=v[q]?f.getReserved(q):f.h[q];if(null==q){var q=[],h=e.name;null!=v[h]?f.setReserved(h,q):f.h[h]=q}q.push(e)}this.$3K=
Ra.count(f);for(d=new ja(f,f.arrayKeys());d.hasNext();)f=[d.next()],this.$vK(f[0],function(a){return function(d){if(null!=d){var f=c.$4K,g=d.name,e=new oc(0,d.bytes);null!=v[g]?f.setReserved(g,e):f.h[g]=e;f=b.getFullURL(d);try{c.$wK(f,d)}catch(ib){ib instanceof Y&&(ib=ib.val),c.$1K(d,"Unexpected error: "+Z.string(ib))}}else switch(d=a[0][0],f=c.$4K,g=d.name,e=new oc(0,0),null!=v[g]?f.setReserved(g,e):f.h[g]=e,d.format[1]){case 7:case 8:case 9:case 10:case 11:f=fa.$5L();c.$yK(d,f);break;case 16:case 17:f=
oa.$5L();c.$yK(d,f);break;default:c.$1K(d,"Could not find a supported format to load")}}}(f))}};h.$C$=Ya;Ya.__name__=["$C$"];Ya.prototype={$vK:function(a,b){this.$xK(function(c){for(var d=0;d<c.length;){var f=c[d];++d;for(var g=0;g<a.length;){var e=a[g];++g;if(e.format==f){b(e);return}}}b(null)})},$wK:function(a,b){},$xK:function(a){},$yK:function(a,b){if(this.$aH.$AL)b.dispose();else{var c=a.name,d=this.$4K,c=null!=v[c]?d.getReserved(c):d.h[c];c.$DL=c.$EL;var f;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:f=
this.$aH.$7K;break;case 7:case 8:case 9:case 10:case 11:f=this.$aH.$8K;break;case 12:case 13:case 14:case 15:f=this.$aH.$$K;break;case 16:case 17:case 18:f=this.$aH.$_K;break;case 19:f=this.$aH.$9K}c=a.name;null!=v[c]?f.setReserved(c,b):f.h[c]=b;this.$3K-=1;0==this.$3K&&this.$0K()}},$zK:function(a,b,c){a=a.name;var d=this.$4K;a=null!=v[a]?d.getReserved(a):d.h[a];0<c&&(a.$EL=c);c=a.$EL;a.$DL=b<c?b:c;c=b=0;a=this.$4K;for(a=new ja(a,a.arrayKeys());a.hasNext();){d=a.next();if(0==d.$EL)return;b+=d.$DL;
c+=d.$EL}b=0<c?b/c:0;b!=this.$5K&&(this.$5K=b,this.$GF.emitProgress(b))},$0K:function(){this.$GF.success(this.$aH)},$1K:function(a,b){this.$aH.dispose();this.$GF.failure(ma.withFields(b,["url",a.url]))},$2K:function(a){this.$1K(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Ya};var nc=function(a,b){this.$AL=!1;this.$_K=new H;this.$$K=new H;this.$9K=new H;this.$8K=new H;this.$7K=new H;this.$BL=a};h.$C_=nc;nc.__name__=["$C_"];nc.__interfaces__=[Wa];nc.prototype={getTexture:function(a,
b){var c=this.$7K;return null!=v[a]?c.getReserved(a):c.h[a]},getFile:function(a,b){var c=this.$9K;return null!=v[a]?c.getReserved(a):c.h[a]},dispose:function(){if(!this.$AL){this.$AL=!0;for(var a=this.$7K,a=new ja(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$7K=null;a=this.$8K;for(a=new ja(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$8K=null;a=this.$9K;for(a=new ja(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$9K=null;a=this.$$K;for(a=new ja(a,a.arrayKeys());a.hasNext();)a.next().dispose();
this.$$K=null;a=this.$_K;for(a=new ja(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$_K=null}},__class__:nc};var oc=function(a,b){this.$DL=a;this.$EL=b};h.$CAB=oc;oc.__name__=["$CAB"];oc.prototype={__class__:oc};var Za=function(a){this.$qK=!1;this.$VH=a};h.$CBB=Za;Za.__name__=["$CBB"];Za.__interfaces__=[xb];Za.__super__=L;Za.prototype=p(L.prototype,{toString:function(){return this.$VH},toJson:function(){return JSON.parse(this.toString())},$oK:function(){this.$VH=null},__class__:Za});var cd=
function(){};h["kit.subsystem.KeyboardSystem"]=cd;cd.__name__=["kit","subsystem","KeyboardSystem"];cd.prototype={__class__:cd};var la=function(){this.down=new P;this.up=new P;this.backButton=new qa;this.$IL=new va};h.$CCB=la;la.__name__=["$CCB"];la.__interfaces__=[cd];la.prototype={$GL:function(a){if(16777238==a)return null!=this.backButton.$$F?(this.backButton.emit(),!0):!1;this.$IL.exists(a)||(this.$IL.h[a]=!0,la.$JL.$5I(la.$JL.id+1,dd.$1N(a)),this.down.emit(la.$JL));return!0},$HL:function(a){this.$IL.exists(a)&&
(this.$IL.remove(a),la.$JL.$5I(la.$JL.id+1,dd.$1N(a)),this.up.emit(la.$JL))},__class__:la};var ed=function(){};h["kit.subsystem.MouseSystem"]=ed;ed.__name__=["kit","subsystem","MouseSystem"];ed.prototype={__class__:ed};var aa=function(a){this.$aF=a;this.$7I=Ed.Mouse(aa.$JL);this.down=new P;this.move=new P;this.up=new P;this.scroll=new P;this.$sH=this.$rH=0;this.$ML=na.Default;this.$NL=new va};h.$CDB=aa;aa.__name__=["$CDB"];aa.__interfaces__=[ed];aa.prototype={$GL:function(a,b,c){this.$NL.exists(c)||
(this.$NL.h[c]=!0,this.$tI(a,b,fd.$IO(c)),this.$aF.$GL(a,b,this.$7I),this.down.emit(aa.$JL))},$KL:function(a,b){this.$tI(a,b,null);this.$aF.$KL(a,b,this.$7I);this.move.emit(aa.$JL)},$HL:function(a,b,c){this.$NL.exists(c)&&(this.$NL.remove(c),this.$tI(a,b,fd.$IO(c)),this.$aF.$HL(a,b,this.$7I),this.up.emit(aa.$JL))},$LL:function(a,b,c){this.$rH=a;this.$sH=b;if(null==this.scroll.$$F)return!1;this.scroll.emit(c);return!0},$tI:function(a,b,c){this.$rH=a;this.$sH=b;aa.$JL.$5I(aa.$JL.id+1,a,b,c)},__class__:aa};
var gd=function(){};h["kit.subsystem.PointerSystem"]=gd;gd.__name__=["kit","subsystem","PointerSystem"];gd.prototype={__class__:gd};var V=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new P;this.move=new P;this.up=new P;this.$rH=a;this.$sH=b;this.$OL=c};h.$CEB=V;V.__name__=["$CEB"];V.__interfaces__=[gd];V.prototype={$GL:function(a,b,c){if(!this.$OL){this.$KL(a,b,c);this.$OL=!0;var d=[],f=u.hitTest(s.root,a,b);if(null!=f)for(var g=f.owner;;){var e=g.$RF[3];null!=e&&d.push(e);
g=g.parent;if(null==g)break}this.$tI(a,b,f,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$zG(V.$JL),V.$JL.$6I)return;this.down.emit(V.$JL)}},$KL:function(a,b,c){if(a!=this.$rH||b!=this.$sH){var d=[],f=u.hitTest(s.root,a,b);if(null!=f)for(var g=f.owner;;){var e=g.$RF[3];null!=e&&d.push(e);g=g.parent;if(null==g)break}this.$tI(a,b,f,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$0G(V.$JL),V.$JL.$6I)return;this.move.emit(V.$JL)}},$HL:function(a,b,c){if(this.$OL){this.$KL(a,b,c);this.$OL=!1;var d=[],f=u.hitTest(s.root,
a,b);if(null!=f)for(var g=f.owner;;){var e=g.$RF[3];null!=e&&d.push(e);g=g.parent;if(null==g)break}this.$tI(a,b,f,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$2G(V.$JL),V.$JL.$6I)return;this.up.emit(V.$JL)}},$tI:function(a,b,c,d){this.$rH=a;this.$sH=b;V.$JL.$5I(V.$JL.id+1,a,b,c,d)},__class__:V};var pc=function(){};h.$CFB=pc;pc.__name__=["$CFB"];pc.__interfaces__=[Bd];pc.prototype={__class__:pc};var pa=function(a,b,c){this.$rH=this.$sH=0;this.$SL=null;this.$QL=this.$RL=0;this.$qK=!1;this.$PL=a;this.$6H=
b;this.$7H=c};h.$CGB=pa;pa.__name__=["$CGB"];pa.__interfaces__=[pc];pa.__super__=L;pa.prototype=p(L.prototype,{subTexture:function(a,b,c,d){c=this.$PL.createTexture(c,d);c.$SL=this;c.$rH=a;c.$sH=b;c.$QL=this.$QL+a;c.$RL=this.$RL+b;return c},clear:function(){this.$PL.clear()},renderFilter:function(a,b,c){this.$PL.renderFilter(a,b,c)},get_graphics:function(){return this.$PL.getGraphics()},$oK:function(){null==this.$SL&&this.$PL.dispose()},get_width:function(){return this.$6H},get_height:function(){return this.$7H},
__class__:pa,__properties__:{get_height:"get_height",get_width:"get_width",get_graphics:"get_graphics"}});var qc=function(){};h["kit.subsystem.TouchSystem"]=qc;qc.__name__=["kit","subsystem","TouchSystem"];qc.prototype={__class__:qc,__properties__:{get_supported:"get_supported"}};var pb=function(a,b){null==b&&(b=4);this.$aF=a;this.$UL=b;this.$VL=new va;this.$EI=[];this.down=new P;this.move=new P;this.up=new P};h.$CHB=pb;pb.__name__=["$CHB"];pb.__interfaces__=[qc];pb.prototype={get_supported:function(){return!0},
$GL:function(a,b,c){if(!this.$VL.h.hasOwnProperty(a)){var d=new bd(a);d.$5I(b,c);this.$VL.h[a]=d;this.$EI.push(d);null==this.$TL&&(this.$TL=d,this.$aF.$GL(b,c,d.$7I));this.down.emit(d)}},$KL:function(a,b,c){a=this.$VL.h[a];null!=a&&(a.$5I(b,c),this.$TL==a&&this.$aF.$KL(b,c,a.$7I),this.move.emit(a))},$HL:function(a,b,c){var d=this.$VL.h[a];null!=d&&(d.$5I(b,c),this.$VL.remove(a),A.remove(this.$EI,d),this.$TL==d&&(this.$TL=null,this.$aF.$HL(b,c,d.$7I)),this.up.emit(d))},__class__:pb,__properties__:{get_supported:"get_supported"}};
var Fd=function(){};h.$CIB=Fd;Fd.__name__=["$CIB"];Fd.$WL=function(){s.$CG().then(function(a){try{s.$FG.getExternal().call("console.info",["Built with 2DKit, http://2dkit.com"])}catch(b){}a=new rc;s.root.add(a)})};var I=function(){};h.$CJB=I;I.__name__=["$CJB"];I.$cL=function(a){var b=lb.getType(I).injected[0];return E.field(b,a)};I.$dL=function(){switch(I.$cL("orientation")){case "landscape":return ta.Landscape;case "portrait":return ta.Portrait}return null};var sc=function(){this.$xL=new ia;this.$wL=
0;this.$uL=this.$vL=null;this.$tL=Infinity;this.$sL=0};h.$CKB=sc;sc.__name__=["$CKB"];sc.__interfaces__=[ca];sc.prototype={$iL:function(a){this.$tL=a;this.$rL(!0);return this},$jL:function(a){this.$uL=a;return this},$kL:function(a){this.$vL=a;return this},$lL:function(a,b,c){null==c&&(c=!0);this.$pL(a);var d=null!=this.$vL?this.$vL(a,b):1;this.$sL+=d;this.$rL(c);b=new hd(a,b);b.$yL=++this.$wL;b.$gL=d;this.$xL.set(a,b)},$cL:function(a){a=this.$xL.h[a.__id__];if(null==a)return null;a.$yL=++this.$wL;
return a.$3I},$mL:function(){var a=this.$oL(!0);return null!=a?a.$gI:null},$oL:function(a){for(var b=null,c=this.$xL.iterator();c.hasNext();){var d=c.next();if(null==b||d.$yL<b.$yL==a)b=d}return b},$pL:function(a,b){null==b&&(b=!0);var c=this.$xL.h[a.__id__];if(null==c)return null;null!=this.$uL&&b&&this.$uL(a,c.$3I);this.$xL.remove(a);this.$sL-=c.$gL;return c.$3I},$qL:function(a){null==a&&(a=!0);var b=this.$xL;this.$xL=new ia;this.$sL=0;if(null!=this.$uL&&a)for(a=b.iterator();a.hasNext();)b=a.next(),
this.$uL(b.$gI,b.$3I)},dispose:function(){this.$qL()},$rL:function(a){for(;this.$sL>this.$tL;){var b=this.$oL(a);if(null!=b)null!=this.$uL&&this.$uL(b.$gI,b.$3I),this.$xL.remove(b.$gI),this.$sL-=b.$gL;else break}},__class__:sc};var hd=function(a,b){this.$gL=1;this.$yL=0;this.$gI=a;this.$3I=b};h.$CLB=hd;hd.__name__=["$CLB"];hd.prototype={__class__:hd};var Ba=function(){};h.$CNB=Ba;Ba.__name__=["$CNB"];Ba.$4L=function(a,b){var c=a.__creator;if(null!=c&&(c=E.field(c,b),null!=c))return c;c=ba.getSuperClass(a);
return null!=c?Ba.$4L(c,b):null};Ba.$lG=function(a,b){switch(a[1]){case 0:return b;case 1:return"0"!=b?"false"!=b:!1;case 2:var c=parseFloat(b);return isNaN(c)?0:c;case 3:return 35==A.cca(b,0)&&(b="0x"+A.substr(b,1,null)),c=Z.parseInt(b),null!=c?c:0;case 5:c=a[2];try{return ba.createEnum(c,b)}catch(d){break}case 6:switch(a[2]){case Date:return c=parseFloat(b),new Date(c);case C:return c=parseFloat(b),new C(isNaN(c)?0:c);case ha:var c=new ha,f=b.split(",");2<=f.length&&(c.x=parseFloat(f[0]),c.y=parseFloat(f[1]));
return c;case ea:return c=new ea,f=b.split(","),4<=f.length&&(c.x=parseFloat(f[0]),c.y=parseFloat(f[1]),c.width=parseFloat(f[2]),c.height=parseFloat(f[3])),c}}return null};var tc=function(){};h["kit.sound.Sound"]=tc;tc.__name__=["kit","sound","Sound"];tc.__interfaces__=[sa];var fa=function(){this.$qK=!1;this.$wJ=new uc(this)};h.$CQB=fa;fa.__name__=["$CQB"];fa.__interfaces__=[tc];fa.$5L=function(){null==fa.$6L&&(fa.$6L=new fa);return fa.$6L};fa.__super__=L;fa.prototype=p(L.prototype,{$oK:function(){},
__class__:fa});var $a=function(){};h["kit.sound.Playback"]=$a;$a.__name__=["kit","sound","Playback"];$a.__interfaces__=[ca];$a.prototype={__class__:$a};var uc=function(a){this.$7L=a;this.volume=new C(0);this.$8L=new S(!0)};h.$CRB=uc;uc.__name__=["$CRB"];uc.__interfaces__=[$a];uc.prototype={dispose:function(){},__class__:uc};var qb=function(){this.down=new P;this.move=new P;this.up=new P};h.$CTB=qb;qb.__name__=["$CTB"];qb.__interfaces__=[qc];qb.prototype={get_supported:function(){return!1},__class__:qb,
__properties__:{get_supported:"get_supported"}};var id=function(){};h["kit.video.Video"]=id;id.__name__=["kit","video","Video"];id.__interfaces__=[sa];var oa=function(){this.$qK=!1;this.$wJ=new vc(this)};h.$CUB=oa;oa.__name__=["$CUB"];oa.__interfaces__=[id];oa.$5L=function(){null==oa.$6L&&(oa.$6L=new oa);return oa.$6L};oa.__super__=L;oa.prototype=p(L.prototype,{$oK:function(){},__class__:oa});var wc=function(){};h["kit.video.VideoPlayback"]=wc;wc.__name__=["kit","video","VideoPlayback"];wc.__interfaces__=
[ca];wc.prototype={__class__:wc};var vc=function(a){this.$9L=a;this.volume=new C(0);this.$8L=new S(!0);this.$8H=s.$FG.$bF.createTexture(1,1)};h.$CVB=vc;vc.__name__=["$CVB"];vc.__interfaces__=[wc];vc.prototype={dispose:function(){},__class__:vc};var Ka=function(){this.$8E=[]};h.$CXB=Ka;Ka.__name__=["$CXB"];Ka.__interfaces__=[ca];Ka.prototype={$$L:function(a,b,c){a.addEventListener(b,c,!1);this.$8E.push(new jd(a,b,c))},$_L:function(a,b,c){var d=this;this.$$L(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=
0,b=this.$8E;a<b.length;){var c=b[a];++a;c.$AM.removeEventListener(c.$4I,c.$BM,!1)}this.$8E=[]},__class__:Ka};var jd=function(a,b,c){this.$AM=a;this.$4I=b;this.$BM=c};h.$CYB=jd;jd.__name__=["$CYB"];jd.prototype={__class__:jd};var Tc=function(a,b){this.$DM=this.$EM=0;var c=a+150,d=b+150;this.$FM=s.$FG.$bF.createTexture(c,d);this.$GM=s.$FG.$bF.createTexture(c,d);this.$6H=a;this.$7H=b};h.$CaB=Tc;Tc.__name__=["$CaB"];Tc.prototype={$HM:function(a,b){if(a>this.$FM.get_width()||b>this.$FM.get_height()){var c=
Math.max(this.$FM.get_width(),a+150)|0,d=Math.max(this.$FM.get_height(),b+150)|0;this.$FM.dispose();this.$GM.dispose();this.$FM=s.$FG.$bF.createTexture(c,d);this.$GM=s.$FG.$bF.createTexture(c,d)}else this.$FM.clear(),this.$GM.clear();this.$6H=a;this.$7H=b},$IM:function(a){null!=a.$zI&&(a.outputOnly||a.setUniformSampler2D("uTexture",this.$FM),a.setUniformVec2("uFilterPosition",this.$DM,this.$EM),this.$GM.renderFilter(a,this.$6H,this.$7H),a=this.$FM,this.$FM=this.$GM,this.$GM=a)},__class__:Tc};var ab=
function(){};h.$CdB=ab;ab.__name__=["$CdB"];ab.__interfaces__=[Gb];ab.prototype={__class__:ab};var kd=function(){};h["kit.subsystem.RendererSystem"]=kd;kd.__name__=["kit","subsystem","RendererSystem"];kd.prototype={__class__:kd,__properties__:{get_filterSupported:"get_filterSupported"}};var bb=function(){};h.$CeB=bb;bb.__name__=["$CeB"];bb.__interfaces__=[kd];bb.prototype={__class__:bb};var dd=function(){};h.$CfB=dd;dd.__name__=["$CfB"];dd.$1N=function(a){switch(a){case 8:return e.Backspace;case 9:return e.Tab;
case 13:return e.Enter;case 15:return e.Command;case 16:return e.Shift;case 17:return e.Control;case 18:return e.Alt;case 20:return e.CapsLock;case 27:return e.Escape;case 32:return e.Space;case 33:return e.PageUp;case 34:return e.PageDown;case 35:return e.End;case 36:return e.Home;case 37:return e.Left;case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 45:return e.Insert;case 46:return e.Delete;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;
case 52:return e.Number4;case 53:return e.Number5;case 54:return e.Number6;case 55:return e.Number7;case 56:return e.Number8;case 57:return e.Number9;case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;case 72:return e.H;case 73:return e.I;case 74:return e.J;case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;case 81:return e.Q;case 82:return e.R;case 83:return e.S;
case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;case 89:return e.Y;case 90:return e.Z;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;case 99:return e.Numpad3;case 100:return e.Numpad4;case 101:return e.Numpad5;case 102:return e.Numpad6;case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 106:return e.NumpadMultiply;case 107:return e.NumpadAdd;case 108:return e.NumpadEnter;case 109:return e.NumpadSubtract;
case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 112:return e.F1;case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;case 119:return e.F8;case 120:return e.F9;case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;case 186:return e.Semicolon;case 187:return e.Equals;case 188:return e.Comma;case 189:return e.Minus;case 190:return e.Period;case 191:return e.Slash;case 192:return e.Backquote;case 219:return e.LeftBracket;
case 220:return e.Backslash;case 221:return e.RightBracket;case 222:return e.Quote;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};var za=function(){this.$9N=0;this.$7N=null;this.$3N=new F;this.$8N=[]};h.$CgB=za;za.__name__=["$CgB"];za.$$N=function(a,b){if(a.active){var c=a.$RF[10];if(null!=c&&(c.$JG=b,b*=c.scale.$xF,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c.$nE&1)&&(c.$nE|=1,c.$mE(),c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=
c;)d=c.next,za.$$N(c,b),c=d}};za.prototype={$5I:function(){if(1==I.$cL("scaleMode")){var a=new u;s.root.add(a);var b=I.$cL("width"),c=I.$cL("height"),d=I.$cL("maxWidth"),f=I.$cL("maxHeight"),g=function(){var g=Math.min(s.$FG.$cF.get_width()/b,s.$FG.$cF.get_height()/c),e=s.$FG.$cF.get_width()/2-g*b/2,h=s.$FG.$cF.get_height()/2;a.setXY(e,h-g*c/2);a.setScale(g);d*g<s.$FG.$cF.get_width()||f*g<s.$FG.$cF.get_height()?(null==a.get_scissor()&&a.set_scissor(new ea),a.get_scissor().set(b/2-d/2,c/2-f/2,d,f)):
a.set_scissor(null)};g();s.$FG.$cF.resize.connect(g)}},$VF:function(a){if(!(0>=a)){0.5<a?3>=this.$9N&&(++this.$9N,a=0.016666666666666666):this.$9N=0;if(null!=this.$7N){var b=this.$7N;this.$7N=null;for(var c=0;c<b.length;){var d=b[c];++c;d()}}for(b=0;b<this.$8N.length;)c=this.$8N[b],null==c||c.update(a)?this.$8N.splice(b,1):++b;s.volume.update(a);za.$$N(s.root,a);za.$$N(this.$3N,a)}},$qH:function(a){var b=a.graphics;null!=b&&(a.willRender(),u.$CH(s.root,b,!0),u.$CH(this.$3N,b,!0),a.didRender())},$4N:function(a){this.$8N.push(a)},
$6N:function(a){null==this.$7N?this.$7N=[a]:this.$7N.push(a)},__class__:za};var M=function(){};h.$ChB=M;M.__name__=["$ChB"];M.$AO=function(a,b,c,d,f,g,e){if(3>e)return!1;for(var q=0,h=2*Math.PI/e,k=0;k<e;){var l=k++,m=Math.cos(q),n=Math.sin(q),q=q+h;a.push(f*m+c);a.push(g*n+d);l<e-1&&(b.push(0),b.push(l),b.push(l+1))}return!0};M.$BO=function(a,b,c,d,f,g,e,q){if(3>q)return!1;a.push(c);a.push(d);e/=q;var h=0;for(q+=1;h<q;){var k=h++,l=Math.cos(g),m=Math.sin(g);g+=e;a.push(f*l+c);a.push(f*m+d);b.push(0);
b.push(k);b.push(k+1)}return!0};M.$CO=function(a,b,c,d,f,g,e,h,k){e/=k;var l=[],m=0;for(k+=1;m<k;){m++;var n=Math.cos(g),p=Math.sin(g);g+=e;l.push(f*n+c);l.push(f*p+d)}return M.$EO(a,b,l,h)};M.$DO=function(a,b,c,d,f,g,e,h){for(var k=0,l=2*Math.PI/h,m=[],n=0;n<h;){n++;var p=Math.cos(k),s=Math.sin(k),k=k+l;m.push(f*p+c);m.push(g*s+d)}m.push(f+c);m.push(d);return M.$EO(a,b,m,e)};M.$EO=function(a,b,c,d){var f=c.length;if(4>f)return!1;d/=2;var g=c[0],e=c[1],h=c[f-2],k=c[f-1],l=new ha(-(c[3]-e),c[2]-g);
l.normalize();var m=l.x,l=l.y;a.push(g-d*m);a.push(e-d*l);a.push(g+d*m);a.push(e+d*l);g=f/2|0;for(e=2;e<f-2;){var n=c[e++],p=c[e++],s=c[e],u=c[e+1],t=new ha(-(u-p),s-n);t.normalize();var r=new ha(t.x,t.y);r.add(m,l);r.normalize();var v=t.dot(r.x,r.y);r.multiply(d/v);if(0.15>v){var v=c[e-4],w=c[e-3];0>(n-v)*(u-w)-(p-w)*(s-v)?(a.push(n-r.x),a.push(p-r.y),a.push(n+m*d),a.push(p+l*d),a.push(n-r.x),a.push(p-r.y),a.push(n+t.x*d),a.push(p+t.y*d)):(a.push(n-m*d),a.push(p-l*d),a.push(n+r.x),a.push(p+r.y),
a.push(n-t.x*d),a.push(p-t.y*d),a.push(n+r.x),a.push(p+r.y));++g}else a.push(n-r.x),a.push(p-r.y),a.push(n+r.x),a.push(p+r.y);m=t.x;l=t.y}a.push(h-d*m);a.push(k-d*l);a.push(h+d*m);a.push(k+d*l);a=0;for(c=g-1;a<c;)f=2*a++,b.push(f),b.push(f+1),b.push(f+2),b.push(f+2),b.push(f+3),b.push(f+1);return!0};M.$FO=function(a){if(6>a.length)return null;null==M.$GO&&(M.$GO=new ld);return M.$GO.triangulate(a)};var fd=function(){};h.$CiB=fd;fd.__name__=["$CiB"];fd.$IO=function(a){switch(a){case 0:return W.Left;
case 1:return W.Middle;case 2:return W.Right}return W.Unknown(a)};var rb=function(){this.$VH=null;y.call(this)};h.$CjB=rb;rb.__name__=["$CjB"];rb.__super__=y;rb.prototype=p(y.prototype,{get_entitySlot:function(){return 11},onStart:function(){var a=this,b=I.$dL();null!=b&&s.$FG.$cF.orientation.watch(function(c,d){null==c||c==b?a.$LO():a.$KO(c!=d)})},$KO:function(a){var b=this;if(null==this.$VH){this.owner.addChild(this.$VH=new F);var c=this.$VH,d=ka.fromAssets("_2DKitOrientation");s.$FG.loadAssetPack(d).then(function(d){b.registerDisposable(d);
var g=new lc(0,0,0);a&&g.alpha.animate(0,1,0.3);c.add(g);var e=(new Fa(d.getTexture("RotateDevice"))).centerAnchor();d=(new F).add(e);c.addChild(d);d=function(){var a=s.$FG.$cF.get_width(),b=s.$FG.$cF.get_height();g.setSize(a,b);a=s.$FG.$cF.get_width()/2;b=s.$FG.$cF.get_height()/2;e.setXY(a,b)};d();b.connect0(s.$FG.$cF.resize,d)})}},$LO:function(){null!=this.$VH&&(this.$VH.dispose(),this.$VH=null)},__class__:rb});var xc=function(){};h.$CnB=xc;xc.__name__=["$CnB"];xc.prototype={__class__:xc};var md=
function(){};h.$CoB=md;md.__name__=["$CoB"];md.prototype={__class__:md};var G=function(a,b){this.$gO=new yc;this.$fO=!1;this.$eO=a.getContext("2d",{alpha:b})};h.$CpB=G;G.__name__=["$CpB"];G.__interfaces__=[ab];G.prototype={save:function(){var a=this.$gO,b=this.$gO.next;null==b&&(b=new yc,b.$kO=a,a.next=b);b.$JK=a.$JK;b.$LK=a.$LK;b.$NK=a.$NK;b.$iO=a.$iO;b.$jO=a.$jO;this.$gO=b;this.$eO.save()},translate:function(a,b){this.$eO.translate(a|0,b|0)},scale:function(a,b){this.$eO.scale(a,b)},rotate:function(a){this.$eO.rotate(3.141592653589793*
a/180)},transform:function(a,b,c,d,f,g){this.$eO.transform(a,b,c,d,f,g)},restore:function(){this.$gO=this.$gO.$kO;this.$eO.restore()},$SO:function(a,b,c,d,f){var g=this.$gO,g=(255*g.$JK&255)<<16|(255*g.$LK&255)<<8|255*g.$NK&255;null==G.$hO&&(G.$hO=w.$9P(d,f));G.$hO.width=d;G.$hO.height=f;var e=G.$hO.getContext("2d",null);e.globalCompositeOperation="copy";e.fillStyle=w.$DQ(g);e.fillRect(0,0,d,f);e.globalCompositeOperation="multiply";e.drawImage(a,b,c,d,f,0,0,d,f);e.globalCompositeOperation="destination-atop";
e.drawImage(a,b,c,d,f,0,0,d,f);return G.$hO},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,f,g,e){if(this.$fO)this.$fO=!1,this.$eO.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,f,g,e),this.$eO.globalCompositeOperation="source-over";else{var h=a.$PL;d=a.$QL+d|0;a=a.$RL+f|0;g|=0;e|=0;b|=0;c|=0;f=h.$gG;this.$gO.$iO?(h=this.$SO(h.$uO,d,a,g,e),this.$eO.drawImage(h,b*f,c*f,g*f,e*f)):this.$eO.drawImage(h.$uO,d*f,a*f,
g*f,e*f,b,c,g,e)}},drawPattern:function(a,b,c,d,f){if(this.$fO)this.$fO=!1,this.$eO.globalCompositeOperation="copy",this.drawPattern(a,b,c,d,f),this.$eO.globalCompositeOperation="source-over";else{var g=this.$gO,e=a.$PL.$gG;1!=e&&(this.$eO.save(),this.$eO.scale(1/e,1/e));b|=0;c|=0;d|=0;f|=0;g.$jO?this.$eO.rect(b,c,d,f):(this.$eO.fillStyle=this.$aO(a),this.$eO.fillRect(b,c,d*e,f*e));1!=e&&this.$eO.restore()}},fillRect:function(a,b,c,d,f){this.$fO?(this.$fO=!1,this.$eO.globalCompositeOperation="copy",
this.fillRect(a,b,c,d,f),this.$eO.globalCompositeOperation="source-over"):(b|=0,c|=0,d|=0,f|=0,this.$gO.$jO?this.$eO.rect(b,c,d,f):(this.$eO.fillStyle=this.$ZO(a),this.$eO.fillRect(b,c,d,f)))},fillTriangles:function(a,b,c){this.$fO=!1;this.$TO(b,c);this.$bO(a)},drawTriangles:function(a,b,c,d){this.$fO=!1;this.$TO(b,c);this.$cO(a)},$TO:function(a,b){this.$eO.beginPath();for(var c=0,d=b.length;c<d;){var f=2*b[c],g=2*b[c+1],e=2*b[c+2],c=c+3;this.$eO.moveTo(a[f],a[f+1]);this.$eO.lineTo(a[g],a[g+1]);this.$eO.lineTo(a[e],
a[e+1])}this.$eO.closePath()},fillPolygon:function(a,b){this.$fO=!1;this.$UO(b);this.$bO(a)},drawPolygon:function(a,b){this.$fO=!1;this.$UO(b);this.$cO(a)},$UO:function(a){this.$eO.beginPath();for(var b=0,c=a.length;b<c;){var d=a[b++],f=a[b++];this.$eO.lineTo(d,f)}this.$eO.closePath()},drawCircle:function(a,b,c,d,f){this.$fO=!1;this.$VO(b,c,d);this.$cO(a)},fillCircle:function(a,b,c,d,f){this.$fO=!1;this.$VO(b,c,d);this.$bO(a)},strokeCircle:function(a,b,c,d,f,g){this.$fO=!1;this.$VO(b,c,d);this.$dO(a,
f)},$VO:function(a,b,c){this.$eO.beginPath();this.$eO.arc(a,b,c,0,6.283185307179586);this.$eO.closePath()},drawEllipse:function(a,b,c,d,f,g){this.$fO=!1;this.$WO(b,c,d,f);this.$cO(a)},fillEllipse:function(a,b,c,d,f,g){this.$fO=!1;this.$WO(b,c,d,f);this.$bO(a)},strokeEllipse:function(a,b,c,d,f,g,e){this.$fO=!1;this.$WO(b,c,d,f);this.$dO(a,g)},$WO:function(a,b,c,d){var f=0.5522848*c,g=0.5522848*d,e=a-c,h=b-d;c=a+c;d=b+d;this.$eO.beginPath();this.$eO.moveTo(e,b);this.$eO.bezierCurveTo(e,b-g,a-f,h,a,
h);this.$eO.bezierCurveTo(a+f,h,c,b-g,c,b);this.$eO.bezierCurveTo(c,b+g,a+f,d,a,d);this.$eO.bezierCurveTo(a-f,d,e,b+g,e,b);this.$eO.closePath()},fillArc:function(a,b,c,d,f,g,e){this.$fO=!1;g=f+g;this.$eO.beginPath();this.$eO.moveTo(b,c);this.$eO.arc(0,0,d,3.141592653589793*f/180,3.141592653589793*g/180);this.$bO(a)},strokeArc:function(a,b,c,d,f,g,e,h){this.$fO=!1;c=f+g;this.$eO.beginPath();this.$eO.arc(b,b,d,3.141592653589793*f/180,3.141592653589793*c/180);this.$dO(a,e)},strokeLines:function(a,b,
c){this.$fO=!1;this.$XO(b);this.$eO.lineWidth=c;this.$eO.strokeStyle=this.$ZO(a);this.$eO.stroke()},drawLines:function(a,b,c){this.$fO=!1;this.$XO(b);this.$eO.lineWidth=c;this.$eO.strokeStyle=this.$aO(a);this.$eO.stroke()},$XO:function(a){this.$eO.beginPath();if(2<=a.length){this.$eO.moveTo(a[0],a[1]);for(var b=2,c=a.length;b<c;){var d=a[b++],f=a[b++];this.$eO.lineTo(d,f)}}},multiplyAlpha:function(a){this.$eO.globalAlpha*=a},setAlpha:function(a){this.$eO.globalAlpha=a},tint:function(a,b,c){var d=
this.$gO;d.$JK*=a;d.$LK*=b;d.$NK*=c;d.$iO=!0},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this.$eO.globalCompositeOperation=b},beginMask:function(){var a=this.$gO;a.$jO&&this.endMask();a.$jO=!0;this.$eO.beginPath()},endMask:function(){var a=this.$gO;a.$jO&&(a.$jO=!1,this.$eO.clip())},applyScissor:function(a,b,c,d){this.$eO.beginPath();this.$eO.rect(a|
0,b|0,c|0,d|0);this.$eO.clip()},willRender:function(){this.$fO=!0},didRender:function(){},onResize:function(a,b){},$ZO:function(a){var b=this.$gO;b.$iO&&(a=(b.$JK*(a&16711680)/16711680*255&255)<<16|(b.$LK*(a&65280)/65280*255&255)<<8|b.$NK*(a&255)/255*255&255);return w.$DQ(a)},$aO:function(a){return this.$gO.$iO?(a=this.$SO(a.$PL.$uO,a.$QL,a.$RL,a.$6H,a.$7H),this.$eO.createPattern(a,"repeat")):a.$nO()},$bO:function(a){this.$gO.$jO||(this.$eO.fillStyle=this.$ZO(a),this.$eO.fill())},$cO:function(a){this.$gO.$jO||
(this.$eO.fillStyle=this.$aO(a),this.$eO.fill())},$dO:function(a,b){this.$gO.$jO||(this.$eO.strokeStyle=this.$ZO(a),this.$eO.lineWidth=b,this.$eO.stroke())},__class__:G};var yc=function(){this.$kO=this.next=null;this.$iO=this.$jO=!1;this.$JK=this.$LK=this.$NK=1};h.$CqB=yc;yc.__name__=["$CqB"];yc.prototype={__class__:yc};var ub=function(a){this.graphics=new G(a,!1);this.$mO=new S(!0)};h.$CrB=ub;ub.__name__=["$CrB"];ub.__interfaces__=[bb];ub.prototype={get_filterSupported:function(){return!1},createTextureFromImage:function(a,
b,c){null==c&&(c=1);a=new cb(a,c);return a.createTexture(a.$qO/c,a.$rO/c)},createTexture:function(a,b,c,d){null==d&&(d=1);a=w.$9P(a,b);return this.createTextureFromImage(a,null,d)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:ub,__properties__:{get_filterSupported:"get_filterSupported"}};var zc=function(a,b,c){this.$pO=0;this.$oO=null;pa.call(this,a,b,c)};h.$CsB=zc;zc.__name__=["$CsB"];zc.__super__=
pa;zc.prototype=p(pa.prototype,{$nO:function(){if(this.$pO!=this.$PL.$vO||null==this.$oO)this.$pO=this.$PL.$vO,this.$oO=this.$PL.$xO(this.$QL,this.$RL,this.$6H,this.$7H);return this.$oO},__class__:zc});var cb=function(a,b){this.$zO=null;this.$vO=0;this.$qK=!1;this.$uO=a;this.$qO=a.width;this.$rO=a.height;this.$gG=b;this.$sO=this.$qO/b;this.$tO=this.$rO/b};h.$CtB=cb;cb.__name__=["$CtB"];cb.__interfaces__=[xc];cb.__super__=L;cb.prototype=p(L.prototype,{createTexture:function(a,b){return new zc(this,
Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$zO&&(this.$yO(),this.$zO=new Ac(this));return this.$zO},clear:function(){var a=this.$yO();a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.$uO.width,this.$uO.height);a.restore()},renderFilter:function(a,b,c){},$xO:function(a,b,c,d){var f=this.$yO(),g=this.$uO;if(0!=a||0!=b||c!=this.$sO||d!=this.$tO)g=w.$9P(c,d),c=g.getContext("2d",null),c.globalCompositeOperation="copy",c.drawImage(this.$uO,-a,-b);return f.createPattern(g,"repeat")},
$yO:function(){D.__instanceof(this.$uO,HTMLCanvasElement)||(this.$uO=w.$$P(this.$uO));return this.$uO.getContext("2d",null)},$oK:function(){URL.revokeObjectURL(this.$uO.src);this.$zO=this.$uO=null},__class__:cb});var Ac=function(a){G.call(this,a.$uO,!0);this.$0O=a};h.$CuB=Ac;Ac.__name__=["$CuB"];Ac.__super__=G;Ac.prototype=p(G.prototype,{drawTexture:function(a,b,c){G.prototype.drawTexture.call(this,a,b,c);++this.$0O.$vO},drawSubTexture:function(a,b,c,d,f,g,e){G.prototype.drawSubTexture.call(this,
a,b,c,d,f,g,e);++this.$0O.$vO},drawPattern:function(a,b,c,d,f){G.prototype.drawPattern.call(this,a,b,c,d,f);++this.$0O.$vO},fillRect:function(a,b,c,d,f){G.prototype.fillRect.call(this,a,b,c,d,f);++this.$0O.$vO},fillTriangles:function(a,b,c){G.prototype.fillTriangles.call(this,a,b,c);++this.$0O.$vO},drawTriangles:function(a,b,c,d){G.prototype.drawTriangles.call(this,a,b,c);++this.$0O.$vO},drawCircle:function(a,b,c,d,f){null==f&&(f=50);G.prototype.drawCircle.call(this,a,b,c,d,f);++this.$0O.$vO},fillCircle:function(a,
b,c,d,f){null==f&&(f=50);G.prototype.fillCircle.call(this,a,b,c,d,f);++this.$0O.$vO},drawEllipse:function(a,b,c,d,f,g){null==g&&(g=50);G.prototype.drawEllipse.call(this,a,b,c,d,f,g);++this.$0O.$vO},fillEllipse:function(a,b,c,d,f,g){null==g&&(g=50);G.prototype.fillEllipse.call(this,a,b,c,d,f,g);++this.$0O.$vO},strokeLines:function(a,b,c){G.prototype.strokeLines.call(this,a,b,c);++this.$0O.$vO},drawLines:function(a,b,c){G.prototype.drawLines.call(this,a,b,c);++this.$0O.$vO},__class__:Ac});var B=function(a,
b){Ya.call(this,a,b)};h.$CwB=B;B.__name__=["$CwB"];B.$6O=function(a){var b=[m.PNG,m.JPG,m.GIF],c=1,d=window.document.createElement("img");d.onload=d.onerror=function(f){1==d.width&&b.unshift(m.WEBP);c-=1;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="};B.$7O=function(){var a=window.document.createElement("audio");if(null==a||null==Qa(a,a.canPlayType))return[];var b=new xa("\\b(iPhone|iPod|iPad|Android)\\b",""),c=window.navigator.userAgent;if(!x.get_supported()&&
b.match(c))return[];b=[];b.push({format:m.WEBM,mimeType:"video/webm"});b.push({format:m.MOV,mimeType:"video/quicktime"});0>window.navigator.userAgent.indexOf("2DKSim")&&(b.push({format:m.MP3,mimeType:"audio/mpeg"}),b.push({format:m.MP4,mimeType:"video/mp4"}));b.push({format:m.OGG,mimeType:"audio/ogg; codecs=vorbis"});b.push({format:m.WAV,mimeType:"audio/wav"});for(var c=[],d=0;d<b.length;){var f=b[d];++d;var g="";try{g=a.canPlayType(f.mimeType)}catch(e){}""!=g&&c.push(f.format)}return c};B.$8O=function(a){var b=
++B.$EP;null==B.$DP&&(B.$DP=new va);B.$DP.h[b]=a;return b};B.$9O=function(a){B.$DP.remove(a)};B.__super__=Ya;B.prototype=p(Ya.prototype,{$wK:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:var d=window.document.createElement("img"),f=new Ka;f.$_L(d,"load",function(a){a=c.$FG.getRenderer().createTextureFromImage(d,null,1);null!=a?c.$yK(b,a):c.$2K(b)});f.$_L(d,"error",function(a){URL.revokeObjectURL(d.src);c.$1K(b,"Failed to load image")});"data:"!=A.substr(a,0,5)?this.$4O(a,
b,"blob",function(a){d.src=URL.createObjectURL(a)}):(d.crossOrigin="",d.src=a);break;case 7:case 8:case 9:case 10:case 11:if(x.get_supported())this.$4O(a,b,"arraybuffer",function(a){x.$fQ.decodeAudioData(a,function(a){c.$yK(b,new x(a))},function(){var a=fa.$5L();c.$yK(b,a)})});else{var g=window.document.createElement("audio");g.preload="auto";var e=B.$8O(g),f=new Ka;f.$_L(g,"canplaythrough",function(a){B.$9O(e);c.$yK(b,new db(g))});f.$_L(g,"error",function(a){B.$9O(e);a=g.error.code;3==a||4==a?(a=
fa.$5L(),c.$yK(b,a)):c.$1K(b,"Failed to load audio: "+g.error.code)});f.$$L(g,"progress",function(a){0<g.buffered.length&&0<g.duration&&(a=g.buffered.end(0)/g.duration,c.$zK(b,a*b.bytes|0,b.bytes))});g.src=a;g.load()}break;case 12:case 13:case 14:(function(a){var d="_kit_font_"+B.$FP;++B.$FP;if("undefined"!=typeof FontFace)(new FontFace(d,"url("+a+")",{})).load().then(function(f){window.document.fonts.add(f);c.$yK(b,new La(d,f,null,a))},function(d){URL.revokeObjectURL(a);c.$1K(b,d.message)});else{var f=
window.document.createElement("style");f.innerHTML="@font-face{font-family:"+d+";src:url("+a+");}";window.document.head.appendChild(f);var g=window.document.createElement("canvas").getContext("2d",null);g.font="300px sans";var e=g.measureText("BESbswy").width;g.font='300px "'+d+'"';var h=Date.now()/1E3,k=null,k=function(){var ib=Date.now()/1E3-h,l=g.measureText("BESbswy").width;5<=ib||e!=l?c.$yK(b,new La(d,null,f,a)):s.$FG.$UF.$6N(k)};s.$FG.$UF.$6N(k)}})(a);break;case 16:case 17:case 18:(function(a){var d=
window.document.createElement("video");d.src=a;var f=B.$8O(d);a=new Ka;a.$_L(d,"error",function(a){B.$9O(f);c.$1K(b,"Failed to load video: "+d.error.code)});w.$wP?(a.$_L(d,"loadeddata",function(a){B.$9O(f);c.$yK(b,new Ma(d))}),d.load()):(d.muted=!0,a.$_L(d,"timeupdate",function(a){d.onpause=function(){d.onpause=null;d.currentTime=0;d.muted=!1;B.$9O(f);c.$yK(b,new Ma(d))};d.pause()}),d.play())})(a);break;case 19:this.$4O(a,b,"text",function(a){c.$yK(b,new Za(a))})}},$xK:function(a){var b=this;null==
B.$CP&&(B.$CP=new R,B.$6O(function(a){var d=window.navigator.isCocoonJS?[m.TTF,m.WOFF]:[m.WOFF,m.OTF,m.TTF];a=b.$FG.getRenderer().getTextureAssetFormats().concat(a).concat(B.$7O()).concat(d).concat([m.Data]);B.$CP.success(a)}));B.$CP.then(a)},$4O:function(a,b,c,d){this.$5O(a,b,c,d)},$5O:function(a,b,c,d){var f=this,g=null,e=null,h=0,k=!1,l=function(){k&&(k=!1,window.clearInterval(h))},m=3,n=function(){m-=1;return 0<=m?(e(),!0):!1},e=function(){l();null!=g&&g.abort();g=new XMLHttpRequest;g.open("GET",
a,!0);g.responseType=c;var e=0;g.onprogress=function(a){k||(k=!0,h=window.setInterval(function(){4!=g.readyState&&5E3<Date.now()-e&&!n()&&(l(),f.$1K(b,"Download stalled"))},1E3));e=Date.now();f.$zK(b,a.loaded,a.total)};g.onerror=function(a){0==g.status&&n()||(l(),f.$1K(b,"HTTP error "+g.status))};g.onload=function(a){a=g.response;null==a&&(a=g.responseText);l();d(a)};g.send()};e()},__class__:B});var nd=function(){};h["kit.subsystem.ExternalSystem"]=nd;nd.__name__=["kit","subsystem","ExternalSystem"];
nd.prototype={__class__:nd};var sb=function(){};h.$CzB=sb;sb.__name__=["$CzB"];sb.__interfaces__=[nd];sb.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,f=0,g=a.split(".");f<g.length;){var e=g[f];++f;c=d;d=E.field(c,e)}return d.apply(c,b)},__class__:sb};var ob=function(a,b){aa.call(this,a);this.$pF=b};h.$C3B=ob;ob.__name__=["$C3B"];ob.__super__=aa;ob.prototype=p(aa.prototype,{__class__:ob});var db=function(a){this.$qK=!1;this.$gP=a};h.$C4B=db;db.__name__=["$C4B"];db.__interfaces__=
[tc];db.__super__=L;db.prototype=p(L.prototype,{$oK:function(){this.$gP=null},__class__:db});var od=function(){};h["kit.subsystem.StageSystem"]=od;od.__name__=["kit","subsystem","StageSystem"];od.prototype={__class__:od,__properties__:{get_height:"get_height",get_width:"get_width"}};var nb=function(a){this.orientation=new S(null);var b=this;this.$pF=a;this.resize=new qa;window.addEventListener("resize",Qa(this,this.$oP),!1);this.$oP(null);this.fullscreen=new S(!1);w.$5P(window.document,"fullscreenchange",
function(a){b.$rP()},!1);this.$rP()};h.$C6B=nb;nb.__name__=["$C6B"];nb.__interfaces__=[od];nb.prototype={get_width:function(){return this.$pF.width},get_height:function(){return this.$pF.height},get_fullscreenSupported:function(){return!0==w.$2P(["fullscreenEnabled","fullScreenEnabled"],window.document).value},lockOrientation:function(a){var b=w.$1P("lockOrientation",window.screen).value;if(null!=b){var c;switch(a[1]){case 0:c="portrait";break;case 1:c="landscape"}b.apply(window.screen,[c])}},requestFullscreen:function(a){null==
a&&(a=!0);var b=w.$2P(["fullscreenElement","fullScreenElement"],window.document).value;if(a){a=window.document.documentElement;var c=w.$2P(["requestFullscreen","requestFullScreen"],a).value;null==b&&null!=c&&c.apply(a,[{navigationUI:"hide"}])}else a=w.$2P(["exitFullscreen","cancelFullscreen","cancelFullScreen"],window.document).value,null!=b&&null!=a&&a.apply(window.document,[])},$oP:function(a){var b=this.$pF.parentElement.getBoundingClientRect();!w.$wP||90!=window.orientation&&-90!=window.orientation?
this.$pP(b.width,b.height):(a=Math.min(window.innerWidth,b.width),b=Math.min(window.innerHeight,b.height),this.$pP(a,b)&&window.scrollTo(window.scrollX,window.scrollY));this.$qP()},$pP:function(a,b){var c=w.$EQ(),d=c*a,c=c*b;if(this.$pF.width==d&&this.$pF.height==c)return!1;this.$pF.width=d|0;this.$pF.height=c|0;this.$pF.style.width=a+"px";this.$pF.style.height=b+"px";this.resize.emit();return!0},$qP:function(){null==window.orientation?this.orientation.set__(null):this.orientation.set__(window.innerWidth>
window.innerHeight?ta.Landscape:ta.Portrait)},$rP:function(){var a=w.$2P(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(!0==a)},__class__:nb,__properties__:{get_fullscreenSupported:"get_fullscreenSupported",get_height:"get_height",get_width:"get_width"}};var w=function(){};h.$C$B=w;w.__name__=["$C$B"];w.$0P=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};w.$1P=function(a,b){null==b&&(b=window);var c=E.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};
for(var c=a.charAt(0).toUpperCase()+A.substr(a,1,null),d=0,f=w.$vP;d<f.length;){var g=f[d];++d;var e=g+c,h=E.field(b,e);if(null!=h)return{prefix:g,field:e,value:h}}return{prefix:null,field:null,value:null}};w.$2P=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=w.$1P(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};w.$3P=function(a,b){null==b&&(b=window);var c=w.$1P(a,b).value;if(null==c)return!1;b[a]=c;return!0};w.$4P=function(a,b,c){a=a.style;for(var d=0,f=w.$vP;d<
f.length;){var g=f[d];++d;a.setProperty("-"+g+"-"+b,c)}a.setProperty(b,c)};w.$5P=function(a,b,c,d){for(var f=0,g=w.$vP;f<g.length;){var e=g[f];++f;a.addEventListener(e+b,c,d)}a.addEventListener(b,c,d)};w.$9P=function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};w.$$P=function(a){var b=w.$9P(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};w.$DQ=function(a){for(a=(16777215&a).toString(16);6>
a.length;)a="0"+Z.string(a);return"#"+Z.string(a)};w.$EQ=function(){var a=window.devicePixelRatio;null==a&&(a=1);return a};w.$FQ=function(){return 157286400};var La=function(a,b,c,d){this.$qK=!1;this.$tE=a;this.$MQ=b;this.$NQ=c;this.$OQ=d};h.$C_B=La;La.__name__=["$C_B"];La.__interfaces__=[Cd];La.__super__=L;La.prototype=p(L.prototype,{$oK:function(){null!=this.$MQ&&(window.document.fonts["delete"](this.$MQ),this.$MQ=null);URL.revokeObjectURL(this.$OQ);null!=this.$NQ&&(null!=this.$NQ.parentNode&&this.$NQ.parentNode.removeChild(this.$NQ),
this.$NQ=null)},__class__:La});var Ma=function(a){this.$qK=!1;this.$WQ=a;this.$XQ=(new pd(function(){var b=window.document.createElement("video");null!=a.srcObject?b.srcObject=a.srcObject:(b.src=a.src,0<=window.navigator.userAgent.indexOf("2DKSim")&&(b.src+="?"+Math.random()));return b})).setCapacity(8);this.$XQ.put(a)};h.$CCC=Ma;Ma.__name__=["$CCC"];Ma.__interfaces__=[id];Ma.__super__=L;Ma.prototype=p(L.prototype,{$oK:function(){null!=this.$WQ&&URL.revokeObjectURL(this.$WQ.src);this.$WQ=null},__class__:Ma});
var x=function(a){this.$qK=!1;this.$eQ=a};h.$CGC=x;x.__name__=["$CGC"];x.__interfaces__=[tc];x.__properties__={get_supported:"get_supported"};x.get_supported=function(){if(x.$lQ){x.$lQ=!1;var a=w.$1P("AudioContext").value;if(null!=a&&(x.$fQ=new a,x.$gQ=x.$hQ(),x.$gQ.connect(x.$fQ.destination),s.volume.watch(function(a,b){x.$gQ.gain.value=a}),s.$FG.$dF.down.connect(function(a){(new x(x.$kQ())).play()}).once(),a=function(a){"suspended"==x.$fQ.state&&x.$fQ.resume()},s.$FG.$dF.down.connect(a),s.$FG.$dF.up.connect(a),
s.$FG.$ZF.down.connect(a),s.$FG.$ZF.up.connect(a),w.$wP))var b=null,b=s.$FG.$dF.up.connect(function(a){var d=(new x(x.$kQ())).play();w.$0P(function(){var a=d.$qQ();(null==a||2<=a)&&b.dispose()})})}return null!=x.$fQ};x.$hQ=function(){return null!=x.$fQ.createGain?x.$fQ.createGain():x.$fQ.createGainNode()};x.$iQ=function(a,b){null!=a.start?a.start(0,b):a.noteOn(0,b)};x.$jQ=function(a){null!=a.stop?a.stop(0):a.noteOff(0)};x.$kQ=function(){null==x.$mQ&&(x.$mQ=x.$fQ.createBuffer(1,1,22050));return x.$mQ};
x.__super__=L;x.prototype=p(L.prototype,{play:function(a){null==a&&(a=1);return new Bc(this,a,!1)},get_duration:function(){return this.$eQ.duration},$oK:function(){this.$eQ=null},__class__:x,__properties__:{get_duration:"get_duration"}});var Bc=function(a,b,c){this.$wQ=0;this.$rQ=-1;var d=this;this.$7L=a;this.$$F=x.$gQ;this.$8L=new S(!1);this.$vQ=c;this.$YG=a.get_duration();this.volume=new C(b,function(a,b){null!=d.$tQ&&d.$oQ(a)});this.$hP(0);s.hidden.$xF&&this.set_paused(!0)};h.$CHC=Bc;Bc.__name__=
["$CHC"];Bc.__interfaces__=[md,$a];Bc.prototype={set_paused:function(a){a!=0<=this.$rQ&&(a?(this.$nQ(),this.$rQ=this.get_position()):(this.$8L.$xF||this.$hP(this.$rQ),this.$rQ=-1));return a},get_position:function(){return this.$8L.$xF?this.$YG:0<=this.$rQ?this.$rQ:(x.$fQ.currentTime-this.$sQ+this.$wQ)%this.$YG},update:function(a){this.volume.update(a);null!=this.$tQ&&3==this.$tQ.playbackState&&this.$8L.set__(!0);return this.$8L.$xF||0<=this.$rQ?(this.$VP=!1,this.$lP.dispose(),this.$nQ(),!0):!1},$nQ:function(){if(null!=
this.$tQ){x.$jQ(this.$tQ);this.$tQ.disconnect();this.$tQ.onended=null;if(w.$wP){var a=x.$kQ();try{this.$tQ.buffer=a}catch(b){}}this.$tQ=null}},dispose:function(){this.set_paused(!0);this.$8L.set__(!0)},$oQ:function(a){null==this.$uQ&&(this.$uQ=x.$hQ(),this.$pQ(this.$uQ));this.$uQ.gain.value=a},$pQ:function(a){0<=this.$rQ||(this.$tQ.disconnect(),this.$tQ.connect(a));a.connect(this.$$F);this.$$F=a},$hP:function(a){var b=this;this.$tQ=x.$fQ.createBufferSource();this.$tQ.buffer=this.$7L.$eQ;this.$tQ.loop=
this.$vQ;this.$tQ.onended=function(){b.$8L.set__(!0)};x.$iQ(this.$tQ,0>a?0:a);this.$tQ.connect(this.$$F);this.$wQ=0<=this.$rQ?this.$rQ:0;this.$sQ=x.$fQ.currentTime;1==this.volume.$xF&&null==this.$uQ||this.$oQ(this.volume.$xF);this.$VP||(ya.$vF.$UF.$4N(this),this.$VP=!0,this.$lP=s.hidden.get_changed().connect(function(a,d){a?(b.$mP=0<=b.$rQ,b.set_paused(!0)):b.set_paused(b.$mP)}))},$qQ:function(){return null!=this.$tQ?this.$tQ.playbackState:3},__class__:Bc,__properties__:{get_position:"get_position",
set_paused:"set_paused"}};var Cc=function(){};h.$CIC=Cc;Cc.__name__=["$CIC"];Cc.__interfaces__=[ca];Cc.prototype={__class__:Cc};var Dc=function(a){this.$xQ=a};h.$CJC=Dc;Dc.__name__=["$CJC"];Dc.__interfaces__=[Cc];Dc.prototype={getWidth:function(){return this.$xQ.width},getHeight:function(){return this.$xQ.height},isVideo:function(){var a=this.$xQ;return null==(a instanceof HTMLVideoElement?a:null)},upload:function(a){var b=this.$xQ,b=b instanceof HTMLVideoElement?b:null;null==b?(b=a.$Jb(),a=a.$Kb(),
n.$zQ.texImage2D(3553,0,b,b,a,this.$xQ)):(n.$zQ.pixelStorei(37441,0),n.$zQ.texImage2D(3553,0,6408,6408,5121,b),n.$zQ.pixelStorei(37441,1))},dispose:function(){URL.revokeObjectURL(this.$xQ.src)},__class__:Dc};var n=function(){};h.$CKC=n;n.__name__=["$CKC"];n.$5I=function(a){n.$zQ=a};n.$0Q=function(a,b,c,d){null==c?n.$zQ.bufferData(a,b,d):n.$zQ.bufferData(a,new Uint8Array(c,0,b),d)};var Da=function(){this.$mO=new S(!1);var a=this;this.$mO.get_changed().connect(function(b,c){b&&a.$5I()})};h.$CLC=Da;
Da.__name__=["$CLC"];Da.__interfaces__=[bb];Da.prototype={get_filterSupported:function(){return!0},$tS:function(a,b,c){null==c&&(c=1);var d=a.getWidth(),f=a.getHeight(),g=new Na(this.$sS,d,f,c);null!=b&&b!=Q.COMPRESSED&&(g.$Lb=b);g.$Cb=a;return g.createTexture(d/c,f/c)},createTexture:function(a,b,c,d){null==d&&(d=1);var f=new Na(this.$sS,a,b,d);null!=c&&c!=Q.COMPRESSED&&(f.$Lb=c);return f.createTexture(a/d,b/d)},getTextureAssetFormats:function(){return[]},createTextureFromImage:function(a,b,c){return null},
willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},$HM:function(a,b){null!=this.graphics&&(this.$sS.$_Z(a,b),this.graphics.onResize(a,b))},$5I:function(){this.$sS=new qd;this.graphics=new ga(this.$sS,null)},__class__:Da,__properties__:{get_filterSupported:"get_filterSupported"}};var tb=function(a){this.$uS=!1;var b=this;Da.call(this);this.$mO.set__(!0);if(0==n.$zQ.getError()){this.$uS=!0;var c=n.$zQ.canvas;c.addEventListener("webglcontextlost",function(a){a.preventDefault();
b.$mO.set__(!1)},!1);c.addEventListener("webglcontextrestored",function(a){b.$mO.set__(!0)},!1);a.resize.connect(Qa(this,this.$vS))}};h.$CMC=tb;tb.__name__=["$CMC"];tb.__super__=Da;tb.prototype=p(Da.prototype,{createTextureFromImage:function(a,b,c){null==c&&(c=1);return this.$tS(new Dc(a),b,c)},$vS:function(){var a=n.$zQ.canvas;this.$HM(a.width,a.height)},$5I:function(){Da.prototype.$5I.call(this);this.$vS()},__class__:tb});var U=function(){this.$BT=!0;this.$AT=-1;this.$_S=[];this.$8S=this.$9S=this.$$S=
null;this.$2S=0};h.$CPC=U;U.__name__=["$CPC"];U.$fR=function(a,b){var c=n.$zQ.createShader(a);n.$zQ.shaderSource(c,b);n.$zQ.compileShader(c);return c};U.prototype={$3S:function(){},$tI:function(){null==this.$8S&&(this.$8S=n.$zQ.createProgram(),this.$3S(),this.$BT&&(n.$zQ.detachShader(this.$8S,this.$9S),n.$zQ.deleteShader(this.$9S),this.$9S=null,n.$zQ.detachShader(this.$8S,this.$$S),n.$zQ.deleteShader(this.$$S),this.$$S=null))},$4S:function(a){n.$zQ.useProgram(this.$8S);if(0>this.$AT){for(var b=this.$AT=
0,c=this.$_S;b<c.length;){var d=c[b];++b;var f=d.$OT();d.$NT=this.$AT;this.$AT+=f}this.$_S=this.$_S.filter(function(a){return 0<=a.$MT});this.$_S.sort(function(a,b){return a.$MT-b.$MT})}if(null!=a){b=a.$_S.length;for(c=this.$_S.length;b<c;)d=b++,n.$zQ.enableVertexAttribArray(d);b=this.$_S.length;for(c=a.$_S.length;b<c;)d=b++,n.$zQ.disableVertexAttribArray(d)}else for(b=0,c=this.$_S.length;b<c;)d=b++,n.$zQ.enableVertexAttribArray(d);b=0;for(c=this.$_S.length;b<c;){var d=b++,f=this.$_S[d],g=null!=a?
a.$_S[d]:null;null!=g&&g.$gL==f.$gL&&g.$4I==f.$4I&&a.$AT==this.$AT&&g.$NT==f.$NT||n.$zQ.vertexAttribPointer(d,f.$gL,f.$4I,!1,this.$AT,f.$NT)}},$5S:function(a,b){b="precision mediump float;\n"+b;this.$9S=U.$fR(35633,a);this.$$S=U.$fR(35632,b);n.$zQ.attachShader(this.$8S,this.$9S);n.$zQ.attachShader(this.$8S,this.$$S);n.$zQ.linkProgram(this.$8S);n.$zQ.useProgram(this.$8S)},$6S:function(a,b,c){a=n.$zQ.getAttribLocation(this.$8S,a);this.$_S.push(new rd(a,b,c));this.$2S+=b},$7S:function(a){return n.$zQ.getUniformLocation(this.$8S,
a)},__class__:U};var Oa=function(a){this.$DT=this.$ET=this.$FT=this.$GT=-1;U.call(this);this.$KT=a};h.$CQC=Oa;Oa.__name__=["$CQC"];Oa.__super__=U;Oa.prototype=p(U.prototype,{$3S:function(){var a;switch(this.$KT){case 0:case 1:a="texture2D(u_texture, pos);";break;case 2:a="vec4(texture2D(u_textureRGB, pos).rgb, texture2D(u_texture, pos).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;",2==this.$KT?"uniform lowp sampler2D u_textureRGB;":
"","void main (void) {\nmediump vec2 pos = u_region.xy + mod(v_uv, u_region.zw);","lowp vec4 color = "+a,1==this.$KT?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$5S("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$6S("a_pos",2,
5126);this.$6S("a_uv",2,5126);this.$6S("a_color",4,5126);this.$HT=this.$7S("u_texture");this.$JT=this.$7S("u_region");n.$zQ.uniform1i(this.$HT,0);2==this.$KT&&(this.$IT=this.$7S("u_textureRGB"),n.$zQ.uniform1i(this.$IT,1))},$CT:function(a,b,c,d){if(a!=this.$DT||b!=this.$ET||c!=this.$FT||d!=this.$GT)this.$DT=a,this.$ET=b,this.$FT=c,this.$GT=d,n.$zQ.uniform4f(this.$JT,a,b,c,d)},__class__:Oa});var Pa=function(a){U.call(this);this.$KT=a};h.$CRC=Pa;Pa.__name__=["$CRC"];Pa.__super__=U;Pa.prototype=p(U.prototype,
{$3S:function(){var a;switch(this.$KT){case 0:case 1:a="texture2D(u_texture, v_uv);";break;case 2:a="vec4(texture2D(u_textureRGB, v_uv).rgb, texture2D(u_texture, v_uv).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;",2==this.$KT?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {","lowp vec4 color = "+a,1==this.$KT?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$5S("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",
a);this.$6S("a_pos",2,5126);this.$6S("a_uv",2,5126);this.$6S("a_color",4,5126);this.$HT=this.$7S("u_texture");this.$LT(0);2==this.$KT&&(this.$IT=this.$7S("u_textureRGB"),n.$zQ.uniform1i(this.$IT,1))},$LT:function(a){n.$zQ.uniform1i(this.$HT,a)},__class__:Pa});var rd=function(a,b,c){this.$NT=0;this.$MT=a;this.$gL=b;this.$4I=c};h.$CSC=rd;rd.__name__=["$CSC"];rd.prototype={$OT:function(){return this.$gL*(5126==this.$4I?4:1)},__class__:rd};var Ec=function(){U.call(this)};h.$CTC=Ec;Ec.__name__=["$CTC"];
Ec.__super__=U;Ec.prototype=p(U.prototype,{$3S:function(){this.$5S("attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.$6S("a_pos",2,5126);this.$6S("a_rgb",3,5126);this.$6S("a_alpha",1,5126)},__class__:Ec});var Fc=function(a,b,c){this.$TT=new H;this.$RT=this.$ST=
null;U.call(this);this.$QT=a;null==b&&(b="void main () {\nvTextureCoord = aTextureCoord;\nvFilterCoord = aTextureCoord * uTextureSize/uFilterSize;\ngl_Position = vec4(aVertexPosition, 0, 1);\n}");this.$0I=b;this.$zI=c;this.$BT=!1};h.$CUC=Fc;Fc.__name__=["$CUC"];Fc.__super__=U;Fc.prototype=p(U.prototype,{$3S:function(){var a=["precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\nattribute highp vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n#line 0",
this.$0I].join("\n"),b=["varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\n#line 0",this.$zI].join("\n");this.$5S(a,b);this.$6S("aVertexPosition",2,5126);this.$6S("aTextureCoord",2,5126);this.$ST=n.$zQ.getUniformLocation(this.$8S,"uTextureSize");this.$RT=n.$zQ.getUniformLocation(this.$8S,"uFilterSize");this.$0I=this.$zI=null},$PT:function(a,b,c,d){null!=this.$ST&&n.$zQ.uniform2f(this.$ST,
b.$qO,b.$rO);null!=this.$RT&&n.$zQ.uniform2f(this.$RT,c,d);b=0;a=a.$yI;for(a=new ja(a,a.arrayKeys());a.hasNext();){d=a.next();c=d.$2I;var f=this.$TT;c=null!=v[c]?f.getReserved(c):f.h[c];if(null==c){c=n.$zQ.getUniformLocation(this.$8S,d.$2I);c=new sd(c);var f=d.$2I,g=this.$TT;null!=v[f]?g.setReserved(f,c):g.h[f]=c}c=c.$UT;if(null!=c)switch(d.$4I){case 0:n.$zQ.uniform1f(c,d.$3I);break;case 1:d=new Float32Array(d.$3I);n.$zQ.uniform2fv(c,d);break;case 2:d=new Float32Array(d.$3I);n.$zQ.uniform3fv(c,d);
break;case 3:d=new Float32Array(d.$3I);n.$zQ.uniform4fv(c,d);break;case 4:n.$zQ.uniform1i(c,d.$3I);break;case 5:d=new Int32Array(d.$3I);n.$zQ.uniform2iv(c,d);break;case 6:d=new Int32Array(d.$3I);n.$zQ.uniform3iv(c,d);break;case 7:d=new Int32Array(d.$3I);n.$zQ.uniform4iv(c,d);break;case 8:d=new Float32Array(d.$3I);n.$zQ.uniformMatrix2fv(c,!1,d);break;case 9:d=new Float32Array(d.$3I);n.$zQ.uniformMatrix3fv(c,!1,d);break;case 10:d=new Float32Array(d.$3I);n.$zQ.uniformMatrix4fv(c,!1,d);break;case 11:n.$zQ.uniform1i(c,
b),0!=b&&n.$zQ.activeTexture(33984+b),++b,c=this.$QT.$Ga(d.$3I.$PL),this.$QT.$MR(c.$Bb)}}1<b&&n.$zQ.activeTexture(33984)},__class__:Fc});var sd=function(a){this.$UT=a};h.$CVC=sd;sd.__name__=["$CVC"];sd.prototype={__class__:sd};var qd=function(){this.$3a=new H;this.$2a=(new sc).$iL(157286400).$kL(function(a,c){return a.$Ib()});this.$wa=this.$xa=this.$ya=this.$za=this.$0a=this.$1a=0;this.$oa=[];this.$la=!0;this.$ja=!1;this.$ha=this.$ia=null;this.$ga=!1;this.$fa=null;this.$ea=0;this.$aa=this.$ba=this.$uI=
this.$ca=this.$da=null;this.$Za=!1;this.$Ya=null;this.$Xa=new ea;this.$Wa=0;this.$Ua=this.$Va=null;this.$$Z=[];this.$9Z=null;var a=this;this.$2a.$jL(function(b,c){a.$nR(b,c)});this.$2a.$iL(w.$FQ());s.lowMemoryWarning.connect(function(){a.$2a.dispose()});n.$zQ.clearColor(0,0,0,0);n.$zQ.enable(3042);n.$zQ.pixelStorei(37441,1);n.$zQ.pixelStorei(3317,1);this.$ka=n.$zQ.createBuffer();n.$zQ.bindBuffer(34962,this.$ka);this.$ma=n.$zQ.createBuffer();this.$na=n.$zQ.createBuffer();this.$Va=this.$ma;this.$pa=
new Pa(0);this.$qa=new Pa(1);this.$ra=new Pa(2);this.$sa=new Oa(0);this.$ta=new Oa(1);this.$ua=new Oa(2);this.$va=new Ec;this.$Ta(16)};h.$CgC=qd;qd.__name__=["$CgC"];qd.prototype={$_Z:function(a,b){n.$zQ.viewport(0,0,a,b);this.$za=a;this.$0a=b},$Aa:function(){this.$1a=this.$1a+1|0;this.$Fa(null)},$Ba:function(){this.$zR();n.$zQ.flush()},$Da:function(a){a==this.$uI&&(this.$zR(),this.$uI=null);this.$Ja(a);null!=a.$Hb?this.$nR(a,a.$Hb):this.$2a.$pL(a)},$Ea:function(a){if(a.$Gb){a.$Gb=!1;var b=this.$2a.$pL(a,
!1);null!=b?a.$Hb=b:this.$Ga(a);null!=a.$Cb&&(a.$Cb.dispose(),a.$Cb=null);a.$Db=null}},$gR:function(){var a=n.$zQ.createTexture();this.$MR(a);n.$zQ.texParameteri(3553,10242,33071);n.$zQ.texParameteri(3553,10243,33071);n.$zQ.texParameteri(3553,10240,9729);n.$zQ.texParameteri(3553,10241,9729);return a},$Fa:function(a){this.$zR();this.$Ya=null;null!=this.$aa&&(this.$aa=null,n.$zQ.disable(3089));this.$Ia(a);n.$zQ.clear(16384)},$Ga:function(a){var b=a.$Cb,c=a.$Gb?this.$2a.$cL(a):a.$Hb;if(null==c){c=this.$gR();
c=new td(c);if(a.$Gb){var d=!0;if(this.$2a.$sL+a.$Ib()>this.$2a.$tL){var f=this.$2a.$mL();2>this.$1a-f.$Fb&&(d=!1)}this.$2a.$lL(a,c,d)}else a.$Hb=c;null!=b?b.upload(a):(b=a.$Jb(),d=a.$Kb(),n.$zQ.texImage2D(3553,0,b,a.$qO,a.$rO,0,b,d,null))}else null!=b&&b.isVideo()&&a.$Fb!=this.$1a&&(this.$MR(c.$Bb),b.upload(a));a.$Fb=this.$1a;return c},$MR:function(a){this.$ia!=a&&(this.$ia=a,n.$zQ.bindTexture(3553,a))},$Ha:function(a){this.$ha!=a&&(a.$4S(this.$ha),this.$ha=a)},$nR:function(a,b){a==this.$uI&&(this.$zR(),
this.$uI=null);n.$zQ.deleteTexture(b.$Bb);null!=b.$HK&&n.$zQ.deleteTexture(b.$HK)},$Ia:function(a){if(this.$fa!=a)if(this.$fa=a,null!=a){var b=a.$Eb,c=null;null==b&&(b=n.$zQ.createFramebuffer(),a.$Eb=b,this.$Ea(a),c=a.$Hb.$Bb);n.$zQ.bindFramebuffer(36160,a.$Eb);n.$zQ.viewport(0,0,a.$qO,a.$rO);null!=c&&n.$zQ.framebufferTexture2D(36160,36064,3553,c,0)}else n.$zQ.bindFramebuffer(36160,null),n.$zQ.viewport(0,0,this.$za,this.$0a)},$Ja:function(a){a==this.$Ya&&(this.$zR(),this.$Ya=null);null!=a.$Eb&&(n.$zQ.deleteFramebuffer(a.$Eb),
a.$Eb=null)},$Ka:function(a,b,c,d,f,g){g.$PL!=this.$uI&&(this.$zR(),this.$uI=g.$PL);return this.$Sa(a,b,c,d,f,this.$La(g.$PL,f))},$La:function(a,b){return b?this.$qa:null!=a.$Db&&a.$Db.separateAlpha?this.$ra:this.$pa},$Ma:function(a,b,c,d,f,g){g.$PL!=this.$uI&&(this.$zR(),this.$uI=g.$PL);if(g.$QL!=this.$Xa.x||g.$RL!=this.$Xa.y||g.$6H!=this.$Xa.width||g.$7H!=this.$Xa.height)this.$zR(),this.$Xa.set(g.$QL,g.$RL,g.$6H,g.$7H);return this.$Sa(a,b,c,d,f,this.$Na(g.$PL,f))},$Na:function(a,b){return b?this.$ta:
null!=a.$Db&&a.$Db.separateAlpha?this.$ua:this.$sa},$Oa:function(a,b,c,d,f){return this.$Sa(a,b,c,d,f,this.$va)},$Pa:function(a,b,c,d,f,g){return this.$Ra(a,b,c,d,f,this.$va,g)},$Qa:function(a,b,c,d,f,g,e){g.$PL!=this.$uI&&(this.$zR(),this.$uI=g.$PL);if(g.$QL!=this.$Xa.x||g.$RL!=this.$Xa.y||g.$6H!=this.$Xa.width||g.$7H!=this.$Xa.height)this.$zR(),this.$Xa.set(g.$QL,g.$RL,g.$6H,g.$7H);return this.$Ra(a,b,c,d,f,this.$Na(g.$PL,f),e)},$tI:function(a,b,c,d,f,e,h){a!=this.$Ya&&(this.$zR(),this.$Ya=a);b!=
this.$Ua&&(this.$zR(),this.$Ua=b);d!=this.$Wa&&(this.$zR(),this.$Wa=d);f!=this.$Za&&(this.$zR(),this.$Za=f);e!=this.$ba&&(this.$zR(),e.$tI(),this.$ba=e);h!=this.$Va&&(this.$zR(),this.$Va=h);if(null!=c||null!=this.$aa)null!=c&&null!=this.$aa&&this.$aa.equals(c)||(this.$zR(),this.$aa=null!=c?c.clone(this.$aa):null,this.$ja=!0)},$Ra:function(a,b,c,d,f,e,h){this.$tI(a,b,c,d,f,e,this.$na);a=this.$$Z.length;e=a/e.$2S|0;for(b=0;b<h.length;)c=h[b],++b,this.$oa.push(c+e);return a},$Sa:function(a,b,c,d,f,e){this.$tI(a,
b,c,d,f,e,this.$ma);this.$wa>=this.$xa&&this.$Ta(2*this.$xa);++this.$wa;a=this.$ya;this.$ya+=4*e.$2S;return a},$IM:function(a,b,c,d){var f=b.$xI(),e=this.$3a,e=null!=v[f]?e.getReserved(f):e.h[f];if(null==e){var e=new Fc(this,b.$0I,b.$zI),h=this.$3a;null!=v[f]?h.setReserved(f,e):h.h[f]=e}f=this.$Sa(a,K.Copy,null,0,!1,e);h=this.$9Z;this.$uI=null;var k=c/a.$sO,l=d/a.$tO,m=2*k-1,n=2*l-1;h[f]=-1;h[++f]=-1;h[++f]=0;h[++f]=0;h[++f]=m;h[++f]=-1;h[++f]=k;h[++f]=0;h[++f]=m;h[++f]=n;h[++f]=k;h[++f]=l;h[++f]=
-1;h[++f]=n;h[++f]=0;h[++f]=l;this.$Ia(a);this.$Ha(e);e.$PT(b,a,c,d);this.$zR()},$zR:function(){if(this.$Va==this.$ma){if(1>this.$wa)return}else if(1>this.$oa.length)return;this.$Ia(this.$Ya);if(this.$Ua!=this.$ca){switch(this.$Ua[1]){case 0:n.$zQ.blendFunc(1,771);break;case 1:n.$zQ.blendFunc(1,1);break;case 2:n.$zQ.blendFunc(774,771);break;case 3:n.$zQ.blendFunc(1,769);break;case 4:n.$zQ.blendFunc(0,770);break;case 5:n.$zQ.blendFunc(1,0)}this.$ca=this.$Ua}if(this.$Wa!=this.$ea){if(0<this.$Wa)if(0==
this.$ea&&n.$zQ.enable(2960),this.$Za){var a=1<<this.$Wa-1;n.$zQ.stencilMask(a);this.$ea<this.$Wa&&n.$zQ.clear(1024);n.$zQ.stencilFunc(514,a-1,255)}else a=(1<<this.$Wa)-1,n.$zQ.stencilFunc(514,a,a);else n.$zQ.disable(2960);this.$ea=this.$Wa}this.$Za!=this.$ga&&(this.$Za?(n.$zQ.stencilMask(1<<this.$Wa-1),n.$zQ.clear(1024),n.$zQ.colorMask(!1,!1,!1,!1),n.$zQ.stencilFunc(514,(1<<this.$Wa-1)-1,255),n.$zQ.stencilOp(7680,7680,7682)):(n.$zQ.colorMask(!0,!0,!0,!0),a=(1<<this.$Wa)-1,n.$zQ.stencilFunc(514,a,
a),n.$zQ.stencilOp(7680,7680,7680)),this.$ga=this.$Za);this.$ja&&(null!=this.$aa?(n.$zQ.enable(3089),n.$zQ.scissor(this.$aa.x|0,this.$aa.y|0,this.$aa.width|0,this.$aa.height|0)):n.$zQ.disable(3089),this.$ja=!1);null!=this.$uI&&(a=this.$Ga(this.$uI),null!=a.$HK?(n.$zQ.activeTexture(33985),this.$MR(a.$Bb),n.$zQ.activeTexture(33984),this.$MR(a.$HK)):this.$MR(a.$Bb));this.$Ha(this.$ba);this.$ba!=this.$sa&&this.$ba!=this.$ta&&this.$ba!=this.$ua||this.$ba.$CT(this.$Xa.x/this.$uI.$sO,this.$Xa.y/this.$uI.$tO,
this.$Xa.width/this.$uI.$sO,this.$Xa.height/this.$uI.$tO);this.$Va!=this.$da&&(n.$zQ.bindBuffer(34963,this.$Va),this.$da=this.$Va);if(this.$da==this.$ma){if(this.$la){this.$la=!1;for(var a=new Uint16Array(6*this.$xa),b=0,c=this.$xa;b<c;){var d=b++,f=6*d,d=4*d;a[f]=d;a[f+1]=d+1;a[f+2]=d+2;a[f+3]=d+2;a[f+4]=d+3;a[f+5]=d}n.$0Q(34963,a.byteLength,a.buffer,35044)}n.$0Q(34962,4*this.$ya,this.$9Z.buffer,35048);n.$zQ.drawElements(4,6*this.$wa,5123,0);this.$ya=this.$wa=0}else a=new Uint16Array(this.$oa),n.$0Q(34963,
a.byteLength,a.buffer,35048),this.$oa.length=0,b=new Float32Array(this.$$Z),n.$0Q(34962,b.byteLength,b.buffer,35048),this.$$Z.length=0,n.$zQ.drawElements(4,a.length,5123,0)},$Ta:function(a){1024<a?this.$zR():(this.$xa=a,a=new Float32Array(32*a),null!=this.$9Z&&a.set(this.$9Z,0),this.$9Z=a,this.$la=!0)},__class__:qd};var ga=function(a,b){this.$7a=this.$gO=null;if(null==ga.$8a){var c=new Float32Array(8);ga.$8a=c}this.$QT=a;this.$0O=b};h.$ChC=ga;ga.__name__=["$ChC"];ga.__interfaces__=[ab];ga.prototype=
{save:function(){var a=this.$gO,b=this.$gO.next;null==b&&(b=new Gc,b.$kO=a,a.next=b);a.$9a.clone(b.$9a);b.$JK=a.$JK;b.$LK=a.$LK;b.$NK=a.$NK;b.$HK=a.$HK;b.$jI=a.$jI;b.$kI=null!=a.$kI?a.$kI.clone(b.$kI):null;b.$$a=a.$$a;b.$_a=a.$_a;this.$gO=b},translate:function(a,b){var c=this.$gO.$9a;c.m02+=c.m00*a+c.m01*b;c.m12+=c.m10*a+c.m11*b},scale:function(a,b){var c=this.$gO.$9a;c.m00*=a;c.m10*=a;c.m01*=b;c.m11*=b},rotate:function(a){var b=this.$gO.$9a;a=3.141592653589793*a/180;var c=Math.sin(a);a=Math.cos(a);
var d=b.m00,f=b.m10,e=b.m01,h=b.m11;b.m00=d*a+e*c;b.m10=f*a+h*c;b.m01=e*a-d*c;b.m11=h*a-f*c},transform:function(a,b,c,d,f,e){var h=this.$gO;ga.$JH.set(a,b,c,d,f,e);X.multiply(h.$9a,ga.$JH,h.$9a)},restore:function(){this.$gO=this.$gO.$kO},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,f,e,h){var k=this.$gO,l=a.$PL;b=this.$6a(b,c,e,h);c=l.$sO;l=l.$tO;d=(a.$QL+d)/c;f=(a.$RL+f)/l;e=d+e/c;h=f+h/l;c=k.$JK;var l=k.$LK,m=k.$NK,n=k.$HK;
a=this.$QT.$Ka(this.$0O,k.$jI,k.$kI,k.$$a,k.$_a,a);k=this.$QT.$9Z;k[a]=b[0];k[++a]=b[1];k[++a]=d;k[++a]=f;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n;k[++a]=b[2];k[++a]=b[3];k[++a]=e;k[++a]=f;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n;k[++a]=b[4];k[++a]=b[5];k[++a]=e;k[++a]=h;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n;k[++a]=b[6];k[++a]=b[7];k[++a]=d;k[++a]=h;k[++a]=c;k[++a]=l;k[++a]=m;k[++a]=n},drawPattern:function(a,b,c,d,f){var e=this.$gO,h=a.$PL;b=this.$6a(b,c,d,f);d/=h.$sO;f/=h.$tO;h=e.$JK;c=e.$LK;var k=e.$NK,l=e.$HK;
a=this.$QT.$Ma(this.$0O,e.$jI,e.$kI,e.$$a,e.$_a,a);e=this.$QT.$9Z;e[a]=b[0];e[++a]=b[1];e[++a]=0;e[++a]=0;e[++a]=h;e[++a]=c;e[++a]=k;e[++a]=l;e[++a]=b[2];e[++a]=b[3];e[++a]=d;e[++a]=0;e[++a]=h;e[++a]=c;e[++a]=k;e[++a]=l;e[++a]=b[4];e[++a]=b[5];e[++a]=d;e[++a]=f;e[++a]=h;e[++a]=c;e[++a]=k;e[++a]=l;e[++a]=b[6];e[++a]=b[7];e[++a]=0;e[++a]=f;e[++a]=h;e[++a]=c;e[++a]=k;e[++a]=l},fillRect:function(a,b,c,d,f){var e=this.$gO;b=this.$6a(b,c,d,f);c=e.$JK*(a&16711680)/16711680;d=e.$LK*(a&65280)/65280;a=e.$NK*
(a&255)/255;f=e.$HK;var e=this.$QT.$Oa(this.$0O,e.$jI,e.$kI,e.$$a,e.$_a),h=this.$QT.$9Z;h[e]=b[0];h[++e]=b[1];h[++e]=c;h[++e]=d;h[++e]=a;h[++e]=f;h[++e]=b[2];h[++e]=b[3];h[++e]=c;h[++e]=d;h[++e]=a;h[++e]=f;h[++e]=b[4];h[++e]=b[5];h[++e]=c;h[++e]=d;h[++e]=a;h[++e]=f;h[++e]=b[6];h[++e]=b[7];h[++e]=c;h[++e]=d;h[++e]=a;h[++e]=f},fillTriangles:function(a,b,c){var d=this.$gO,f=d.$9a,e=f.m00,h=f.m01,k=f.m02,l=f.m10,m=f.m11,f=f.m12,n=d.$JK*(a&16711680)/16711680,p=d.$LK*(a&65280)/65280;a=d.$NK*(a&255)/255;
var r=d.$HK;c=this.$QT.$Pa(this.$0O,d.$jI,d.$kI,d.$$a,d.$_a,c);for(var d=this.$QT.$$Z,s=0,t=b.length;s<t;){var u=b[s++],v=b[s++];d[c++]=u*e+v*h+k;d[c++]=u*l+v*m+f;d[c++]=n;d[c++]=p;d[c++]=a;d[c++]=r}},drawTriangles:function(a,b,c,d){var f=this.$gO,e=a.$PL,h=f.$9a,k=h.m00,l=h.m01,m=h.m02,n=h.m10,p=h.m11,h=h.m12,r=f.$JK,s=f.$LK,t=f.$NK,u=f.$HK;c=this.$QT.$Qa(this.$0O,f.$jI,f.$kI,f.$$a,f.$_a,a,c);var f=this.$QT.$$Z,v=a.$6H/e.$sO;a=a.$7H/e.$tO;for(var w=0,x=0,y=b.length;x<y;){var z=b[x++],A=b[x++];f[c++]=
z*k+A*l+m;f[c++]=z*n+A*p+h;null!=d?(z=d[w++],A=d[w++],f[c++]=v*z,f[c++]=a*A):(f[c++]=z/e.$sO,f[c++]=A/e.$tO);f[c++]=r;f[c++]=s;f[c++]=t;f[c++]=u}},fillPolygon:function(a,b){var c=M.$FO(b);null!=c&&this.fillTriangles(a,b,c)},drawPolygon:function(a,b){var c=M.$FO(b);null!=c&&this.drawTriangles(a,b,c)},drawCircle:function(a,b,c,d,f){null==f&&(f=50);var e=[],h=[];M.$AO(e,h,b,c,d,d,f)&&this.drawTriangles(a,e,h)},fillCircle:function(a,b,c,d,f){null==f&&(f=50);var e=[],h=[];M.$AO(e,h,b,c,d,d,f)&&this.fillTriangles(a,
e,h)},strokeCircle:function(a,b,c,d,f,e){null==e&&(e=50);var h=[],k=[];M.$DO(h,k,b,c,d,d,f,e)&&this.fillTriangles(a,h,k)},drawEllipse:function(a,b,c,d,f,e){null==e&&(e=50);var h=[],k=[];M.$AO(h,k,b,c,d,f,e)&&this.drawTriangles(a,h,k)},fillEllipse:function(a,b,c,d,f,e){null==e&&(e=50);var h=[],k=[];M.$AO(h,k,b,c,d,f,e)&&this.fillTriangles(a,h,k)},strokeEllipse:function(a,b,c,d,f,e,h){null==h&&(h=50);var k=[],l=[];M.$DO(k,l,b,c,d,f,e,h)&&this.fillTriangles(a,k,l)},fillArc:function(a,b,c,d,f,e,h){null==
h&&(h=50);var k=[],l=[];M.$BO(k,l,b,c,d,3.141592653589793*f/180,3.141592653589793*e/180,h)&&this.fillTriangles(a,k,l)},strokeArc:function(a,b,c,d,f,e,h,k){null==k&&(k=50);var l=[],m=[];M.$CO(l,m,b,c,d,3.141592653589793*f/180,3.141592653589793*e/180,h,k)&&this.fillTriangles(a,l,m)},strokeLines:function(a,b,c){var d=[],f=[];M.$EO(d,f,b,c)&&this.fillTriangles(a,d,f)},drawLines:function(a,b,c){var d=[],f=[];M.$EO(d,f,b,c)&&this.drawTriangles(a,d,f)},multiplyAlpha:function(a){this.$gO.$HK*=a},setAlpha:function(a){this.$gO.$HK=
a},tint:function(a,b,c){var d=this.$gO;d.$JK*=a;d.$LK*=b;d.$NK*=c},setBlendMode:function(a){this.$gO.$jI=a},beginMask:function(){var a=this.$gO;++a.$$a;a.$_a=!0},endMask:function(){this.$gO.$_a=!1},applyScissor:function(a,b,c,d){var f=this.$gO,e=ga.$8a;e[0]=a;e[1]=b;e[2]=a+c;e[3]=b+d;f.$9a.$tG(e,4,e);this.$7a.$tG(e,4,e);a=e[0];b=e[1];c=e[2]-a;d=e[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);f.$Ab(a,b,c,d)},willRender:function(){this.$QT.$Aa()},didRender:function(){this.$QT.$Ba()},onResize:function(a,b){this.$gO=
new Gc;var c=null!=this.$0O?-1:1;this.$gO.$9a.set(2/a,0,0,-2*c/b,-1,c);this.$7a=new X;this.$7a.set(2/a,0,0,2/b,-1,-1);this.$7a.invert()},$6a:function(a,b,c,d){c=a+c;d=b+d;var f=ga.$8a;f[0]=a;f[1]=b;f[2]=c;f[3]=b;f[4]=c;f[5]=d;f[6]=a;f[7]=d;this.$gO.$9a.$tG(f,8,f);return f},__class__:ga};var Gc=function(){this.$kO=this.next=null;this.$_a=!1;this.$$a=0;this.$JK=this.$LK=this.$NK=this.$HK=1;this.$kI=null;this.$jI=K.Normal;this.$9a=new X};h.$CiC=Gc;Gc.__name__=["$CiC"];Gc.prototype={$Ab:function(a,b,
c,d){if(null!=this.$kI){var f=this.$kI.x,f=f>a?f:a,e=this.$kI.y,e=e>b?e:b,h=this.$kI.x+this.$kI.width;c=a+c;var k=this.$kI.y+this.$kI.height;d=b+d;a=f;b=e;c=(h<c?h:c)-f;c=0>c?0:c;d=(k<d?k:d)-e;d=0>d?0:d}else this.$kI=new ea;this.$kI.set(Math.round(a),Math.round(b),Math.round(c),Math.round(d))},__class__:Gc};var td=function(a){this.$HK=null;this.$Bb=a};h.$CjC=td;td.__name__=["$CjC"];td.prototype={__class__:td};var Hc=function(a,b,c){pa.call(this,a,b,c)};h.$CkC=Hc;Hc.__name__=["$CkC"];Hc.__super__=
pa;Hc.prototype=p(pa.prototype,{__class__:Hc});var Na=function(a,b,c,d){this.$zO=null;this.$Lb=Q.RGBA;this.$Hb=null;this.$Gb=!0;this.$Fb=-1;this.$Cb=this.$Db=this.$Eb=null;this.$qK=!1;this.$QT=a;this.$qO=b;this.$rO=c;this.$gG=d;this.$sO=b/d;this.$tO=c/d};h.$ClC=Na;Na.__name__=["$ClC"];Na.__interfaces__=[xc];Na.__super__=L;Na.prototype=p(L.prototype,{createTexture:function(a,b){return new Hc(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$zO&&(this.$zO=new ga(this.$QT,this),this.$zO.onResize(this.$qO,
this.$rO));return this.$zO},clear:function(){this.$QT.$Fa(this)},renderFilter:function(a,b,c){this.$QT.$IM(this,a,b,c)},$Ib:function(){var a;switch(this.$Lb[1]){case 1:a=2;break;case 2:a=3;break;case 3:a=2;break;default:a=4}return a*this.$qO*this.$rO},$Jb:function(){switch(this.$Lb[1]){case 2:case 3:return 6407;default:return 6408}},$Kb:function(){switch(this.$Lb[1]){case 1:return 32819;case 3:return 33635;default:return 5121}},$oK:function(){this.$QT.$Da(this);null!=this.$Cb&&(this.$Cb.dispose(),
this.$Cb=null);this.$zO=this.$Hb=this.$Eb=this.$Db=null},__class__:Na});var gb=function(){this.$Tb=null;y.call(this);this.scenes=[];this.occludedScenes=[];this.$DJ=new F};h["kit.scene.Director"]=gb;gb.__name__=["kit","scene","Director"];gb.__super__=y;gb.prototype=p(y.prototype,{get_entitySlot:function(){return 8},$Nb:function(a,b){var c=this;this.$Rb();var d=this.get_topScene();null!=d?this.$Sb(d,a,b,function(){c.$LO(d)}):(this.$oH(a),this.$Qb())},unwindToScene:function(a,b){var c=null!=a.owner?
a.owner:(new F).add(a);this.$Ob(c,b)},$Ob:function(a,b){var c=this;this.$Rb();var d=this.get_topScene();if(null!=d){if(d!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.$Sb(d,a,b,function(){c.$Pb(d)})}}else this.$Nb(a,b)},onAdded:function(){this.owner.addChild(this.$DJ)},onRemoved:function(){this.$Rb();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this.$DJ.dispose()},onUpdate:function(a){null!=
this.$Tb&&this.$Tb.$VF(a)&&this.$Rb()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},$oH:function(a){var b=this.get_topScene();null!=b&&this.$DJ.removeChild(b);A.remove(this.scenes,a);this.scenes.push(a);this.$DJ.addChild(a)},$LO:function(a){a=a.$RF[9];null!=a&&a.hidden.emit()},$Pb:function(a){this.$LO(a);a.dispose()},$KO:function(a){a=a.$RF[9];null!=a&&a.shown.emit()},$Qb:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a].$RF[9];if(null==b||
b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.$KO(a)},$Rb:function(){null!=this.$Tb&&(this.$Tb.$Ub(),this.$Tb=null,this.$Qb())},$Sb:function(a,b,c,d){this.$Rb();this.$oH(b);null!=c?(this.occludedScenes.push(a),this.$Tb=new ud(a,b,c,d),this.$Tb.$5I(this)):(d(),this.$Qb())},__class__:gb,__properties__:p(y.prototype.__properties__,{get_topScene:"get_topScene"})});var ud=function(a,b,c,d){this.$WG=a;this.$XG=b;
this.$Vb=c;this.$Wb=d};h.$CpC=ud;ud.__name__=["$CpC"];ud.prototype={$5I:function(a){this.$Vb.init(a,this.$WG,this.$XG)},$VF:function(a){return this.$Vb.update(a)},$Ub:function(){this.$Vb.complete();this.$Wb()},__class__:ud};var Gd=function(){};h["kit.scene.Transition"]=Gd;Gd.__name__=["kit","scene","Transition"];Gd.prototype={init:function(a,b,c){this.$Xb=a;this.$WG=b;this.$XG=c},update:function(a){return!0},complete:function(){},__class__:Gd};var Ad=function(){};h["kit.util.BitSets"]=Ad;Ad.__name__=
["kit","util","BitSets"];Ad.set=function(a,b,c){return c?a|b:a&~b};var Td=function(){};h["kit.util.LogHandler"]=Td;Td.__name__=["kit","util","LogHandler"];var pd=function(a){this.$tL=2147483647;this.$eb=a;this.$fb=[]};h["kit.util.Pool"]=pd;pd.__name__=["kit","util","Pool"];pd.prototype={put:function(a){this.$fb.length<this.$tL&&this.$fb.push(a)},setCapacity:function(a){this.$fb.length>a&&(this.$fb.length=a);this.$tL=a;return this},__class__:pd};var R=function(){this.$lb=this.$mb=null;this.$kb=0;this.$jb=
null};h["kit.util.Promise"]=R;R.__name__=["kit","util","Promise"];R.all=function(a){if(1>a.length)return(new R).success([]);for(var b=a.length,c=new R,d=function(a){c.failure(a)},f=Array(b),e=function(){for(var a=0,d=0;d<f.length;){var e=f[d];++d;a+=e}c.emitProgress(a/b)},h=Array(b),k=0,l=0;l<b;){var m=[l++];f[m[0]]=0;var n=m[0],p=function(a){return function(d){k+=1;h[a[0]]=d;1>f[a[0]]&&(f[a[0]]=1,e());k==b&&c.success(h)}}(m);a[n].then(p).progress(function(a){return function(b){f[a[0]]=b;e()}}(m)).catchError(d)}return c};
R.prototype={then:function(a){var b=this;if(2==this.$kb)return this;var c=new R;this.$4F(c,function(){if(1==b.$kb){var d=a(b.$jb);c.$hb(d)}else c.failure(b.$jb)});return c},catchError:function(a){var b=this;if(1==this.$kb)return this;var c=new R;this.$4F(c,function(){if(2==b.$kb){var d=a(b.$jb);c.$hb(d)}else c.success(b.$jb)});return c},failure:function(a){return this.$ib(2,a)},success:function(a){return this.$ib(1,a)},progress:function(a){0==this.$kb&&(null==this.$mb&&(this.$mb=new P),this.$mb.connect(a));
return this},emitProgress:function(a){0==this.$kb&&null!=this.$mb&&this.$mb.emit(a)},$4F:function(a,b){0==this.$kb?null==this.$lb?this.$lb=[b]:this.$lb.push(b):s.$FG.$UF.$6N(b);this.progress(function(b){a.emitProgress(b)})},$hb:function(a){var b=this;D.__instanceof(a,R)?a.then(function(a){b.success(a)}).catchError(function(a){b.failure(a)}):this.success(a)},$ib:function(a,b){if(0==this.$kb&&(this.$jb=b,this.$kb=a,null!=this.$lb)){for(var c=0,d=this.$lb;c<d.length;){var f=d[c];++c;f()}this.$lb=null}return this},
__class__:R};var Mc=function(a){this.next=null;this.$qb=a};h.$CrC=Mc;Mc.__name__=["$CrC"];Mc.prototype={__class__:Mc};var ma=function(){};h["kit.util.Strings"]=ma;ma.__name__=["kit","util","Strings"];ma.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?A.substr(a,b+1,null):null};ma.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?A.substr(a,0,b):a};ma.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=A.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=A.substr(a,
b+1,null));return ma.getFileExtension(a)};ma.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};ma.withFields=function(a,b){var c=b.length;if(0<c){a+=0<a.length?" [":"[";for(var d=0;d<c;){0<d&&(a+=", ");var f=b[d],e=b[d+1];if(D.__instanceof(e,Error)){var h=e.stack;null!=h&&(e=h)}a+=f+"="+Z.string(e);d+=2}a+="]"}return a};var Ea=function(){};h.$CsC=Ea;Ea.__name__=["$CsC"];Ea.prototype={__class__:Ea};var ld=function(){};h["kit.util.Triangulator"]=ld;ld.__name__=["kit",
"util","Triangulator"];ld.prototype={triangulate:function(a){var b=a.length;if(6>b)return[];var c=this.$yb;null==c?(c=new Ea,c.$tb=this.$zb,this.$zb=c):this.$yb=c.next;c.$ub=-1;c.$vb=-1;c.$5J=0;c.$7J=0;c.next=null;c.$kO=null;c.$wb=!1;c.$sb=null;c.$rb=null;for(var d=c,f=0,e=0,h=b-2;e<b;)f+=(a[h]-a[e])*(a[e+1]+a[h+1]),h=e,e+=2;if(0<f)for(f=e=0;e<b;){var h=a[e],k=a[e+1],l=f++,m=this.$yb;null==m?(m=new Ea,m.$tb=this.$zb,this.$zb=m):this.$yb=m.next;m.$ub=l;m.$vb=-1;m.$5J=h;m.$7J=k;m.next=null;m.$kO=c;
m.$wb=!1;m.$sb=null;m.$rb=null;null!=c&&(c.next=m);c=m;e+=2}else for(e=b-2,f=e/2|0;0<=e;)h=a[e],k=a[e+1],l=f--,m=this.$yb,null==m?(m=new Ea,m.$tb=this.$zb,this.$zb=m):this.$yb=m.next,m.$ub=l,m.$vb=-1,m.$5J=h,m.$7J=k,m.next=null,m.$kO=c,m.$wb=!1,m.$sb=null,m.$rb=null,null!=c&&(c.next=m),c=m,e-=2;c.next=d.next;c.next.$kO=c;return this.$3b(c,160<b)},$3b:function(a,b){this.$xb=[];a=this.$8b(a);if(b&&null!=a){var c,d;this.$0b=c=a.$5J;this.$1b=d=a.$7J;for(var e=a.next;e!=a;){var g=e.$5J,h=e.$7J;g<this.$0b&&
(this.$0b=g);h<this.$1b&&(this.$1b=h);g>c&&(c=g);h>d&&(d=h);e=e.next}this.$gL=Math.max(c-this.$0b,d-this.$1b);this.$2b=!0}else this.$2b=!1;this.$_b(a);c=this.$xb;this.$xb=null;d=this.$zb;if(null!=this.$yb){for(;d!=this.$yb;)d=d.$tb;d=d.$tb}for(;null!=d;)d.next=this.$yb,this.$yb=d,d=d.$tb;return c},$8b:function(a,b){if(null==a)return a;null==b&&(b=a);for(var c=a,d;;){d=!1;var e;if(c.$wb)e=!1;else if(e=c.next,c.$5J!=e.$5J||c.$7J!=e.$7J){e=c.$kO;var g=c.next;e=0==(c.$7J-e.$7J)*(g.$5J-c.$5J)-(c.$5J-e.$5J)*
(g.$7J-c.$7J)}else e=!0;if(e){c.next.$kO=c.$kO;c.$kO.next=c.next;null!=c.$sb&&(c.$sb.$rb=c.$rb);null!=c.$rb&&(c.$rb.$sb=c.$sb);c=b=c.$kO;if(c==c.next)return null;d=!0}else c=c.next;if(!d&&c==b)break}return b},$_b:function(a,b){null==b&&(b=0);if(null!=a){0==b&&this.$2b&&this.$Kc(a);for(var c=a,d,e;a.$kO!=a.next;)if(d=a.$kO,e=a.next,this.$2b?this.$Bc(a):this.$Ac(a))this.$xb.push(d.$ub),this.$xb.push(a.$ub),this.$xb.push(e.$ub),a.next.$kO=a.$kO,a.$kO.next=a.next,null!=a.$sb&&(a.$sb.$rb=a.$rb),null!=
a.$rb&&(a.$rb.$sb=a.$sb),c=a=e.next;else if(a=e,a==c){switch(b){case 0:this.$_b(this.$8b(a),1);break;case 1:a=this.$Cc(a);this.$_b(a,2);break;case 2:this.$Dc(a)}break}}},$Ac:function(a){var b=a.$kO,c=a.next;if(0<=(a.$7J-b.$7J)*(c.$5J-a.$5J)-(a.$5J-b.$5J)*(c.$7J-a.$7J))return!1;for(var d=a.next.next;d!=a.$kO;){var e;e=b.$5J;var g=b.$7J,h=a.$5J,k=a.$7J,l=c.$5J,m=c.$7J,n=d.$5J,p=d.$7J;0<=(l-n)*(g-p)-(e-n)*(m-p)&&0<=(e-n)*(k-p)-(h-n)*(g-p)&&0<=(h-n)*(m-p)-(l-n)*(k-p)?(e=d.$kO,g=d.next,e=0<=(d.$7J-e.$7J)*
(g.$5J-d.$5J)-(d.$5J-e.$5J)*(g.$7J-d.$7J)):e=!1;if(e)return!1;d=d.next}return!0},$Bc:function(a){var b=a.$kO,c=a.next;if(0<=(a.$7J-b.$7J)*(c.$5J-a.$5J)-(a.$5J-b.$5J)*(c.$7J-a.$7J))return!1;for(var d=b.$5J>a.$5J?b.$5J>c.$5J?b.$5J:c.$5J:a.$5J>c.$5J?a.$5J:c.$5J,e=b.$7J>a.$7J?b.$7J>c.$7J?b.$7J:c.$7J:a.$7J>c.$7J?a.$7J:c.$7J,g=32767*((b.$5J<a.$5J?b.$5J<c.$5J?b.$5J:c.$5J:a.$5J<c.$5J?a.$5J:c.$5J)-this.$0b)/this.$gL|0,h=32767*((b.$7J<a.$7J?b.$7J<c.$7J?b.$7J:c.$7J:a.$7J<c.$7J?a.$7J:c.$7J)-this.$1b)/this.$gL|
0,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,g=(g|g<<1)&1431655765|((h|h<<1)&1431655765)<<1,d=32767*(d-this.$0b)/this.$gL|0,e=32767*(e-this.$1b)/this.$gL|0,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,d=(d|d<<1)&1431655765|((e|e<<1)&1431655765)<<1,e=a.$rb;null!=e&&e.$vb<=d;){if(e!=a.$kO&&e!=a.next)var h=b.$5J,k=b.$7J,l=a.$5J,m=a.$7J,n=c.$5J,
p=c.$7J,r=e.$5J,s=e.$7J,h=0<=(n-r)*(k-s)-(h-r)*(p-s)&&0<=(h-r)*(m-s)-(l-r)*(k-s)?0<=(l-r)*(p-s)-(n-r)*(m-s):!1;else h=!1;h?(h=e.$kO,k=e.next,h=0<=(e.$7J-h.$7J)*(k.$5J-e.$5J)-(e.$5J-h.$5J)*(k.$7J-e.$7J)):h=!1;if(h)return!1;e=e.$rb}for(e=a.$sb;null!=e&&e.$vb>=g;){e!=a.$kO&&e!=a.next?(d=b.$5J,h=b.$7J,k=a.$5J,l=a.$7J,m=c.$5J,n=c.$7J,p=e.$5J,r=e.$7J,d=0<=(m-p)*(h-r)-(d-p)*(n-r)&&0<=(d-p)*(l-r)-(k-p)*(h-r)?0<=(k-p)*(n-r)-(m-p)*(l-r):!1):d=!1;d?(d=e.$kO,h=e.next,d=0<=(e.$7J-d.$7J)*(h.$5J-e.$5J)-(e.$5J-d.$5J)*
(h.$7J-e.$7J)):d=!1;if(d)return!1;e=e.$sb}return!0},$Cc:function(a){for(var b=a;;){var c=b.$kO,d=b.next.next,e;e=b.next;if(0<(b.$7J-c.$7J)*(e.$5J-b.$5J)-(b.$5J-c.$5J)*(e.$7J-b.$7J)!=0<(b.$7J-c.$7J)*(d.$5J-b.$5J)-(b.$5J-c.$5J)*(d.$7J-b.$7J)&&0<(d.$7J-e.$7J)*(c.$5J-d.$5J)-(d.$5J-e.$5J)*(c.$7J-d.$7J)!=0<(d.$7J-e.$7J)*(b.$5J-d.$5J)-(d.$5J-e.$5J)*(b.$7J-d.$7J)){e=c.$kO;var g=c.next;0>(c.$7J-e.$7J)*(g.$5J-c.$5J)-(c.$5J-e.$5J)*(g.$7J-c.$7J)?(e=c.next,0<=(d.$7J-c.$7J)*(e.$5J-d.$5J)-(d.$5J-c.$5J)*(e.$7J-d.$7J)?
(e=c.$kO,e=0<=(e.$7J-c.$7J)*(d.$5J-e.$5J)-(e.$5J-c.$5J)*(d.$7J-e.$7J)):e=!1):(e=c.$kO,0>(d.$7J-c.$7J)*(e.$5J-d.$5J)-(d.$5J-c.$5J)*(e.$7J-d.$7J)?e=!0:(e=c.next,e=0>(e.$7J-c.$7J)*(d.$5J-e.$5J)-(e.$5J-c.$5J)*(d.$7J-e.$7J)))}else e=!1;e?(e=d.$kO,g=d.next,0>(d.$7J-e.$7J)*(g.$5J-d.$5J)-(d.$5J-e.$5J)*(g.$7J-d.$7J)?(e=d.next,0<=(c.$7J-d.$7J)*(e.$5J-c.$5J)-(c.$5J-d.$5J)*(e.$7J-c.$7J)?(e=d.$kO,e=0<=(e.$7J-d.$7J)*(c.$5J-e.$5J)-(e.$5J-d.$5J)*(c.$7J-e.$7J)):e=!1):(e=d.$kO,0>(c.$7J-d.$7J)*(e.$5J-c.$5J)-(c.$5J-
d.$5J)*(e.$7J-c.$7J)?e=!0:(e=d.next,e=0>(e.$7J-d.$7J)*(c.$5J-e.$5J)-(e.$5J-d.$5J)*(c.$7J-e.$7J)))):e=!1;e&&(this.$xb.push(c.$ub),this.$xb.push(b.$ub),this.$xb.push(d.$ub),b.next.$kO=b.$kO,b.$kO.next=b.next,null!=b.$sb&&(b.$sb.$rb=b.$rb),null!=b.$rb&&(b.$rb.$sb=b.$sb),a=b.next,a.next.$kO=a.$kO,a.$kO.next=a.next,null!=a.$sb&&(a.$sb.$rb=a.$rb),null!=a.$rb&&(a.$rb.$sb=a.$sb),b=a=d);b=b.next;if(b==a)break}return b},$Dc:function(a){for(var b=a;;){for(var c=b.next.next;c!=b.$kO;){if(b.$ub!=c.$ub&&this.$Gc(b,
c)){a=this.$Ec(b,c);b=this.$8b(b,b.next);a=this.$8b(a,a.next);this.$_b(b);this.$_b(a);return}c=c.next}b=b.next;if(b==a)break}},$Ec:function(a,b){var c=a.$ub,d=a.$5J,e=a.$7J,g=this.$yb;null==g?(g=new Ea,g.$tb=this.$zb,this.$zb=g):this.$yb=g.next;g.$ub=c;g.$vb=-1;g.$5J=d;g.$7J=e;g.next=null;g.$kO=null;g.$wb=!1;g.$sb=null;g.$rb=null;var c=g,d=b.$ub,e=b.$5J,g=b.$7J,h=this.$yb;null==h?(h=new Ea,h.$tb=this.$zb,this.$zb=h):this.$yb=h.next;h.$ub=d;h.$vb=-1;h.$5J=e;h.$7J=g;h.next=null;h.$kO=null;h.$wb=!1;
h.$sb=null;h.$rb=null;d=h;e=a.next;g=b.$kO;a.next=b;b.$kO=a;c.next=e;e.$kO=c;d.next=c;c.$kO=d;g.next=d;d.$kO=g;return d},$Gc:function(a,b){if(a.$5J!=b.$5J||a.$7J!=b.$7J){var c;if(a.next.$ub==b.$ub||a.$kO.$ub==b.$ub||this.$Ic(a,b))c=!1;else{c=a.$kO;var d=a.next;0>(a.$7J-c.$7J)*(d.$5J-a.$5J)-(a.$5J-c.$5J)*(d.$7J-a.$7J)?(c=a.next,0<=(b.$7J-a.$7J)*(c.$5J-b.$5J)-(b.$5J-a.$5J)*(c.$7J-b.$7J)?(c=a.$kO,c=0<=(c.$7J-a.$7J)*(b.$5J-c.$5J)-(c.$5J-a.$5J)*(b.$7J-c.$7J)):c=!1):(c=a.$kO,0>(b.$7J-a.$7J)*(c.$5J-b.$5J)-
(b.$5J-a.$5J)*(c.$7J-b.$7J)?c=!0:(c=a.next,c=0>(c.$7J-a.$7J)*(b.$5J-c.$5J)-(c.$5J-a.$5J)*(b.$7J-c.$7J)))}c?(c=b.$kO,d=b.next,0>(b.$7J-c.$7J)*(d.$5J-b.$5J)-(b.$5J-c.$5J)*(d.$7J-b.$7J)?(c=b.next,0<=(a.$7J-b.$7J)*(c.$5J-a.$5J)-(a.$5J-b.$5J)*(c.$7J-a.$7J)?(c=b.$kO,c=0<=(c.$7J-b.$7J)*(a.$5J-c.$5J)-(c.$5J-b.$5J)*(a.$7J-c.$7J)):c=!1):(c=b.$kO,0>(a.$7J-b.$7J)*(c.$5J-a.$5J)-(a.$5J-b.$5J)*(c.$7J-a.$7J)?c=!0:(c=b.next,c=0>(c.$7J-b.$7J)*(a.$5J-c.$5J)-(c.$5J-b.$5J)*(a.$7J-c.$7J)))):c=!1;return c?this.$Hc(a,b):
!1}return!0},$Hc:function(a,b){for(var c=a,d=!1,e=(a.$5J+b.$5J)/2,g=(a.$7J+b.$7J)/2;c.$7J>g!=c.next.$7J>g&&e<(c.next.$5J-c.$5J)*(g-c.$7J)/(c.next.$7J-c.$7J)+c.$5J&&(d=!d),c=c.next,c!=a;);return d},$Ic:function(a,b){for(var c=a;;){var d;c.$ub!=a.$ub&&c.next.$ub!=a.$ub&&c.$ub!=b.$ub&&c.next.$ub!=b.$ub?(d=c.next,d=0<(d.$7J-c.$7J)*(a.$5J-d.$5J)-(d.$5J-c.$5J)*(a.$7J-d.$7J)!=0<(d.$7J-c.$7J)*(b.$5J-d.$5J)-(d.$5J-c.$5J)*(b.$7J-d.$7J)?0<(b.$7J-a.$7J)*(c.$5J-b.$5J)-(b.$5J-a.$5J)*(c.$7J-b.$7J)!=0<(b.$7J-a.$7J)*
(d.$5J-b.$5J)-(b.$5J-a.$5J)*(d.$7J-b.$7J):!1):d=!1;if(d)return!0;c=c.next;if(c==a)break}return!1},$Kc:function(a){for(var b=a;;){if(0>b.$vb){var c=32767*(b.$5J-this.$0b)/this.$gL|0,d=32767*(b.$7J-this.$1b)/this.$gL|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765;b.$vb=c|d<<1}b.$sb=b.$kO;b=b.$rb=b.next;if(b==a)break}b.$sb.$rb=null;b.$sb=null;this.$Lc(b)},$Lc:function(a){for(var b,
c,d,e,g,h,k,l=1;;){b=a;e=a=null;for(g=0;null!=b;){++g;c=b;d=h=0;for(k=l;d<k&&(d++,++h,c=c.$rb,null!=c););for(k=l;0<h||0<k&&null!=c;)0==h?(d=c,c=c.$rb,--k):0==k||null==c?(d=b,b=b.$rb,--h):b.$vb<=c.$vb?(d=b,b=b.$rb,--h):(d=c,c=c.$rb,--k),null!=e?e.$rb=d:a=d,d.$sb=e,e=d;b=c}e.$rb=null;l*=2;if(!(1<g))break}return a},__class__:ld};var Qd=function(){};h["spine.Updatable"]=Qd;Qd.__name__=["spine","Updatable"];var vd=function(){};h["spine.Bone"]=vd;vd.__name__=["spine","Bone"];vd.__interfaces__=[Qd];vd.prototype=
{__class__:vd};var Hd=function(){};h["spine.BoneData"]=Hd;Hd.__name__=["spine","BoneData"];Hd.prototype={__class__:Hd};var Ud=function(){};h["spine.EventData"]=Ud;Ud.__name__=["spine","EventData"];var Id=function(){};h["spine.IkConstraintData"]=Id;Id.__name__=["spine","IkConstraintData"];Id.prototype={__class__:Id};var Jd=function(){};h["spine.PathConstraintData"]=Jd;Jd.__name__=["spine","PathConstraintData"];Jd.prototype={__class__:Jd};var Kd=function(){};h["spine.Skeleton"]=Kd;Kd.__name__=["spine",
"Skeleton"];Kd.prototype={__class__:Kd};var Vd=function(){};h["spine.SkeletonData"]=Vd;Vd.__name__=["spine","SkeletonData"];var Wd=function(){};h["spine.Skin"]=Wd;Wd.__name__=["spine","Skin"];var Ld=function(){};h["spine.SlotData"]=Ld;Ld.__name__=["spine","SlotData"];Ld.prototype={__class__:Ld};var Md=function(){};h["spine.TransformConstraintData"]=Md;Md.__name__=["spine","TransformConstraintData"];Md.prototype={__class__:Md};var Nd=function(){};h["spine.attachments.Attachment"]=Nd;Nd.__name__=["spine",
"attachments","Attachment"];var eb=function(){};h["spine.attachments.VertexAttachment"]=eb;eb.__name__=["spine","attachments","VertexAttachment"];eb.__super__=Nd;eb.prototype=p(Nd.prototype,{__class__:eb});var wd=function(){};h["spine.attachments.MeshAttachment"]=wd;wd.__name__=["spine","attachments","MeshAttachment"];wd.__super__=eb;wd.prototype=p(eb.prototype,{__class__:wd});var rc=function(){y.call(this)};h["yourproject.YourProject"]=rc;rc.__name__=["yourproject","YourProject"];rc.__super__=y;
rc.prototype=p(y.prototype,{get_entitySlot:function(){return 12},onStart:function(){this.owner.add(new fb("Home"))},__class__:rc});var Pd,Yd=0;h.Math=Math;String.prototype.__class__=h.String=String;String.__name__=["String"];h.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=h.Date=Date;Date.__name__=["Date"];var $d=h.Int={__name__:["Int"]},Zd=h.Dynamic={__name__:["Dynamic"]},Sd=h.Float=Number;Sd.__name__=["Float"];var Rd=Boolean;Rd.__ename__=["Bool"];var ae=h.Class={__name__:["Class"]},
be={},v={};ua.$vE="@State:";da.__creator={target:z.CClass(ua)};kb.__creator={x:z.CFloat,y:z.CFloat,duration:z.CFloat,ease:z.CEnum(l)};ia.count=0;D.__toStr={}.toString;F.$TF=new Kc;ya.$vF=new ya;T.$AG=new Ia(null,null);s.root=new F;s.uncaughtError=new P;s.lowMemoryWarning=new qa;s.hidden=new S(!1);s.volume=new C(1);s.$FG=ya.$vF;wb.logger=new Nc(s.$FG.createLogHandler("2DKit"));ka.$eG=null!=(new XMLHttpRequest).withCredentials;wa.__creator={spawned:z.CBool,onStarted:z.CString,onUpdated:z.CString,onStopped:z.CString};
zb.__creator={following:z.CClass(F),zoom:z.CClass(C),active:z.CBool,offsetX:z.CFloat,offsetY:z.CFloat};u.$IH=new ha;u.$JH=new X;u.$KH=new Cb;$.ENTITY_SLOT=3;$.$kH=new ea;la.$JL=new Zc;aa.$JL=new $c;V.$JL=new ad;I.__meta__={obj:{injected:[{scenes:{Home:["bootstrap"]},maxHeight:720,scaleMode:1,height:660,id:"com.yourdomain.yourproject",orientation:"landscape",fullscreen:!0,maxWidth:1320,assets:{bootstrap:[{bytes:867,name:"Home.scene.__gz.txt"},{bytes:1216,name:"particles/spark.png"},{bytes:10445,name:"fonts/Arial-hd.fnt.__gz.txt"},
{bytes:1980,name:"particles/explode.pex.__gz.txt"},{bytes:49007,name:"fonts/Arial-hd.png"},{bytes:4023,name:"images/logo152x152.png"},{bytes:5223,name:"sounds/Explode.mp3"},{bytes:28999,name:"movies/321_countdown/atlas0.png"},{bytes:2472,name:"movies/321_countdown/library.json"},{bytes:11533,name:"ui/buttons/Play.png"},{bytes:6601,name:"sounds/Explode.ogg"}],_2DKitOrientation:[{bytes:3720,name:"RotateDevice.png"}]},width:1024}]}};B.$EP=0;B.$FP=0;w.$vP=["webkit","moz","ms"];w.$wP=function(a){a=window.navigator.userAgent;
return(new xa("(iPhone|iPod|iPad)","")).match(a)?!0:(new xa("\\bSafari/","")).match(a)&&(new xa("\\bVersion/","")).match(a)?2<window.navigator.maxTouchPoints:!1}(this);x.$lQ=!0;ga.$JH=new X;R.$nb=0;R.$ob=1;R.$pb=2;Fd.$WL()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
